<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 21 Insights From Consumer Surveys | Economic Data Analysis</title>
  <meta name="description" content="Chapter 21 Insights From Consumer Surveys | Economic Data Analysis" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 21 Insights From Consumer Surveys | Economic Data Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://www.julianfludwig.com/eda/files/bookcover.png" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 21 Insights From Consumer Surveys | Economic Data Analysis" />
  
  
  <meta name="twitter:image" content="https://www.julianfludwig.com/eda/files/bookcover.png" />



<meta name="date" content="2024-07-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="why-subjective-information-matters.html"/>
<link rel="next" href="insights-from-real-time-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html">Economic Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><em>Preface</em></a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#author"><i class="fa fa-check"></i>Author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-navigation"><i class="fa fa-check"></i>Book Navigation</a></li>
</ul></li>
<li class="part"><span><b>Part I</b></span></li>
<li class="chapter" data-level="" data-path="part-i.html"><a href="part-i.html"><i class="fa fa-check"></i><em>Part I: Introduction to R</em></a></li>
<li class="chapter" data-level="1" data-path="software-overview.html"><a href="software-overview.html"><i class="fa fa-check"></i><b>1</b> Software Overview</a></li>
<li class="chapter" data-level="2" data-path="software-installation.html"><a href="software-installation.html"><i class="fa fa-check"></i><b>2</b> Software Installation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="software-installation.html"><a href="software-installation.html#install-r"><i class="fa fa-check"></i><b>2.1</b> Install R</a></li>
<li class="chapter" data-level="2.2" data-path="software-installation.html"><a href="software-installation.html#install-rstudio"><i class="fa fa-check"></i><b>2.2</b> Install RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="software-installation.html"><a href="software-installation.html#install-r-markdown"><i class="fa fa-check"></i><b>2.3</b> Install R Markdown</a></li>
<li class="chapter" data-level="2.4" data-path="software-installation.html"><a href="software-installation.html#install-latex"><i class="fa fa-check"></i><b>2.4</b> Install LaTeX</a></li>
<li class="chapter" data-level="2.5" data-path="software-installation.html"><a href="software-installation.html#install-r-packages"><i class="fa fa-check"></i><b>2.5</b> Install R Packages</a></li>
<li class="chapter" data-level="2.6" data-path="software-installation.html"><a href="software-installation.html#step-test"><i class="fa fa-check"></i><b>2.6</b> 18-Step Test</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basics.html"><a href="r-basics.html#rstudio-interface"><i class="fa fa-check"></i><b>3.1</b> RStudio Interface</a></li>
<li class="chapter" data-level="3.2" data-path="r-basics.html"><a href="r-basics.html#basic-operations"><i class="fa fa-check"></i><b>3.2</b> Basic Operations</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-basics.html"><a href="r-basics.html#arithmetic-operations"><i class="fa fa-check"></i><b>3.2.1</b> Arithmetic Operations</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-basics.html"><a href="r-basics.html#logical-operations"><i class="fa fa-check"></i><b>3.2.2</b> Logical Operations</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-basics.html"><a href="r-basics.html#string-operations"><i class="fa fa-check"></i><b>3.2.3</b> String Operations</a></li>
<li class="chapter" data-level="3.2.4" data-path="r-basics.html"><a href="r-basics.html#variables"><i class="fa fa-check"></i><b>3.2.4</b> Variables</a></li>
<li class="chapter" data-level="3.2.5" data-path="r-basics.html"><a href="r-basics.html#data-types"><i class="fa fa-check"></i><b>3.2.5</b> Data Types</a></li>
<li class="chapter" data-level="3.2.6" data-path="r-basics.html"><a href="r-basics.html#data-structures"><i class="fa fa-check"></i><b>3.2.6</b> Data Structures</a></li>
<li class="chapter" data-level="3.2.7" data-path="r-basics.html"><a href="r-basics.html#vector-operations"><i class="fa fa-check"></i><b>3.2.7</b> Vector Operations</a></li>
<li class="chapter" data-level="3.2.8" data-path="r-basics.html"><a href="r-basics.html#missing-values"><i class="fa fa-check"></i><b>3.2.8</b> Missing Values</a></li>
<li class="chapter" data-level="3.2.9" data-path="r-basics.html"><a href="r-basics.html#attributes"><i class="fa fa-check"></i><b>3.2.9</b> Attributes</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-basics.html"><a href="r-basics.html#dates-and-times"><i class="fa fa-check"></i><b>3.3</b> Dates and Times</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-basics.html"><a href="r-basics.html#posixct"><i class="fa fa-check"></i><b>3.3.1</b> Time Class (<code>POSIXct</code>)</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-basics.html"><a href="r-basics.html#date"><i class="fa fa-check"></i><b>3.3.2</b> Date Class (<code>Date</code>)</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-basics.html"><a href="r-basics.html#custom-date-and-time-formats"><i class="fa fa-check"></i><b>3.3.3</b> Custom Date and Time Formats</a></li>
<li class="chapter" data-level="3.3.4" data-path="r-basics.html"><a href="r-basics.html#operations-with-dates-and-times"><i class="fa fa-check"></i><b>3.3.4</b> Operations with Dates and Times</a></li>
<li class="chapter" data-level="3.3.5" data-path="r-basics.html"><a href="r-basics.html#current-date-and-time"><i class="fa fa-check"></i><b>3.3.5</b> Current Date and Time</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-basics.html"><a href="r-basics.html#graphs"><i class="fa fa-check"></i><b>3.4</b> Graphs</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-basics.html"><a href="r-basics.html#scatter-plot"><i class="fa fa-check"></i><b>3.4.1</b> Scatter Plot</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-basics.html"><a href="r-basics.html#line-graph"><i class="fa fa-check"></i><b>3.4.2</b> Line Graph</a></li>
<li class="chapter" data-level="3.4.3" data-path="r-basics.html"><a href="r-basics.html#bar-chart"><i class="fa fa-check"></i><b>3.4.3</b> Bar Chart</a></li>
<li class="chapter" data-level="3.4.4" data-path="r-basics.html"><a href="r-basics.html#frequency-bar-chart"><i class="fa fa-check"></i><b>3.4.4</b> Frequency Bar Chart</a></li>
<li class="chapter" data-level="3.4.5" data-path="r-basics.html"><a href="r-basics.html#histogram"><i class="fa fa-check"></i><b>3.4.5</b> Histogram</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="r-basics.html"><a href="r-basics.html#functions"><i class="fa fa-check"></i><b>3.5</b> Functions</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="r-basics.html"><a href="r-basics.html#how-functions-operate"><i class="fa fa-check"></i><b>3.5.1</b> How Functions Operate</a></li>
<li class="chapter" data-level="3.5.2" data-path="r-basics.html"><a href="r-basics.html#infix-operators"><i class="fa fa-check"></i><b>3.5.2</b> Infix Operators</a></li>
<li class="chapter" data-level="3.5.3" data-path="r-basics.html"><a href="r-basics.html#control-flow-operators"><i class="fa fa-check"></i><b>3.5.3</b> Control-Flow Operators</a></li>
<li class="chapter" data-level="3.5.4" data-path="r-basics.html"><a href="r-basics.html#help-and-documentation"><i class="fa fa-check"></i><b>3.5.4</b> Help and Documentation</a></li>
<li class="chapter" data-level="3.5.5" data-path="r-basics.html"><a href="r-basics.html#default-inputs"><i class="fa fa-check"></i><b>3.5.5</b> Default Inputs</a></li>
<li class="chapter" data-level="3.5.6" data-path="r-basics.html"><a href="r-basics.html#custom-functions"><i class="fa fa-check"></i><b>3.5.6</b> Custom Functions</a></li>
<li class="chapter" data-level="3.5.7" data-path="r-basics.html"><a href="r-basics.html#functions-from-r-packages"><i class="fa fa-check"></i><b>3.5.7</b> Functions from R Packages</a></li>
<li class="chapter" data-level="3.5.8" data-path="r-basics.html"><a href="r-basics.html#indirect-functions"><i class="fa fa-check"></i><b>3.5.8</b> Indirect Functions</a></li>
<li class="chapter" data-level="3.5.9" data-path="r-basics.html"><a href="r-basics.html#apply-functions"><i class="fa fa-check"></i><b>3.5.9</b> Apply Functions</a></li>
<li class="chapter" data-level="3.5.10" data-path="r-basics.html"><a href="r-basics.html#advanced-higher-order-functions"><i class="fa fa-check"></i><b>3.5.10</b> Advanced Higher-Order Functions</a></li>
<li class="chapter" data-level="3.5.11" data-path="r-basics.html"><a href="r-basics.html#wrapper-functions"><i class="fa fa-check"></i><b>3.5.11</b> Wrapper Functions</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="r-basics.html"><a href="r-basics.html#r-packages"><i class="fa fa-check"></i><b>3.6</b> R Packages</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="r-basics.html"><a href="r-basics.html#cran"><i class="fa fa-check"></i><b>3.6.1</b> CRAN</a></li>
<li class="chapter" data-level="3.6.2" data-path="r-basics.html"><a href="r-basics.html#load-and-update-packages"><i class="fa fa-check"></i><b>3.6.2</b> Load and Update Packages</a></li>
<li class="chapter" data-level="3.6.3" data-path="r-basics.html"><a href="r-basics.html#noteworthy-packages"><i class="fa fa-check"></i><b>3.6.3</b> Noteworthy Packages</a></li>
<li class="chapter" data-level="3.6.4" data-path="r-basics.html"><a href="r-basics.html#package-documentation"><i class="fa fa-check"></i><b>3.6.4</b> Package Documentation</a></li>
<li class="chapter" data-level="3.6.5" data-path="r-basics.html"><a href="r-basics.html#function-name-conflicts"><i class="fa fa-check"></i><b>3.6.5</b> Function Name Conflicts</a></li>
<li class="chapter" data-level="3.6.6" data-path="r-basics.html"><a href="r-basics.html#non-exported-functions"><i class="fa fa-check"></i><b>3.6.6</b> Non-Exported Functions</a></li>
<li class="chapter" data-level="3.6.7" data-path="r-basics.html"><a href="r-basics.html#the-tidyverse"><i class="fa fa-check"></i><b>3.6.7</b> The Tidyverse</a></li>
<li class="chapter" data-level="3.6.8" data-path="r-basics.html"><a href="r-basics.html#citing-r-packages"><i class="fa fa-check"></i><b>3.6.8</b> Citing R Packages</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="r-basics.html"><a href="r-basics.html#file-management"><i class="fa fa-check"></i><b>3.7</b> File Management</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="r-basics.html"><a href="r-basics.html#find-folder-path"><i class="fa fa-check"></i><b>3.7.1</b> Find Folder Path</a></li>
<li class="chapter" data-level="3.7.2" data-path="r-basics.html"><a href="r-basics.html#set-working-directory"><i class="fa fa-check"></i><b>3.7.2</b> Set Working Directory</a></li>
<li class="chapter" data-level="3.7.3" data-path="r-basics.html"><a href="r-basics.html#download-files"><i class="fa fa-check"></i><b>3.7.3</b> Download Files</a></li>
<li class="chapter" data-level="3.7.4" data-path="r-basics.html"><a href="r-basics.html#import-files"><i class="fa fa-check"></i><b>3.7.4</b> Import Files</a></li>
<li class="chapter" data-level="3.7.5" data-path="r-basics.html"><a href="r-basics.html#export-files"><i class="fa fa-check"></i><b>3.7.5</b> Export Files</a></li>
<li class="chapter" data-level="3.7.6" data-path="r-basics.html"><a href="r-basics.html#delete-files"><i class="fa fa-check"></i><b>3.7.6</b> Delete Files</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="r-basics.html"><a href="r-basics.html#optimal-workflow"><i class="fa fa-check"></i><b>3.8</b> Optimal Workflow</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="r-basics.html"><a href="r-basics.html#execute-as-you-write"><i class="fa fa-check"></i><b>3.8.1</b> Execute as You Write</a></li>
<li class="chapter" data-level="3.8.2" data-path="r-basics.html"><a href="r-basics.html#key-shortcuts"><i class="fa fa-check"></i><b>3.8.2</b> Key Shortcuts</a></li>
<li class="chapter" data-level="3.8.3" data-path="r-basics.html"><a href="r-basics.html#separate-window-for-r-script"><i class="fa fa-check"></i><b>3.8.3</b> Separate Window for R Script</a></li>
<li class="chapter" data-level="3.8.4" data-path="r-basics.html"><a href="r-basics.html#conclusion"><i class="fa fa-check"></i><b>3.8.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html"><i class="fa fa-check"></i><b>4</b> Data Structures in R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#scalar"><i class="fa fa-check"></i><b>4.1</b> Scalar</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#vector"><i class="fa fa-check"></i><b>4.2</b> Vector</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#matrix"><i class="fa fa-check"></i><b>4.3</b> Matrix (<code>matrix</code>)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#create-a-matrix"><i class="fa fa-check"></i><b>4.3.1</b> Create a Matrix</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#inspect-a-matrix"><i class="fa fa-check"></i><b>4.3.2</b> Inspect a Matrix</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#select-and-modify-matrix"><i class="fa fa-check"></i><b>4.3.3</b> Select and Modify</a></li>
<li class="chapter" data-level="4.3.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#add-labels-matrix"><i class="fa fa-check"></i><b>4.3.4</b> Add Labels</a></li>
<li class="chapter" data-level="4.3.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#handle-missing-values-matrix"><i class="fa fa-check"></i><b>4.3.5</b> Handle Missing Values</a></li>
<li class="chapter" data-level="4.3.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#element-wise-operations"><i class="fa fa-check"></i><b>4.3.6</b> Element-Wise Operations</a></li>
<li class="chapter" data-level="4.3.7" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#linear-algebra-operations"><i class="fa fa-check"></i><b>4.3.7</b> Linear Algebra Operations</a></li>
<li class="chapter" data-level="4.3.8" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#combine-matrices"><i class="fa fa-check"></i><b>4.3.8</b> Combine Matrices</a></li>
<li class="chapter" data-level="4.3.9" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#apply-family-matrix"><i class="fa fa-check"></i><b>4.3.9</b> Apply Family</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#list"><i class="fa fa-check"></i><b>4.4</b> List (<code>list</code>)</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#create-a-list"><i class="fa fa-check"></i><b>4.4.1</b> Create a List</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#inspect-a-list"><i class="fa fa-check"></i><b>4.4.2</b> Inspect a List</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#select-and-modify-list"><i class="fa fa-check"></i><b>4.4.3</b> Select and Modify</a></li>
<li class="chapter" data-level="4.4.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#add-labels-list"><i class="fa fa-check"></i><b>4.4.4</b> Add Labels</a></li>
<li class="chapter" data-level="4.4.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#combine-lists"><i class="fa fa-check"></i><b>4.4.5</b> Combine Lists</a></li>
<li class="chapter" data-level="4.4.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#apply-family-list"><i class="fa fa-check"></i><b>4.4.6</b> Apply Family</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#data.frame"><i class="fa fa-check"></i><b>4.5</b> Data Frame (<code>data.frame</code>)</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#create-a-data-frame"><i class="fa fa-check"></i><b>4.5.1</b> Create a Data Frame</a></li>
<li class="chapter" data-level="4.5.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#inspect-a-data-frame"><i class="fa fa-check"></i><b>4.5.2</b> Inspect a Data Frame</a></li>
<li class="chapter" data-level="4.5.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#select-and-modify-data.frame"><i class="fa fa-check"></i><b>4.5.3</b> Select and Modify</a></li>
<li class="chapter" data-level="4.5.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#add-labels-data.frame"><i class="fa fa-check"></i><b>4.5.4</b> Add Labels</a></li>
<li class="chapter" data-level="4.5.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#handle-missing-values-data.frame"><i class="fa fa-check"></i><b>4.5.5</b> Handle Missing Values</a></li>
<li class="chapter" data-level="4.5.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#combine-data-frames"><i class="fa fa-check"></i><b>4.5.6</b> Combine Data Frames</a></li>
<li class="chapter" data-level="4.5.7" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#apply-family-data.frame"><i class="fa fa-check"></i><b>4.5.7</b> Apply Family</a></li>
<li class="chapter" data-level="4.5.8" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#reshape-data-frames"><i class="fa fa-check"></i><b>4.5.8</b> Reshape Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#tibble"><i class="fa fa-check"></i><b>4.6</b> Tibble (<code>tbl_df</code>)</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#create-a-tibble"><i class="fa fa-check"></i><b>4.6.1</b> Create a Tibble</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#inspect-a-tibble"><i class="fa fa-check"></i><b>4.6.2</b> Inspect a Tibble</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#select-and-modify-tibble"><i class="fa fa-check"></i><b>4.6.3</b> Select and Modify</a></li>
<li class="chapter" data-level="4.6.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#add-labels-tibble"><i class="fa fa-check"></i><b>4.6.4</b> Add Labels</a></li>
<li class="chapter" data-level="4.6.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#handle-missing-values-tibble"><i class="fa fa-check"></i><b>4.6.5</b> Handle Missing Values</a></li>
<li class="chapter" data-level="4.6.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#combine-tibbles"><i class="fa fa-check"></i><b>4.6.6</b> Combine Tibbles</a></li>
<li class="chapter" data-level="4.6.7" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#apply-family-tibble"><i class="fa fa-check"></i><b>4.6.7</b> Apply Family</a></li>
<li class="chapter" data-level="4.6.8" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#reshape-tibbles"><i class="fa fa-check"></i><b>4.6.8</b> Reshape Tibbles</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#data.table"><i class="fa fa-check"></i><b>4.7</b> Data Table (<code>data.table</code>)</a></li>
<li class="chapter" data-level="4.8" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#xts"><i class="fa fa-check"></i><b>4.8</b> Extensible Time Series (<code>xts</code>)</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#create-an-xts-object"><i class="fa fa-check"></i><b>4.8.1</b> Create an <code>xts</code> Object</a></li>
<li class="chapter" data-level="4.8.2" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#inspect-an-xts-object"><i class="fa fa-check"></i><b>4.8.2</b> Inspect an <code>xts</code> Object</a></li>
<li class="chapter" data-level="4.8.3" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#select-and-modify-xts"><i class="fa fa-check"></i><b>4.8.3</b> Select and Modify</a></li>
<li class="chapter" data-level="4.8.4" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#add-labels-xts"><i class="fa fa-check"></i><b>4.8.4</b> Add Labels</a></li>
<li class="chapter" data-level="4.8.5" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#handle-missing-values-xts"><i class="fa fa-check"></i><b>4.8.5</b> Handle Missing Values</a></li>
<li class="chapter" data-level="4.8.6" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#combine-xts-objects"><i class="fa fa-check"></i><b>4.8.6</b> Combine xts Objects</a></li>
<li class="chapter" data-level="4.8.7" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#time-series-transformations"><i class="fa fa-check"></i><b>4.8.7</b> Time Series Transformations</a></li>
<li class="chapter" data-level="4.8.8" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#apply-family-xts"><i class="fa fa-check"></i><b>4.8.8</b> Apply Family</a></li>
<li class="chapter" data-level="4.8.9" data-path="data-structures-in-r.html"><a href="data-structures-in-r.html#resources-xts"><i class="fa fa-check"></i><b>4.8.9</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="process-data-in-r.html"><a href="process-data-in-r.html"><i class="fa fa-check"></i><b>5</b> Process Data in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-bitcoin-price-data"><i class="fa fa-check"></i><b>5.1</b> Process Bitcoin Price Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="process-data-in-r.html"><a href="process-data-in-r.html#download-dsv-file"><i class="fa fa-check"></i><b>5.1.1</b> Download DSV File</a></li>
<li class="chapter" data-level="5.1.2" data-path="process-data-in-r.html"><a href="process-data-in-r.html#import-dsv-file"><i class="fa fa-check"></i><b>5.1.2</b> Import DSV File</a></li>
<li class="chapter" data-level="5.1.3" data-path="process-data-in-r.html"><a href="process-data-in-r.html#inspect-data"><i class="fa fa-check"></i><b>5.1.3</b> Inspect Data</a></li>
<li class="chapter" data-level="5.1.4" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-bitcoin-price-data-clean-data"><i class="fa fa-check"></i><b>5.1.4</b> Clean Data</a></li>
<li class="chapter" data-level="5.1.5" data-path="process-data-in-r.html"><a href="process-data-in-r.html#visualize-data"><i class="fa fa-check"></i><b>5.1.5</b> Visualize Data</a></li>
<li class="chapter" data-level="5.1.6" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-bitcoin-price-data-export-data"><i class="fa fa-check"></i><b>5.1.6</b> Export Data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-stock-and-oil-prices"><i class="fa fa-check"></i><b>5.2</b> Process Stock and Oil Prices</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="process-data-in-r.html"><a href="process-data-in-r.html#web-api"><i class="fa fa-check"></i><b>5.2.1</b> Web API</a></li>
<li class="chapter" data-level="5.2.2" data-path="process-data-in-r.html"><a href="process-data-in-r.html#download-via-quantmod"><i class="fa fa-check"></i><b>5.2.2</b> Download via <code>quantmod</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="process-data-in-r.html"><a href="process-data-in-r.html#download-via-quandl"><i class="fa fa-check"></i><b>5.2.3</b> Download via <code>Quandl</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="process-data-in-r.html"><a href="process-data-in-r.html#clean-data"><i class="fa fa-check"></i><b>5.2.4</b> Clean Data</a></li>
<li class="chapter" data-level="5.2.5" data-path="process-data-in-r.html"><a href="process-data-in-r.html#plot-apple-stock-prices"><i class="fa fa-check"></i><b>5.2.5</b> Plot Apple Stock Prices</a></li>
<li class="chapter" data-level="5.2.6" data-path="process-data-in-r.html"><a href="process-data-in-r.html#plot-crude-oil-prices"><i class="fa fa-check"></i><b>5.2.6</b> Plot Crude Oil Prices</a></li>
<li class="chapter" data-level="5.2.7" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-stock-and-oil-prices-merge-data"><i class="fa fa-check"></i><b>5.2.7</b> Merge Data</a></li>
<li class="chapter" data-level="5.2.8" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-stock-and-oil-prices-transform-data"><i class="fa fa-check"></i><b>5.2.8</b> Transform Data</a></li>
<li class="chapter" data-level="5.2.9" data-path="process-data-in-r.html"><a href="process-data-in-r.html#tabulate-key-statistics"><i class="fa fa-check"></i><b>5.2.9</b> Tabulate Key Statistics</a></li>
<li class="chapter" data-level="5.2.10" data-path="process-data-in-r.html"><a href="process-data-in-r.html#visualize-correlations"><i class="fa fa-check"></i><b>5.2.10</b> Visualize Correlations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data"><i class="fa fa-check"></i><b>5.3</b> Process House Price Data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="process-data-in-r.html"><a href="process-data-in-r.html#download-excel-workbook"><i class="fa fa-check"></i><b>5.3.1</b> Download Excel Workbook</a></li>
<li class="chapter" data-level="5.3.2" data-path="process-data-in-r.html"><a href="process-data-in-r.html#import-excel-workbook"><i class="fa fa-check"></i><b>5.3.2</b> Import Excel Workbook</a></li>
<li class="chapter" data-level="5.3.3" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data-inspect-and-clean-data"><i class="fa fa-check"></i><b>5.3.3</b> Inspect and Clean Data</a></li>
<li class="chapter" data-level="5.3.4" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data-reshape-data"><i class="fa fa-check"></i><b>5.3.4</b> Reshape Data</a></li>
<li class="chapter" data-level="5.3.5" data-path="process-data-in-r.html"><a href="process-data-in-r.html#layered-line-graphs"><i class="fa fa-check"></i><b>5.3.5</b> Layered Line Graphs</a></li>
<li class="chapter" data-level="5.3.6" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data-merge-data"><i class="fa fa-check"></i><b>5.3.6</b> Merge Data</a></li>
<li class="chapter" data-level="5.3.7" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data-transform-data"><i class="fa fa-check"></i><b>5.3.7</b> Transform Data</a></li>
<li class="chapter" data-level="5.3.8" data-path="process-data-in-r.html"><a href="process-data-in-r.html#stationary-data"><i class="fa fa-check"></i><b>5.3.8</b> Stationary Data</a></li>
<li class="chapter" data-level="5.3.9" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-house-price-data-export-data"><i class="fa fa-check"></i><b>5.3.9</b> Export Data</a></li>
<li class="chapter" data-level="5.3.10" data-path="process-data-in-r.html"><a href="process-data-in-r.html#organize-data"><i class="fa fa-check"></i><b>5.3.10</b> Organize Data</a></li>
<li class="chapter" data-level="5.3.11" data-path="process-data-in-r.html"><a href="process-data-in-r.html#univariate-statistics"><i class="fa fa-check"></i><b>5.3.11</b> Univariate Statistics</a></li>
<li class="chapter" data-level="5.3.12" data-path="process-data-in-r.html"><a href="process-data-in-r.html#associative-statistics"><i class="fa fa-check"></i><b>5.3.12</b> Associative Statistics</a></li>
<li class="chapter" data-level="5.3.13" data-path="process-data-in-r.html"><a href="process-data-in-r.html#layered-scatter-plots"><i class="fa fa-check"></i><b>5.3.13</b> Layered Scatter Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="process-data-in-r.html"><a href="process-data-in-r.html#process-data-resources"><i class="fa fa-check"></i><b>5.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>6</b> Write Reports with R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#create-an-r-markdown-document"><i class="fa fa-check"></i><b>6.1</b> Create an R Markdown Document</a></li>
<li class="chapter" data-level="6.2" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>6.2</b> YAML Header</a></li>
<li class="chapter" data-level="6.3" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#markdown-syntax"><i class="fa fa-check"></i><b>6.3</b> Markdown Syntax</a></li>
<li class="chapter" data-level="6.4" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#r-chunks"><i class="fa fa-check"></i><b>6.4</b> R Chunks</a></li>
<li class="chapter" data-level="6.5" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#embed-r-variables-into-text"><i class="fa fa-check"></i><b>6.5</b> Embed R Variables into Text</a></li>
<li class="chapter" data-level="6.6" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#latex-syntax-for-math"><i class="fa fa-check"></i><b>6.6</b> LaTeX Syntax for Math</a></li>
<li class="chapter" data-level="6.7" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#print-tables"><i class="fa fa-check"></i><b>6.7</b> Print Tables</a></li>
<li class="chapter" data-level="6.8" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#referencing"><i class="fa fa-check"></i><b>6.8</b> Referencing</a>
<ul>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#setting-up-bookdown"><i class="fa fa-check"></i>Setting Up <code>bookdown</code></a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#referencing-equations"><i class="fa fa-check"></i>Referencing Equations</a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#referencing-tables"><i class="fa fa-check"></i>Referencing Tables</a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#referencing-figures"><i class="fa fa-check"></i>Referencing Figures</a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#referencing-sections"><i class="fa fa-check"></i>Referencing Sections</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#escape-characters"><i class="fa fa-check"></i><b>6.9</b> Escape Characters</a>
<ul>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#escape-in-markdown-text"><i class="fa fa-check"></i>Escape in Markdown Text</a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#escape-in-code-chunks"><i class="fa fa-check"></i>Escape in Code Chunks</a></li>
<li class="chapter" data-level="" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#escaped-characters"><i class="fa fa-check"></i>Escaped Characters</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="write-reports-with-r-markdown.html"><a href="write-reports-with-r-markdown.html#summary-and-resources"><i class="fa fa-check"></i><b>6.10</b> Summary and Resources</a></li>
</ul></li>
<li class="part"><span><b>Part II</b></span></li>
<li class="chapter" data-level="" data-path="part-ii.html"><a href="part-ii.html"><i class="fa fa-check"></i><em>Part II: Measurement in Economics</em></a></li>
<li class="chapter" data-level="7" data-path="economic-data-sources.html"><a href="economic-data-sources.html"><i class="fa fa-check"></i><b>7</b> Economic Data Sources</a>
<ul>
<li class="chapter" data-level="7.1" data-path="economic-data-sources.html"><a href="economic-data-sources.html#types-of-indicators"><i class="fa fa-check"></i><b>7.1</b> Types of Indicators</a></li>
<li class="chapter" data-level="7.2" data-path="economic-data-sources.html"><a href="economic-data-sources.html#data-source"><i class="fa fa-check"></i><b>7.2</b> Data Source</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="economic-data-sources.html"><a href="economic-data-sources.html#data-supplier-vs.-distributor"><i class="fa fa-check"></i><b>7.2.1</b> Data Supplier vs. Distributor</a></li>
<li class="chapter" data-level="7.2.2" data-path="economic-data-sources.html"><a href="economic-data-sources.html#bureau-of-economic-analysis-bea"><i class="fa fa-check"></i><b>7.2.2</b> Bureau of Economic Analysis (BEA)</a></li>
<li class="chapter" data-level="7.2.3" data-path="economic-data-sources.html"><a href="economic-data-sources.html#u.s.-census-bureau"><i class="fa fa-check"></i><b>7.2.3</b> U.S. Census Bureau</a></li>
<li class="chapter" data-level="7.2.4" data-path="economic-data-sources.html"><a href="economic-data-sources.html#bureau-of-labor-statistics-bls"><i class="fa fa-check"></i><b>7.2.4</b> Bureau of Labor Statistics (BLS)</a></li>
<li class="chapter" data-level="7.2.5" data-path="economic-data-sources.html"><a href="economic-data-sources.html#federal-reserve-board-of-governors"><i class="fa fa-check"></i><b>7.2.5</b> Federal Reserve Board of Governors</a></li>
<li class="chapter" data-level="7.2.6" data-path="economic-data-sources.html"><a href="economic-data-sources.html#u.s.-department-of-the-treasury"><i class="fa fa-check"></i><b>7.2.6</b> U.S. Department of the Treasury</a></li>
<li class="chapter" data-level="7.2.7" data-path="economic-data-sources.html"><a href="economic-data-sources.html#financial-market-exchanges"><i class="fa fa-check"></i><b>7.2.7</b> Financial Market Exchanges</a></li>
<li class="chapter" data-level="7.2.8" data-path="economic-data-sources.html"><a href="economic-data-sources.html#federal-reserve-economic-data-fred"><i class="fa fa-check"></i><b>7.2.8</b> Federal Reserve Economic Data (FRED)</a></li>
<li class="chapter" data-level="7.2.9" data-path="economic-data-sources.html"><a href="economic-data-sources.html#u.s.-department-of-agriculture-economic-research-service-ers"><i class="fa fa-check"></i><b>7.2.9</b> U.S. Department of Agriculture Economic Research Service (ERS)</a></li>
<li class="chapter" data-level="7.2.10" data-path="economic-data-sources.html"><a href="economic-data-sources.html#bloomberg"><i class="fa fa-check"></i><b>7.2.10</b> Bloomberg</a></li>
<li class="chapter" data-level="7.2.11" data-path="economic-data-sources.html"><a href="economic-data-sources.html#yahoo-finance"><i class="fa fa-check"></i><b>7.2.11</b> Yahoo Finance</a></li>
<li class="chapter" data-level="7.2.12" data-path="economic-data-sources.html"><a href="economic-data-sources.html#conclusion-1"><i class="fa fa-check"></i><b>7.2.12</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="business-accounting.html"><a href="business-accounting.html"><i class="fa fa-check"></i><b>8</b> Business Accounting</a>
<ul>
<li class="chapter" data-level="8.1" data-path="business-accounting.html"><a href="business-accounting.html#accounting-standards"><i class="fa fa-check"></i><b>8.1</b> Accounting Standards</a></li>
<li class="chapter" data-level="8.2" data-path="business-accounting.html"><a href="business-accounting.html#accounting-equation"><i class="fa fa-check"></i><b>8.2</b> Accounting Equation</a></li>
<li class="chapter" data-level="8.3" data-path="business-accounting.html"><a href="business-accounting.html#balance-sheet"><i class="fa fa-check"></i><b>8.3</b> Balance Sheet</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="business-accounting.html"><a href="business-accounting.html#assets"><i class="fa fa-check"></i><b>8.3.1</b> Assets</a></li>
<li class="chapter" data-level="8.3.2" data-path="business-accounting.html"><a href="business-accounting.html#liabilities"><i class="fa fa-check"></i><b>8.3.2</b> Liabilities</a></li>
<li class="chapter" data-level="8.3.3" data-path="business-accounting.html"><a href="business-accounting.html#equity"><i class="fa fa-check"></i><b>8.3.3</b> Equity</a></li>
<li class="chapter" data-level="8.3.4" data-path="business-accounting.html"><a href="business-accounting.html#transactions"><i class="fa fa-check"></i><b>8.3.4</b> Transactions</a></li>
<li class="chapter" data-level="8.3.5" data-path="business-accounting.html"><a href="business-accounting.html#book-vs.-market-value"><i class="fa fa-check"></i><b>8.3.5</b> Book vs. Market Value</a></li>
<li class="chapter" data-level="8.3.6" data-path="business-accounting.html"><a href="business-accounting.html#public-company"><i class="fa fa-check"></i><b>8.3.6</b> Public Company</a></li>
<li class="chapter" data-level="8.3.7" data-path="business-accounting.html"><a href="business-accounting.html#financial-firm"><i class="fa fa-check"></i><b>8.3.7</b> Financial Firm</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="business-accounting.html"><a href="business-accounting.html#ledger"><i class="fa fa-check"></i><b>8.4</b> Ledger</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="business-accounting.html"><a href="business-accounting.html#ledger-accounts"><i class="fa fa-check"></i><b>8.4.1</b> Ledger Accounts</a></li>
<li class="chapter" data-level="8.4.2" data-path="business-accounting.html"><a href="business-accounting.html#t-accounts"><i class="fa fa-check"></i><b>8.4.2</b> T-Accounts</a></li>
<li class="chapter" data-level="8.4.3" data-path="business-accounting.html"><a href="business-accounting.html#basis-for-financial-statements"><i class="fa fa-check"></i><b>8.4.3</b> Basis for Financial Statements</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="business-accounting.html"><a href="business-accounting.html#income-statement"><i class="fa fa-check"></i><b>8.5</b> Income Statement</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="business-accounting.html"><a href="business-accounting.html#stock-vs.-flow-variables"><i class="fa fa-check"></i><b>8.5.1</b> Stock vs. Flow Variables</a></li>
<li class="chapter" data-level="8.5.2" data-path="business-accounting.html"><a href="business-accounting.html#profit-equation"><i class="fa fa-check"></i><b>8.5.2</b> Profit Equation</a></li>
<li class="chapter" data-level="8.5.3" data-path="business-accounting.html"><a href="business-accounting.html#gross-profit"><i class="fa fa-check"></i><b>8.5.3</b> Gross Profit</a></li>
<li class="chapter" data-level="8.5.4" data-path="business-accounting.html"><a href="business-accounting.html#operating-income-ebit"><i class="fa fa-check"></i><b>8.5.4</b> Operating Income (EBIT)</a></li>
<li class="chapter" data-level="8.5.5" data-path="business-accounting.html"><a href="business-accounting.html#net-income-before-taxes-ebt"><i class="fa fa-check"></i><b>8.5.5</b> Net Income Before Taxes (EBT)</a></li>
<li class="chapter" data-level="8.5.6" data-path="business-accounting.html"><a href="business-accounting.html#net-income-eat"><i class="fa fa-check"></i><b>8.5.6</b> Net Income (EAT)</a></li>
<li class="chapter" data-level="8.5.7" data-path="business-accounting.html"><a href="business-accounting.html#transactions-1"><i class="fa fa-check"></i><b>8.5.7</b> Transactions</a></li>
<li class="chapter" data-level="8.5.8" data-path="business-accounting.html"><a href="business-accounting.html#corporate-income-tax"><i class="fa fa-check"></i><b>8.5.8</b> Corporate Income Tax</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="business-accounting.html"><a href="business-accounting.html#cash-flow-statement"><i class="fa fa-check"></i><b>8.6</b> Cash Flow Statement</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="business-accounting.html"><a href="business-accounting.html#operating-activities"><i class="fa fa-check"></i><b>8.6.1</b> Operating Activities</a></li>
<li class="chapter" data-level="8.6.2" data-path="business-accounting.html"><a href="business-accounting.html#investing-activities"><i class="fa fa-check"></i><b>8.6.2</b> Investing Activities</a></li>
<li class="chapter" data-level="8.6.3" data-path="business-accounting.html"><a href="business-accounting.html#financing-activities"><i class="fa fa-check"></i><b>8.6.3</b> Financing Activities</a></li>
<li class="chapter" data-level="8.6.4" data-path="business-accounting.html"><a href="business-accounting.html#net-change-in-cash"><i class="fa fa-check"></i><b>8.6.4</b> Net Change in Cash</a></li>
<li class="chapter" data-level="8.6.5" data-path="business-accounting.html"><a href="business-accounting.html#supplemental-information"><i class="fa fa-check"></i><b>8.6.5</b> Supplemental Information</a></li>
<li class="chapter" data-level="8.6.6" data-path="business-accounting.html"><a href="business-accounting.html#free-cash-flows"><i class="fa fa-check"></i><b>8.6.6</b> Free Cash Flows</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="business-accounting.html"><a href="business-accounting.html#conclusion-2"><i class="fa fa-check"></i><b>8.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html"><i class="fa fa-check"></i><b>9</b> Financial Performance Indicators</a>
<ul>
<li class="chapter" data-level="9.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#profitability-indicators"><i class="fa fa-check"></i><b>9.1</b> Profitability Indicators</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#net-profit-margin"><i class="fa fa-check"></i><b>9.1.1</b> Net Profit Margin</a></li>
<li class="chapter" data-level="9.1.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#return-on-assets-roa"><i class="fa fa-check"></i><b>9.1.2</b> Return on Assets (ROA)</a></li>
<li class="chapter" data-level="9.1.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#return-on-investment-roi"><i class="fa fa-check"></i><b>9.1.3</b> Return on Investment (ROI)</a></li>
<li class="chapter" data-level="9.1.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#return-on-equity-roe"><i class="fa fa-check"></i><b>9.1.4</b> Return on Equity (ROE)</a></li>
<li class="chapter" data-level="9.1.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#earnings-per-share-eps"><i class="fa fa-check"></i><b>9.1.5</b> Earnings Per Share (EPS)</a></li>
<li class="chapter" data-level="9.1.6" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#operating-margin"><i class="fa fa-check"></i><b>9.1.6</b> Operating Margin</a></li>
<li class="chapter" data-level="9.1.7" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#dividend-yield"><i class="fa fa-check"></i><b>9.1.7</b> Dividend Yield</a></li>
<li class="chapter" data-level="9.1.8" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#gross-profit-margin"><i class="fa fa-check"></i><b>9.1.8</b> Gross Profit Margin</a></li>
<li class="chapter" data-level="9.1.9" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#return-on-capital-employed-roce"><i class="fa fa-check"></i><b>9.1.9</b> Return on Capital Employed (ROCE)</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#liquidity-indicators"><i class="fa fa-check"></i><b>9.2</b> Liquidity Indicators</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#current-ratio"><i class="fa fa-check"></i><b>9.2.1</b> Current Ratio</a></li>
<li class="chapter" data-level="9.2.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#quick-ratio"><i class="fa fa-check"></i><b>9.2.2</b> Quick Ratio</a></li>
<li class="chapter" data-level="9.2.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#cash-ratio"><i class="fa fa-check"></i><b>9.2.3</b> Cash Ratio</a></li>
<li class="chapter" data-level="9.2.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#operating-cash-flow-ratio"><i class="fa fa-check"></i><b>9.2.4</b> Operating Cash Flow Ratio</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#leverage-indicators"><i class="fa fa-check"></i><b>9.3</b> Leverage Indicators</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#debt-to-equity-de-ratio"><i class="fa fa-check"></i><b>9.3.1</b> Debt-to-Equity (D/E) Ratio</a></li>
<li class="chapter" data-level="9.3.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#interest-coverage-ratio"><i class="fa fa-check"></i><b>9.3.2</b> Interest Coverage Ratio</a></li>
<li class="chapter" data-level="9.3.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#debt-ratio"><i class="fa fa-check"></i><b>9.3.3</b> Debt Ratio</a></li>
<li class="chapter" data-level="9.3.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#debt-to-capital-ratio"><i class="fa fa-check"></i><b>9.3.4</b> Debt-to-Capital Ratio</a></li>
<li class="chapter" data-level="9.3.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#equity-multiplier"><i class="fa fa-check"></i><b>9.3.5</b> Equity Multiplier</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#efficiency-indicators"><i class="fa fa-check"></i><b>9.4</b> Efficiency Indicators</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#asset-turnover-ratio"><i class="fa fa-check"></i><b>9.4.1</b> Asset Turnover Ratio</a></li>
<li class="chapter" data-level="9.4.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#inventory-turnover-ratio"><i class="fa fa-check"></i><b>9.4.2</b> Inventory Turnover Ratio</a></li>
<li class="chapter" data-level="9.4.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#receivables-turnover-ratio"><i class="fa fa-check"></i><b>9.4.3</b> Receivables Turnover Ratio</a></li>
<li class="chapter" data-level="9.4.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#payables-turnover-ratio"><i class="fa fa-check"></i><b>9.4.4</b> Payables Turnover Ratio</a></li>
<li class="chapter" data-level="9.4.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#days-sales-outstanding-dso"><i class="fa fa-check"></i><b>9.4.5</b> Days Sales Outstanding (DSO)</a></li>
<li class="chapter" data-level="9.4.6" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#fixed-asset-turnover-ratio"><i class="fa fa-check"></i><b>9.4.6</b> Fixed Asset Turnover Ratio</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#valuation-indicators"><i class="fa fa-check"></i><b>9.5</b> Valuation Indicators</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#price-to-book-pb-ratio"><i class="fa fa-check"></i><b>9.5.1</b> Price-to-Book (P/B) Ratio</a></li>
<li class="chapter" data-level="9.5.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#price-to-earnings-pe-ratio"><i class="fa fa-check"></i><b>9.5.2</b> Price-to-Earnings (P/E) Ratio</a></li>
<li class="chapter" data-level="9.5.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#price-to-sales-ps-ratio"><i class="fa fa-check"></i><b>9.5.3</b> Price-to-Sales (P/S) Ratio</a></li>
<li class="chapter" data-level="9.5.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#enterprise-value-to-ebitda-evebitda"><i class="fa fa-check"></i><b>9.5.4</b> Enterprise Value-to-EBITDA (EV/EBITDA)</a></li>
<li class="chapter" data-level="9.5.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#dividend-yield-1"><i class="fa fa-check"></i><b>9.5.5</b> Dividend Yield</a></li>
<li class="chapter" data-level="9.5.6" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#price-to-cash-flow-pcf-ratio"><i class="fa fa-check"></i><b>9.5.6</b> Price-to-Cash Flow (P/CF) Ratio</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#cash-flow-indicators"><i class="fa fa-check"></i><b>9.6</b> Cash Flow Indicators</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#free-cash-flow-to-equity-fcfe-1"><i class="fa fa-check"></i><b>9.6.1</b> Free Cash Flow to Equity (FCFE)</a></li>
<li class="chapter" data-level="9.6.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#free-cash-flow-to-the-firm-fcff-1"><i class="fa fa-check"></i><b>9.6.2</b> Free Cash Flow to the Firm (FCFF)</a></li>
<li class="chapter" data-level="9.6.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#operating-cash-flow-ocf"><i class="fa fa-check"></i><b>9.6.3</b> Operating Cash Flow (OCF)</a></li>
<li class="chapter" data-level="9.6.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#fcf-margin"><i class="fa fa-check"></i><b>9.6.4</b> FCF Margin</a></li>
<li class="chapter" data-level="9.6.5" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#cash-conversion-cycle-ccc"><i class="fa fa-check"></i><b>9.6.5</b> Cash Conversion Cycle (CCC)</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#temporal-dimensions"><i class="fa fa-check"></i><b>9.7</b> Temporal Dimensions</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#trailing-twelve-months-ttm"><i class="fa fa-check"></i><b>9.7.1</b> Trailing Twelve Months (TTM)</a></li>
<li class="chapter" data-level="9.7.2" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#annual-reporting"><i class="fa fa-check"></i><b>9.7.2</b> Annual Reporting</a></li>
<li class="chapter" data-level="9.7.3" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#quarterly-and-monthly-reporting"><i class="fa fa-check"></i><b>9.7.3</b> Quarterly and Monthly Reporting</a></li>
<li class="chapter" data-level="9.7.4" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#example-and-explanation"><i class="fa fa-check"></i><b>9.7.4</b> Example and Explanation</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="financial-performance-indicators.html"><a href="financial-performance-indicators.html#conclusion-3"><i class="fa fa-check"></i><b>9.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html"><i class="fa fa-check"></i><b>10</b> Macroeconomic Accounting</a>
<ul>
<li class="chapter" data-level="10.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#important-terms-and-definitions"><i class="fa fa-check"></i><b>10.1</b> Important Terms and Definitions</a></li>
<li class="chapter" data-level="10.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#national-accounts"><i class="fa fa-check"></i><b>10.2</b> National Accounts</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#production-approach"><i class="fa fa-check"></i><b>10.2.1</b> Production Approach</a></li>
<li class="chapter" data-level="10.2.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#expenditure-approach"><i class="fa fa-check"></i><b>10.2.2</b> Expenditure Approach</a></li>
<li class="chapter" data-level="10.2.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#income-approach"><i class="fa fa-check"></i><b>10.2.3</b> Income Approach</a></li>
<li class="chapter" data-level="10.2.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#other-flow-measures"><i class="fa fa-check"></i><b>10.2.4</b> Other Flow Measures</a></li>
<li class="chapter" data-level="10.2.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#stock-measures"><i class="fa fa-check"></i><b>10.2.5</b> Stock Measures</a></li>
<li class="chapter" data-level="10.2.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#implicit-price-deflators"><i class="fa fa-check"></i><b>10.2.6</b> Implicit Price Deflators</a></li>
<li class="chapter" data-level="10.2.7" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection"><i class="fa fa-check"></i><b>10.2.7</b> Data Collection</a></li>
<li class="chapter" data-level="10.2.8" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources"><i class="fa fa-check"></i><b>10.2.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#balance-of-payments"><i class="fa fa-check"></i><b>10.3</b> Balance of Payments</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#current-account"><i class="fa fa-check"></i><b>10.3.1</b> Current Account</a></li>
<li class="chapter" data-level="10.3.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#capital-account"><i class="fa fa-check"></i><b>10.3.2</b> Capital Account</a></li>
<li class="chapter" data-level="10.3.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#financial-account"><i class="fa fa-check"></i><b>10.3.3</b> Financial Account</a></li>
<li class="chapter" data-level="10.3.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#stock-measures-1"><i class="fa fa-check"></i><b>10.3.4</b> Stock Measures</a></li>
<li class="chapter" data-level="10.3.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection-1"><i class="fa fa-check"></i><b>10.3.5</b> Data Collection</a></li>
<li class="chapter" data-level="10.3.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources-1"><i class="fa fa-check"></i><b>10.3.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#labor-market-accounts"><i class="fa fa-check"></i><b>10.4</b> Labor Market Accounts</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#labor-force"><i class="fa fa-check"></i><b>10.4.1</b> Labor Force</a></li>
<li class="chapter" data-level="10.4.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#employment-unemployment-and-hours-worked"><i class="fa fa-check"></i><b>10.4.2</b> Employment, Unemployment, and Hours Worked</a></li>
<li class="chapter" data-level="10.4.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#productivity-measures"><i class="fa fa-check"></i><b>10.4.3</b> Productivity Measures</a></li>
<li class="chapter" data-level="10.4.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#wage-and-labor-earnings"><i class="fa fa-check"></i><b>10.4.4</b> Wage and Labor Earnings</a></li>
<li class="chapter" data-level="10.4.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#job-vacancy-and-turnover-rate"><i class="fa fa-check"></i><b>10.4.5</b> Job Vacancy and Turnover Rate</a></li>
<li class="chapter" data-level="10.4.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#job-creation-and-destruction"><i class="fa fa-check"></i><b>10.4.6</b> Job Creation and Destruction</a></li>
<li class="chapter" data-level="10.4.7" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection-2"><i class="fa fa-check"></i><b>10.4.7</b> Data Collection</a></li>
<li class="chapter" data-level="10.4.8" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources-2"><i class="fa fa-check"></i><b>10.4.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#fiscal-accounts"><i class="fa fa-check"></i><b>10.5</b> Fiscal Accounts</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#government-budget"><i class="fa fa-check"></i><b>10.5.1</b> Government Budget</a></li>
<li class="chapter" data-level="10.5.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#types-of-taxes"><i class="fa fa-check"></i><b>10.5.2</b> Types of Taxes</a></li>
<li class="chapter" data-level="10.5.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#types-of-subsidies"><i class="fa fa-check"></i><b>10.5.3</b> Types of Subsidies</a></li>
<li class="chapter" data-level="10.5.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#non-tax-revenue"><i class="fa fa-check"></i><b>10.5.4</b> Non-Tax Revenue</a></li>
<li class="chapter" data-level="10.5.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection-3"><i class="fa fa-check"></i><b>10.5.5</b> Data Collection</a></li>
<li class="chapter" data-level="10.5.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources-3"><i class="fa fa-check"></i><b>10.5.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#monetary-and-financial-accounts"><i class="fa fa-check"></i><b>10.6</b> Monetary and Financial Accounts</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#monetary-aggregates"><i class="fa fa-check"></i><b>10.6.1</b> Monetary Aggregates</a></li>
<li class="chapter" data-level="10.6.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#interest-rates"><i class="fa fa-check"></i><b>10.6.2</b> Interest Rates</a></li>
<li class="chapter" data-level="10.6.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#banking-reserves"><i class="fa fa-check"></i><b>10.6.3</b> Banking Reserves</a></li>
<li class="chapter" data-level="10.6.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#credit-aggregates"><i class="fa fa-check"></i><b>10.6.4</b> Credit Aggregates</a></li>
<li class="chapter" data-level="10.6.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#exchange-rates"><i class="fa fa-check"></i><b>10.6.5</b> Exchange Rates</a></li>
<li class="chapter" data-level="10.6.6" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#parity-conditions"><i class="fa fa-check"></i><b>10.6.6</b> Parity Conditions</a></li>
<li class="chapter" data-level="10.6.7" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#industrial-production-and-capacity-utilization"><i class="fa fa-check"></i><b>10.6.7</b> Industrial Production and Capacity Utilization</a></li>
<li class="chapter" data-level="10.6.8" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection-4"><i class="fa fa-check"></i><b>10.6.8</b> Data Collection</a></li>
<li class="chapter" data-level="10.6.9" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources-4"><i class="fa fa-check"></i><b>10.6.9</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#price-level-and-inflation"><i class="fa fa-check"></i><b>10.7</b> Price Level and Inflation</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#implicit-measurement"><i class="fa fa-check"></i><b>10.7.1</b> Implicit Measurement</a></li>
<li class="chapter" data-level="10.7.2" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#direct-measurement"><i class="fa fa-check"></i><b>10.7.2</b> Direct Measurement</a></li>
<li class="chapter" data-level="10.7.3" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#inflation"><i class="fa fa-check"></i><b>10.7.3</b> Inflation</a></li>
<li class="chapter" data-level="10.7.4" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#data-collection-5"><i class="fa fa-check"></i><b>10.7.4</b> Data Collection</a></li>
<li class="chapter" data-level="10.7.5" data-path="macroeconomic-accounting.html"><a href="macroeconomic-accounting.html#resources-5"><i class="fa fa-check"></i><b>10.7.5</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="financial-market-indicators.html"><a href="financial-market-indicators.html"><i class="fa fa-check"></i><b>11</b> Financial Market Indicators</a>
<ul>
<li class="chapter" data-level="11.1" data-path="financial-market-indicators.html"><a href="financial-market-indicators.html#interest-rates-1"><i class="fa fa-check"></i><b>11.1</b> Interest Rates</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="financial-market-indicators.html"><a href="financial-market-indicators.html#import-csv-file"><i class="fa fa-check"></i><b>11.1.1</b> Import CSV File</a></li>
<li class="chapter" data-level="11.1.2" data-path="financial-market-indicators.html"><a href="financial-market-indicators.html#plotting-historical-yields"><i class="fa fa-check"></i><b>11.1.2</b> Plotting Historical Yields</a></li>
<li class="chapter" data-level="11.1.3" data-path="financial-market-indicators.html"><a href="financial-market-indicators.html#plotting-yield-curve"><i class="fa fa-check"></i><b>11.1.3</b> Plotting Yield Curve</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part III</b></span></li>
<li class="chapter" data-level="" data-path="part-iii.html"><a href="part-iii.html"><i class="fa fa-check"></i><em>Part III: Economic Data Processing</em></a></li>
<li class="chapter" data-level="12" data-path="data-categorization.html"><a href="data-categorization.html"><i class="fa fa-check"></i><b>12</b> Data Categorization</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-categorization.html"><a href="data-categorization.html#qualitative-vs.-quantitative"><i class="fa fa-check"></i><b>12.1</b> Qualitative vs. Quantitative</a></li>
<li class="chapter" data-level="12.2" data-path="data-categorization.html"><a href="data-categorization.html#discrete-vs.-continuous"><i class="fa fa-check"></i><b>12.2</b> Discrete vs. Continuous</a></li>
<li class="chapter" data-level="12.3" data-path="data-categorization.html"><a href="data-categorization.html#levels-of-measurement"><i class="fa fa-check"></i><b>12.3</b> Levels of Measurement</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="data-categorization.html"><a href="data-categorization.html#nominal-scale-variables"><i class="fa fa-check"></i><b>12.3.1</b> Nominal Scale Variables</a></li>
<li class="chapter" data-level="12.3.2" data-path="data-categorization.html"><a href="data-categorization.html#ordinal-scale-variables"><i class="fa fa-check"></i><b>12.3.2</b> Ordinal Scale Variables</a></li>
<li class="chapter" data-level="12.3.3" data-path="data-categorization.html"><a href="data-categorization.html#interval-scale-variables"><i class="fa fa-check"></i><b>12.3.3</b> Interval Scale Variables</a></li>
<li class="chapter" data-level="12.3.4" data-path="data-categorization.html"><a href="data-categorization.html#ratio-scale-variables"><i class="fa fa-check"></i><b>12.3.4</b> Ratio Scale Variables</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="data-categorization.html"><a href="data-categorization.html#index-vs.-absolute-data"><i class="fa fa-check"></i><b>12.4</b> Index vs. Absolute Data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="data-categorization.html"><a href="data-categorization.html#index-data"><i class="fa fa-check"></i><b>12.4.1</b> Index Data</a></li>
<li class="chapter" data-level="12.4.2" data-path="data-categorization.html"><a href="data-categorization.html#absolute-data"><i class="fa fa-check"></i><b>12.4.2</b> Absolute Data</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="data-categorization.html"><a href="data-categorization.html#stock-vs.-flow"><i class="fa fa-check"></i><b>12.5</b> Stock vs. Flow</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="data-categorization.html"><a href="data-categorization.html#stock-variables"><i class="fa fa-check"></i><b>12.5.1</b> Stock Variables</a></li>
<li class="chapter" data-level="12.5.2" data-path="data-categorization.html"><a href="data-categorization.html#flow-variables"><i class="fa fa-check"></i><b>12.5.2</b> Flow Variables</a></li>
<li class="chapter" data-level="12.5.3" data-path="data-categorization.html"><a href="data-categorization.html#accounting"><i class="fa fa-check"></i><b>12.5.3</b> Accounting</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="data-categorization.html"><a href="data-categorization.html#data-dimensions"><i class="fa fa-check"></i><b>12.6</b> Data Dimensions</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="data-categorization.html"><a href="data-categorization.html#cross-sectional-data"><i class="fa fa-check"></i><b>12.6.1</b> Cross-Sectional Data</a></li>
<li class="chapter" data-level="12.6.2" data-path="data-categorization.html"><a href="data-categorization.html#time-series-data"><i class="fa fa-check"></i><b>12.6.2</b> Time Series Data</a></li>
<li class="chapter" data-level="12.6.3" data-path="data-categorization.html"><a href="data-categorization.html#panel-data"><i class="fa fa-check"></i><b>12.6.3</b> Panel Data</a></li>
<li class="chapter" data-level="12.6.4" data-path="data-categorization.html"><a href="data-categorization.html#spatial-data"><i class="fa fa-check"></i><b>12.6.4</b> Spatial Data</a></li>
<li class="chapter" data-level="12.6.5" data-path="data-categorization.html"><a href="data-categorization.html#clustered-data"><i class="fa fa-check"></i><b>12.6.5</b> Clustered Data</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="data-categorization.html"><a href="data-categorization.html#conclusion-data-categorization"><i class="fa fa-check"></i><b>12.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>13</b> Data Transformation</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-transformation.html"><a href="data-transformation.html#example-data"><i class="fa fa-check"></i><b>13.1</b> Example Data</a></li>
<li class="chapter" data-level="13.2" data-path="data-transformation.html"><a href="data-transformation.html#growth"><i class="fa fa-check"></i><b>13.2</b> Growth</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-growth-rates"><i class="fa fa-check"></i><b>13.2.1</b> Definition</a></li>
<li class="chapter" data-level="13.2.2" data-path="data-transformation.html"><a href="data-transformation.html#log-approximation"><i class="fa fa-check"></i><b>13.2.2</b> Log Approximation</a></li>
<li class="chapter" data-level="13.2.3" data-path="data-transformation.html"><a href="data-transformation.html#relativity"><i class="fa fa-check"></i><b>13.2.3</b> Relativity</a></li>
<li class="chapter" data-level="13.2.4" data-path="data-transformation.html"><a href="data-transformation.html#return-and-inflation"><i class="fa fa-check"></i><b>13.2.4</b> Return and Inflation</a></li>
<li class="chapter" data-level="13.2.5" data-path="data-transformation.html"><a href="data-transformation.html#applicability-growth"><i class="fa fa-check"></i><b>13.2.5</b> Applicability</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="data-transformation.html"><a href="data-transformation.html#differentiation"><i class="fa fa-check"></i><b>13.3</b> Differentiation</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-differentiation"><i class="fa fa-check"></i><b>13.3.1</b> Definition</a></li>
<li class="chapter" data-level="13.3.2" data-path="data-transformation.html"><a href="data-transformation.html#pp"><i class="fa fa-check"></i><b>13.3.2</b> Percentage Points (pp)</a></li>
<li class="chapter" data-level="13.3.3" data-path="data-transformation.html"><a href="data-transformation.html#bp"><i class="fa fa-check"></i><b>13.3.3</b> Basis Points (bp)</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="data-transformation.html"><a href="data-transformation.html#log"><i class="fa fa-check"></i><b>13.4</b> Natural Logarithm</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-natural-logarithm"><i class="fa fa-check"></i><b>13.4.1</b> Definition</a></li>
<li class="chapter" data-level="13.4.2" data-path="data-transformation.html"><a href="data-transformation.html#motivation-natural-logarithm"><i class="fa fa-check"></i><b>13.4.2</b> Motivation</a></li>
<li class="chapter" data-level="13.4.3" data-path="data-transformation.html"><a href="data-transformation.html#applicability-natural-logarithm"><i class="fa fa-check"></i><b>13.4.3</b> Applicability</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="data-transformation.html"><a href="data-transformation.html#ratio"><i class="fa fa-check"></i><b>13.5</b> Ratio</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-ratio"><i class="fa fa-check"></i><b>13.5.1</b> Definition</a></li>
<li class="chapter" data-level="13.5.2" data-path="data-transformation.html"><a href="data-transformation.html#per-capita"><i class="fa fa-check"></i><b>13.5.2</b> Per Capita</a></li>
<li class="chapter" data-level="13.5.3" data-path="data-transformation.html"><a href="data-transformation.html#real-vs.-nominal"><i class="fa fa-check"></i><b>13.5.3</b> Real vs. Nominal</a></li>
<li class="chapter" data-level="13.5.4" data-path="data-transformation.html"><a href="data-transformation.html#growth-of-ratios"><i class="fa fa-check"></i><b>13.5.4</b> Growth of Ratios</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="data-transformation.html"><a href="data-transformation.html#gap"><i class="fa fa-check"></i><b>13.6</b> Gap</a></li>
<li class="chapter" data-level="13.7" data-path="data-transformation.html"><a href="data-transformation.html#filtering"><i class="fa fa-check"></i><b>13.7</b> Filtering</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="data-transformation.html"><a href="data-transformation.html#frequency-filtering"><i class="fa fa-check"></i><b>13.7.1</b> Frequency Filtering</a></li>
<li class="chapter" data-level="13.7.2" data-path="data-transformation.html"><a href="data-transformation.html#detrending"><i class="fa fa-check"></i><b>13.7.2</b> Detrending</a></li>
<li class="chapter" data-level="13.7.3" data-path="data-transformation.html"><a href="data-transformation.html#seasonal-adjustment"><i class="fa fa-check"></i><b>13.7.3</b> Seasonal Adjustment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="statistical-measures.html"><a href="statistical-measures.html"><i class="fa fa-check"></i><b>14</b> Statistical Measures</a></li>
<li class="chapter" data-level="15" data-path="data-aggregation.html"><a href="data-aggregation.html"><i class="fa fa-check"></i><b>15</b> Data Aggregation</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-aggregation.html"><a href="data-aggregation.html#annualization"><i class="fa fa-check"></i><b>15.1</b> Annualization</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="data-aggregation.html"><a href="data-aggregation.html#motivation"><i class="fa fa-check"></i><b>15.1.1</b> Motivation</a></li>
<li class="chapter" data-level="15.1.2" data-path="data-aggregation.html"><a href="data-aggregation.html#annualized-flow-variables"><i class="fa fa-check"></i><b>15.1.2</b> Annualized Flow Variables</a></li>
<li class="chapter" data-level="15.1.3" data-path="data-aggregation.html"><a href="data-aggregation.html#annualized-growth-rates"><i class="fa fa-check"></i><b>15.1.3</b> Annualized Growth Rates</a></li>
<li class="chapter" data-level="15.1.4" data-path="data-aggregation.html"><a href="data-aggregation.html#annualized-log-difference"><i class="fa fa-check"></i><b>15.1.4</b> Annualized Log-Difference</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="data-aggregation.html"><a href="data-aggregation.html#yoy"><i class="fa fa-check"></i><b>15.2</b> Year over Year (YoY)</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="data-aggregation.html"><a href="data-aggregation.html#year-over-year-yoy-growth-rates"><i class="fa fa-check"></i><b>15.2.1</b> Year over Year (YoY) Growth Rates</a></li>
<li class="chapter" data-level="15.2.2" data-path="data-aggregation.html"><a href="data-aggregation.html#comparing-yoy-measures-with-moving-averages"><i class="fa fa-check"></i><b>15.2.2</b> Comparing YoY Measures with Moving Averages</a></li>
<li class="chapter" data-level="15.2.3" data-path="data-aggregation.html"><a href="data-aggregation.html#sliding-window-vs.-fixed-window-aggregation"><i class="fa fa-check"></i><b>15.2.3</b> Sliding Window vs. Fixed Window Aggregation</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part IV</b></span></li>
<li class="chapter" data-level="" data-path="part-iv.html"><a href="part-iv.html"><i class="fa fa-check"></i><em>Part IV: Patterns in Economics</em></a></li>
<li class="chapter" data-level="16" data-path="temporal-patterns.html"><a href="temporal-patterns.html"><i class="fa fa-check"></i><b>16</b> Temporal Patterns</a>
<ul>
<li class="chapter" data-level="16.1" data-path="temporal-patterns.html"><a href="temporal-patterns.html#time-series-data-1"><i class="fa fa-check"></i><b>16.1</b> Time Series Data</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="temporal-patterns.html"><a href="temporal-patterns.html#definition"><i class="fa fa-check"></i><b>16.1.1</b> Definition</a></li>
<li class="chapter" data-level="16.1.2" data-path="temporal-patterns.html"><a href="temporal-patterns.html#features"><i class="fa fa-check"></i><b>16.1.2</b> Features</a></li>
<li class="chapter" data-level="16.1.3" data-path="temporal-patterns.html"><a href="temporal-patterns.html#visualization"><i class="fa fa-check"></i><b>16.1.3</b> Visualization</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="temporal-patterns.html"><a href="temporal-patterns.html#trend"><i class="fa fa-check"></i><b>16.2</b> Trend</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="temporal-patterns.html"><a href="temporal-patterns.html#sustained-growth"><i class="fa fa-check"></i><b>16.2.1</b> Sustained Growth</a></li>
<li class="chapter" data-level="16.2.2" data-path="temporal-patterns.html"><a href="temporal-patterns.html#decrease-in-poverty"><i class="fa fa-check"></i><b>16.2.2</b> Decrease in Poverty</a></li>
<li class="chapter" data-level="16.2.3" data-path="temporal-patterns.html"><a href="temporal-patterns.html#aging-population"><i class="fa fa-check"></i><b>16.2.3</b> Aging Population</a></li>
<li class="chapter" data-level="16.2.4" data-path="temporal-patterns.html"><a href="temporal-patterns.html#productivity-labor-trade-off"><i class="fa fa-check"></i><b>16.2.4</b> Productivity-Labor Trade-Off</a></li>
<li class="chapter" data-level="16.2.5" data-path="temporal-patterns.html"><a href="temporal-patterns.html#trend-inflation"><i class="fa fa-check"></i><b>16.2.5</b> Trend Inflation</a></li>
<li class="chapter" data-level="16.2.6" data-path="temporal-patterns.html"><a href="temporal-patterns.html#decline-in-labor-share"><i class="fa fa-check"></i><b>16.2.6</b> Decline in Labor Share</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="temporal-patterns.html"><a href="temporal-patterns.html#seasonality"><i class="fa fa-check"></i><b>16.3</b> Seasonality</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="temporal-patterns.html"><a href="temporal-patterns.html#holiday-season"><i class="fa fa-check"></i><b>16.3.1</b> Holiday Season</a></li>
<li class="chapter" data-level="16.3.2" data-path="temporal-patterns.html"><a href="temporal-patterns.html#seasonal-weather"><i class="fa fa-check"></i><b>16.3.2</b> Seasonal Weather</a></li>
<li class="chapter" data-level="16.3.3" data-path="temporal-patterns.html"><a href="temporal-patterns.html#seasonal-employment"><i class="fa fa-check"></i><b>16.3.3</b> Seasonal Employment</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="temporal-patterns.html"><a href="temporal-patterns.html#business-cycle"><i class="fa fa-check"></i><b>16.4</b> Business Cycle</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="temporal-patterns.html"><a href="temporal-patterns.html#costs-of-business-cycles"><i class="fa fa-check"></i><b>16.4.1</b> Costs of Business Cycles</a></li>
<li class="chapter" data-level="16.4.2" data-path="temporal-patterns.html"><a href="temporal-patterns.html#cyclicality-and-timing"><i class="fa fa-check"></i><b>16.4.2</b> Cyclicality and Timing</a></li>
<li class="chapter" data-level="16.4.3" data-path="temporal-patterns.html"><a href="temporal-patterns.html#consumption-smoothing"><i class="fa fa-check"></i><b>16.4.3</b> Consumption Smoothing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="regional-patterns.html"><a href="regional-patterns.html"><i class="fa fa-check"></i><b>17</b> Regional Patterns</a>
<ul>
<li class="chapter" data-level="17.1" data-path="regional-patterns.html"><a href="regional-patterns.html#regional-data"><i class="fa fa-check"></i><b>17.1</b> Regional Data</a></li>
<li class="chapter" data-level="17.2" data-path="regional-patterns.html"><a href="regional-patterns.html#county-level-patterns"><i class="fa fa-check"></i><b>17.2</b> County-Level Patterns</a></li>
<li class="chapter" data-level="17.3" data-path="regional-patterns.html"><a href="regional-patterns.html#state-level-patterns"><i class="fa fa-check"></i><b>17.3</b> State-Level Patterns</a></li>
<li class="chapter" data-level="17.4" data-path="regional-patterns.html"><a href="regional-patterns.html#country-level-patterns"><i class="fa fa-check"></i><b>17.4</b> Country-Level Patterns</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="microeconomic-patterns.html"><a href="microeconomic-patterns.html"><i class="fa fa-check"></i><b>18</b> Microeconomic Patterns</a>
<ul>
<li class="chapter" data-level="18.1" data-path="microeconomic-patterns.html"><a href="microeconomic-patterns.html#microeconomic-data"><i class="fa fa-check"></i><b>18.1</b> Microeconomic Data</a></li>
<li class="chapter" data-level="18.2" data-path="microeconomic-patterns.html"><a href="microeconomic-patterns.html#firm-patterns"><i class="fa fa-check"></i><b>18.2</b> Firm Patterns</a></li>
<li class="chapter" data-level="18.3" data-path="microeconomic-patterns.html"><a href="microeconomic-patterns.html#household-patterns"><i class="fa fa-check"></i><b>18.3</b> Household Patterns</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="causal-relationships.html"><a href="causal-relationships.html"><i class="fa fa-check"></i><b>19</b> Causal Relationships</a>
<ul>
<li class="chapter" data-level="19.1" data-path="causal-relationships.html"><a href="causal-relationships.html#elasticities"><i class="fa fa-check"></i><b>19.1</b> Elasticities</a></li>
<li class="chapter" data-level="19.2" data-path="causal-relationships.html"><a href="causal-relationships.html#multipliers"><i class="fa fa-check"></i><b>19.2</b> Multipliers</a></li>
<li class="chapter" data-level="19.3" data-path="causal-relationships.html"><a href="causal-relationships.html#causality"><i class="fa fa-check"></i><b>19.3</b> Causality</a></li>
</ul></li>
<li class="part"><span><b>Part V</b></span></li>
<li class="chapter" data-level="" data-path="part-v.html"><a href="part-v.html"><i class="fa fa-check"></i><em>Part V: Insights From Real-Time Data and Surveys</em></a></li>
<li class="chapter" data-level="20" data-path="why-subjective-information-matters.html"><a href="why-subjective-information-matters.html"><i class="fa fa-check"></i><b>20</b> Why Subjective Information Matters</a></li>
<li class="chapter" data-level="21" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html"><i class="fa fa-check"></i><b>21</b> Insights From Consumer Surveys</a>
<ul>
<li class="chapter" data-level="21.1" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#introduction-1"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#conducting-the-survey"><i class="fa fa-check"></i><b>21.2</b> Conducting the Survey</a></li>
<li class="chapter" data-level="21.3" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#michigan-consumer-indices"><i class="fa fa-check"></i><b>21.3</b> Michigan Consumer Indices</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#index-of-consumer-sentiment-ics"><i class="fa fa-check"></i><b>21.3.1</b> Index of Consumer Sentiment (ICS)</a></li>
<li class="chapter" data-level="21.3.2" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#index-of-current-economic-conditions-icc"><i class="fa fa-check"></i><b>21.3.2</b> Index of Current Economic Conditions (ICC)</a></li>
<li class="chapter" data-level="21.3.3" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#index-of-consumer-expectations-ice"><i class="fa fa-check"></i><b>21.3.3</b> Index of Consumer Expectations (ICE)</a></li>
<li class="chapter" data-level="21.3.4" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#importing-in-r"><i class="fa fa-check"></i><b>21.3.4</b> Importing in R</a></li>
<li class="chapter" data-level="21.3.5" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#import-tsv-file"><i class="fa fa-check"></i><b>21.3.5</b> Import TSV File</a></li>
<li class="chapter" data-level="21.3.6" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#plotting-consumer-indices"><i class="fa fa-check"></i><b>21.3.6</b> Plotting Consumer Indices</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#creating-custom-consumer-indices"><i class="fa fa-check"></i><b>21.4</b> Creating Custom Consumer Indices</a></li>
<li class="chapter" data-level="21.5" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#importing-and-cleaning-individual-level-surveys"><i class="fa fa-check"></i><b>21.5</b> Importing and Cleaning Individual-Level Surveys</a>
<ul>
<li class="chapter" data-level="21.5.1" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#data-source-1"><i class="fa fa-check"></i><b>21.5.1</b> Data Source</a></li>
<li class="chapter" data-level="21.5.2" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#data-labels"><i class="fa fa-check"></i><b>21.5.2</b> Data Labels</a></li>
<li class="chapter" data-level="21.5.3" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#importing-the-data-set"><i class="fa fa-check"></i><b>21.5.3</b> Importing the Data Set</a></li>
<li class="chapter" data-level="21.5.4" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#long-format"><i class="fa fa-check"></i><b>21.5.4</b> Long Format</a></li>
<li class="chapter" data-level="21.5.5" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#saving-the-data"><i class="fa fa-check"></i><b>21.5.5</b> Saving the Data</a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#exploring-individual-level-data"><i class="fa fa-check"></i><b>21.6</b> Exploring Individual-Level Data</a></li>
<li class="chapter" data-level="21.7" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#replicate-ics"><i class="fa fa-check"></i><b>21.7</b> Replicate ICS</a></li>
<li class="chapter" data-level="21.8" data-path="insights-from-consumer-surveys.html"><a href="insights-from-consumer-surveys.html#conclusion-4"><i class="fa fa-check"></i><b>21.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="insights-from-real-time-data.html"><a href="insights-from-real-time-data.html"><i class="fa fa-check"></i><b>22</b> Insights From Real-Time Data</a></li>
<li class="chapter" data-level="23" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html"><i class="fa fa-check"></i><b>23</b> Insights From Forecaster Data</a>
<ul>
<li class="chapter" data-level="23.1" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#tealbook"><i class="fa fa-check"></i><b>23.1</b> Tealbook</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#import-excel-workbook-1"><i class="fa fa-check"></i><b>23.1.1</b> Import Excel Workbook</a></li>
<li class="chapter" data-level="23.1.2" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#nowcast-and-backcast"><i class="fa fa-check"></i><b>23.1.2</b> Nowcast and Backcast</a></li>
<li class="chapter" data-level="23.1.3" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#information-date-and-realization-date"><i class="fa fa-check"></i><b>23.1.3</b> Information Date and Realization Date</a></li>
<li class="chapter" data-level="23.1.4" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#plotting-forecasts"><i class="fa fa-check"></i><b>23.1.4</b> Plotting Forecasts</a></li>
<li class="chapter" data-level="23.1.5" data-path="insights-from-forecaster-data.html"><a href="insights-from-forecaster-data.html#plotting-forecast-errors"><i class="fa fa-check"></i><b>23.1.5</b> Plotting Forecast Errors</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Part VI</b></span></li>
<li class="chapter" data-level="" data-path="part-vi.html"><a href="part-vi.html"><i class="fa fa-check"></i><em>Part VI: Insights From Textual Data</em></a></li>
<li class="chapter" data-level="24" data-path="text-analysis-and-mining.html"><a href="text-analysis-and-mining.html"><i class="fa fa-check"></i><b>24</b> Text Analysis and Mining</a></li>
<li class="chapter" data-level="25" data-path="insights-from-google-trends.html"><a href="insights-from-google-trends.html"><i class="fa fa-check"></i><b>25</b> Insights From Google Trends</a></li>
<li class="chapter" data-level="26" data-path="insights-from-newspapers.html"><a href="insights-from-newspapers.html"><i class="fa fa-check"></i><b>26</b> Insights From Newspapers</a></li>
<li class="chapter" data-level="27" data-path="insights-from-social-media.html"><a href="insights-from-social-media.html"><i class="fa fa-check"></i><b>27</b> Insights From Social Media</a></li>
<li class="appendix"><span><b>Modules</b></span></li>
<li class="chapter" data-level="" data-path="modules.html"><a href="modules.html"><i class="fa fa-check"></i>Modules Overview</a></li>
<li class="chapter" data-level="" data-path="textbook.html"><a href="textbook.html"><i class="fa fa-check"></i>Textbook Engagement</a></li>
<li class="chapter" data-level="" data-path="datacamp.html"><a href="datacamp.html"><i class="fa fa-check"></i>Learn R with DataCamp</a>
<ul>
<li class="chapter" data-level="" data-path="datacamp.html"><a href="datacamp.html#prepare-for-the-course"><i class="fa fa-check"></i>Prepare for the Course</a></li>
<li class="chapter" data-level="" data-path="datacamp.html"><a href="datacamp.html#xp-system-and-course-completion"><i class="fa fa-check"></i>XP System and Course Completion</a></li>
<li class="chapter" data-level="" data-path="datacamp.html"><a href="datacamp.html#develop-your-skills"><i class="fa fa-check"></i>Develop Your Skills</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html"><i class="fa fa-check"></i>Data Report Instructions</a>
<ul>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html#datareport-versions"><i class="fa fa-check"></i>Versions of the Data Report</a></li>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html#datareport-standards"><i class="fa fa-check"></i>Standards for the Two PDFs</a></li>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html#datareport-collaboration"><i class="fa fa-check"></i>Collaboration Guidelines</a></li>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html#datareport-example"><i class="fa fa-check"></i>Example of a Data Report</a></li>
<li class="chapter" data-level="" data-path="datareport.html"><a href="datareport.html#datareport-final-remarks"><i class="fa fa-check"></i>Final Remarks</a></li>
</ul></li>
<li class="chapter" data-level="A" data-path="module-a.html"><a href="module-a.html"><i class="fa fa-check"></i><b>A</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="module-a.html"><a href="module-a.html#overview-a"><i class="fa fa-check"></i><b>A.1</b> Overview</a></li>
<li class="chapter" data-level="A.2" data-path="module-a.html"><a href="module-a.html#objectives-a"><i class="fa fa-check"></i><b>A.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="A.3" data-path="module-a.html"><a href="module-a.html#activities-a"><i class="fa fa-check"></i><b>A.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="A.4" data-path="module-a.html"><a href="module-a.html#report-a"><i class="fa fa-check"></i><b>A.4</b> Data Report on Stock Returns</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="module-b.html"><a href="module-b.html"><i class="fa fa-check"></i><b>B</b> Financial Performance Indicators</a>
<ul>
<li class="chapter" data-level="B.1" data-path="module-b.html"><a href="module-b.html#overview-b"><i class="fa fa-check"></i><b>B.1</b> Overview</a></li>
<li class="chapter" data-level="B.2" data-path="module-b.html"><a href="module-b.html#objectives-b"><i class="fa fa-check"></i><b>B.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="B.3" data-path="module-b.html"><a href="module-b.html#activities-b"><i class="fa fa-check"></i><b>B.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="B.4" data-path="module-b.html"><a href="module-b.html#report-b"><i class="fa fa-check"></i><b>B.4</b> Data Report on Financial Performance Indicators</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="module-c.html"><a href="module-c.html"><i class="fa fa-check"></i><b>C</b> Macroeconomic Accounting</a>
<ul>
<li class="chapter" data-level="C.1" data-path="module-c.html"><a href="module-c.html#overview-c"><i class="fa fa-check"></i><b>C.1</b> Overview</a></li>
<li class="chapter" data-level="C.2" data-path="module-c.html"><a href="module-c.html#objectives-c"><i class="fa fa-check"></i><b>C.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="C.3" data-path="module-c.html"><a href="module-c.html#activities-c"><i class="fa fa-check"></i><b>C.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="C.4" data-path="module-c.html"><a href="module-c.html#report-c"><i class="fa fa-check"></i><b>C.4</b> Data Report on Macroeconomic Indicators</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="module-d.html"><a href="module-d.html"><i class="fa fa-check"></i><b>D</b> Financial Market Indicators</a>
<ul>
<li class="chapter" data-level="D.1" data-path="module-d.html"><a href="module-d.html#overview-d"><i class="fa fa-check"></i><b>D.1</b> Overview</a></li>
<li class="chapter" data-level="D.2" data-path="module-d.html"><a href="module-d.html#objectives-d"><i class="fa fa-check"></i><b>D.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="D.3" data-path="module-d.html"><a href="module-d.html#activities-d"><i class="fa fa-check"></i><b>D.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="D.4" data-path="module-d.html"><a href="module-d.html#report-d"><i class="fa fa-check"></i><b>D.4</b> Data Report on Yield Curves</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="module-e.html"><a href="module-e.html"><i class="fa fa-check"></i><b>E</b> Economic Data Processing</a>
<ul>
<li class="chapter" data-level="E.1" data-path="module-e.html"><a href="module-e.html#overview-e"><i class="fa fa-check"></i><b>E.1</b> Overview</a></li>
<li class="chapter" data-level="E.2" data-path="module-e.html"><a href="module-e.html#objectives-e"><i class="fa fa-check"></i><b>E.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="E.3" data-path="module-e.html"><a href="module-e.html#activities-e"><i class="fa fa-check"></i><b>E.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="E.4" data-path="module-e.html"><a href="module-e.html#report-e"><i class="fa fa-check"></i><b>E.4</b> Data Report on Economic Growth</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="module-f.html"><a href="module-f.html"><i class="fa fa-check"></i><b>F</b> Temporal Patterns in Economics</a>
<ul>
<li class="chapter" data-level="F.1" data-path="module-f.html"><a href="module-f.html#overview-f"><i class="fa fa-check"></i><b>F.1</b> Overview</a></li>
<li class="chapter" data-level="F.2" data-path="module-f.html"><a href="module-f.html#objectives-f"><i class="fa fa-check"></i><b>F.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="F.3" data-path="module-f.html"><a href="module-f.html#activities-f"><i class="fa fa-check"></i><b>F.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="F.4" data-path="module-f.html"><a href="module-f.html#report-f"><i class="fa fa-check"></i><b>F.4</b> Data Report on Temporal Patterns</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="module-g.html"><a href="module-g.html"><i class="fa fa-check"></i><b>G</b> Regional Patterns in Economics</a>
<ul>
<li class="chapter" data-level="G.1" data-path="module-g.html"><a href="module-g.html#overview-g"><i class="fa fa-check"></i><b>G.1</b> Overview</a></li>
<li class="chapter" data-level="G.2" data-path="module-g.html"><a href="module-g.html#objectives-g"><i class="fa fa-check"></i><b>G.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="G.3" data-path="module-g.html"><a href="module-g.html#activities-g"><i class="fa fa-check"></i><b>G.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="G.4" data-path="module-g.html"><a href="module-g.html#report-g"><i class="fa fa-check"></i><b>G.4</b> Data Report on Regional Patterns</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="module-h.html"><a href="module-h.html"><i class="fa fa-check"></i><b>H</b> Insights From Consumer Surveys</a>
<ul>
<li class="chapter" data-level="H.1" data-path="module-h.html"><a href="module-h.html#overview-h"><i class="fa fa-check"></i><b>H.1</b> Overview</a></li>
<li class="chapter" data-level="H.2" data-path="module-h.html"><a href="module-h.html#objectives-h"><i class="fa fa-check"></i><b>H.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="H.3" data-path="module-h.html"><a href="module-h.html#activities-h"><i class="fa fa-check"></i><b>H.3</b> Learning Activities &amp; Assessments</a></li>
<li class="chapter" data-level="H.4" data-path="module-h.html"><a href="module-h.html#report-h"><i class="fa fa-check"></i><b>H.4</b> Data Report on Consumer Indices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><em>References</em></a></li>
<li class="divider"></li>
<li><a href="https://www.julianfludwig.com/" target="blank">Julian F. Ludwig</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Economic Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="insights-from-consumer-surveys" class="section level1 hasAnchor" number="21">
<h1><span class="header-section-number">Chapter 21</span> Insights From Consumer Surveys<a href="insights-from-consumer-surveys.html#insights-from-consumer-surveys" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-1" class="section level2 hasAnchor" number="21.1">
<h2><span class="header-section-number">21.1</span> Introduction<a href="insights-from-consumer-surveys.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The University of Michigan’s Survey of Consumers has been capturing the mood of U.S. households about the economy since the late 1940s. The monthly survey captures U.S. households’ views about the economy, providing essential insights into their perceptions and attitudes towards the U.S. economic landscape. The surveys play a significant role in shaping economic and policy decisions, given that consumer spending accounts for approximately 70% of the U.S. economy.</p>
<p>The University of Michigan combines the survey into three key indices: the Index of Consumer Sentiment (ICS), the Index of Current Economic Conditions (ICC), and the Index of Consumer Expectations (ICE). The ICS, frequently cited in newspapers, economic studies, and financial reports, provides a comprehensive view of consumer confidence every month. The ICC concentrates on consumer attitudes towards the current economic environment, while the ICE forecasts future economic conditions.</p>
<p>These famous consumer indices are based on just five out of the survey’s fifty questions. This chapter not only explains how the ICS, ICC, and ICE are made, but also looks at the rest of the survey data to create new consumer indices.</p>
</div>
<div id="conducting-the-survey" class="section level2 hasAnchor" number="21.2">
<h2><span class="header-section-number">21.2</span> Conducting the Survey<a href="insights-from-consumer-surveys.html#conducting-the-survey" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Detailed information about the University of Michigan’s Surveys of Consumers is readily accessible on their official website at <a href="https://data.sca.isr.umich.edu" target="_blank">data.sca.isr.umich.edu</a>. The <a href="https://data.sca.isr.umich.edu/survey-info.php#" target="_blank">survey information</a> section of the website provides critical details about the survey process. This includes a thorough <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=24774" target="_blank">survey description</a>, an overview of the <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=57449" target="_blank">sample design</a>, and the actual <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=24776" target="_blank">questionnaire</a> used in the survey. Below is some of the information summarized.</p>
<p><strong>Sample Population</strong></p>
<p>The Surveys of Consumers samples adults 18 years of age and older residing in households in the continental U.S. It’s designed to be a representative sample of all such households.</p>
<p><strong>Sampling Method</strong></p>
<p>The survey uses a rotating panel design, with a new panel of respondents each month, selected to reflect the demographic and geographic distribution of the U.S. population.</p>
<p><strong>Data Collection</strong></p>
<p>Telephone interviews are the primary mode of data collection, although they have been increasingly integrating web-based interviews in recent years. Interviews typically last about 15 minutes.</p>
<p><strong>Survey Questions</strong></p>
<p>The survey consists of approximately 50 core questions, and the rest of the questionnaire can vary depending on current economic events. The core questions elicit information on respondents’ financial situation, buying attitudes, and expectations about future economic conditions.</p>
<p><strong>Survey Frequency and Timing</strong></p>
<p>Starting from the late 1940s, the Surveys of Consumers were initially conducted quarterly. However, since the mid-1970s, the frequency has increased to monthly. Each month’s survey involves about 500 interviews, with roughly 50-60% completed by the 10th of the month. Preliminary results are released mid-month, with remaining interviews completed by month-end. Final results are published at the beginning of the following month.</p>
</div>
<div id="michigan-consumer-indices" class="section level2 hasAnchor" number="21.3">
<h2><span class="header-section-number">21.3</span> Michigan Consumer Indices<a href="insights-from-consumer-surveys.html#michigan-consumer-indices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="index-of-consumer-sentiment-ics" class="section level3 hasAnchor" number="21.3.1">
<h3><span class="header-section-number">21.3.1</span> Index of Consumer Sentiment (ICS)<a href="insights-from-consumer-surveys.html#index-of-consumer-sentiment-ics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The ICS is a composite index that captures consumers’ perceptions of their financial situation and attitudes about the economy in general. It is derived from five questions related to personal finances, general economic conditions, and purchasing conditions.</p>
<p>To calculate the Index of Consumer Sentiment (ICS), we first compute the relative scores for each of the five index questions (<span class="math inline">\(x_1,...,x_5\)</span> listed below). The relative score is the percent of favorable replies minus the percent of unfavorable replies, with 100 added. Each relative score is then rounded to the nearest whole number. The ICS is calculated using the following formula:</p>
<p><span class="math display">\[
ICS = \frac{x_1+x_2+x_3+x_4+x_5}{6.7558} + 2.0
\]</span></p>
<p>The constant 2.0 is added to correct for sample design changes from the 1950s.</p>
<p>The ICS is derived from the responses to the following five questions:</p>
<ul>
<li><p><span class="math inline">\(x_1\)</span> = PAGO_R: “We are interested in how people are getting along financially these days. Would you say that you (and your family living there) are better off or worse off financially than you were a year ago?”</p></li>
<li><p><span class="math inline">\(x_2\)</span> = PEXP_R: “Now looking ahead–do you think that a year from now you (and your family living there) will be better off financially, or worse off, or just about the same as now?”</p></li>
<li><p><span class="math inline">\(x_3\)</span> = BUS12_R: “Now turning to business conditions in the country as a whole–do you think that during the next twelve months we’ll have good times financially, or bad times, or what?”</p></li>
<li><p><span class="math inline">\(x_4\)</span> = BUS5_R: “Looking ahead, which would you say is more likely–that in the country as a whole we’ll have continuous good times during the next five years or so, or that we will have periods of widespread unemployment or depression, or what?”</p></li>
<li><p><span class="math inline">\(x_5\)</span> = DUR_R: “About the big things people buy for their homes–such as furniture, a refrigerator, stove, television, and things like that. Generally speaking, do you think now is a good or bad time for people to buy major household items?”</p></li>
</ul>
<p>The responses to these questions are combined to create the indices. For each question, there are a certain number of points assigned for positive, neutral, and negative responses. After the responses are scored, they are combined to create each index. The indices are then normalized to a base year (currently 1966 = 100) to create the final index values.</p>
</div>
<div id="index-of-current-economic-conditions-icc" class="section level3 hasAnchor" number="21.3.2">
<h3><span class="header-section-number">21.3.2</span> Index of Current Economic Conditions (ICC)<a href="insights-from-consumer-surveys.html#index-of-current-economic-conditions-icc" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The ICC specifically focuses on consumers’ perceptions of their current financial situation and whether it’s a good time to buy big-ticket items like cars and homes. It is based on responses to just two questions.</p>
<p>The ICC is constructed from questions 1 and 5 from the ICS list using the following formula:
<span class="math display">\[
ICC = \frac{x_1+x_5}{2.6424} + 2.0, \qquad
\]</span></p>
</div>
<div id="index-of-consumer-expectations-ice" class="section level3 hasAnchor" number="21.3.3">
<h3><span class="header-section-number">21.3.3</span> Index of Consumer Expectations (ICE)<a href="insights-from-consumer-surveys.html#index-of-consumer-expectations-ice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The ICE aims to gauge consumer expectations for the future, specifically regarding their financial situation, general economic conditions, and purchasing conditions in the next year and next five years. It is derived from the remaining three questions.</p>
<p>The ICE is constructed from questions 2, 3, and 4 from the ICS list using the following formula:
<span class="math display">\[
ICE = \frac{x_2+x_3+x_4}{4.1134} + 2.0
\]</span></p>
</div>
<div id="importing-in-r" class="section level3 hasAnchor" number="21.3.4">
<h3><span class="header-section-number">21.3.4</span> Importing in R<a href="insights-from-consumer-surveys.html#importing-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This chapter illustrates how to import the three consumer indices, in addition to a selection of time series, which include the five that form the ICS, ICE, and ICC. For detailed descriptions of these time series, please refer to the <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=45121" target="_blank">Time-Series Variable Codebook</a> provided on the survey’s website.</p>
<p>In this chapter, we’ll demonstrate how to import a TSV file using real-world consumer survey data collected by the University of Michigan. This data is gathered through surveys that ask people about their opinions and feelings regarding the economy. It helps to understand how consumers perceive the current economic conditions and their expectations for the future. The data provides valuable insights into consumer behavior and helps economists, policymakers, and businesses make informed decisions.</p>
<p>To obtain the Michigan consumer survey data, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Visit the website of University of Michigan’s surveys of consumers by clicking <a href="https://data.sca.isr.umich.edu/" target="_blank">here</a>.</li>
<li>Click on “DATA” in the menu bar, then select “Time Series.”</li>
<li>On the data page, under Table, select “All: All Tables (Tab-delimited or CSV only)” to obtain the consumer survey data on all topics.</li>
<li>To access all the consumer survey data since 1978, type “1978” under the “Oldest Year” option.</li>
<li>Click on “Tab-Deliminated (Excel)” under the “format” option.</li>
<li>Save the TSV file in a location of your choice, ensuring that it is saved in a familiar folder for easy access.</li>
</ol>
<p>The dataset contains 360 variables with coded column names such as <code>ics_inc31</code> or <code>pago_dk_all</code>. To understand the meaning of these columns, you can visit the same website <a href="https://data.sca.isr.umich.edu/" target="_blank">here</a> and click on <a href="https://data.sca.isr.umich.edu/survey-info.php#" target="_blank">SURVEY INFORMATION</a>. From there, select the <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=45121" target="_blank">Time-Series Variable Codebook</a> which is a PDF document that provides detailed explanations for all the column names. By referring to this codebook, you can gain a better understanding of the variables and their corresponding meanings in the dataset.</p>
</div>
<div id="import-tsv-file" class="section level3 hasAnchor" number="21.3.5">
<h3><span class="header-section-number">21.3.5</span> Import TSV File<a href="insights-from-consumer-surveys.html#import-tsv-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TSV (Tab Separated Values) is a common file format used to store tabular data. As the name suggests, the values in each row of a TSV file are separated by tabs. Here’s an example of how data is stored in a TSV file:</p>
<ul>
<li>Male    8    100    3</li>
<li>Female    9    20    3</li>
</ul>
<p>To import the consumer survey TSV file, you need to install and load the <code>readr</code> package if you haven’t done so already. Once the package is loaded, you can use either the <code>read_tsv()</code> or <code>read_delim()</code> function to read the TSV (Tab-Separated Values) file.</p>
<div class="sourceCode" id="cb1236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1236-1"><a href="insights-from-consumer-surveys.html#cb1236-1" tabindex="-1"></a><span class="co"># Load the package</span></span>
<span id="cb1236-2"><a href="insights-from-consumer-surveys.html#cb1236-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;readr&quot;</span>)</span>
<span id="cb1236-3"><a href="insights-from-consumer-surveys.html#cb1236-3" tabindex="-1"></a></span>
<span id="cb1236-4"><a href="insights-from-consumer-surveys.html#cb1236-4" tabindex="-1"></a><span class="co"># Import TSV file</span></span>
<span id="cb1236-5"><a href="insights-from-consumer-surveys.html#cb1236-5" tabindex="-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="at">file =</span> <span class="st">&quot;files/sca-tableall-on-2023-Jul-01.tsv&quot;</span>, <span class="at">skip =</span> <span class="dv">1</span>)</span>
<span id="cb1236-6"><a href="insights-from-consumer-surveys.html#cb1236-6" tabindex="-1"></a></span>
<span id="cb1236-7"><a href="insights-from-consumer-surveys.html#cb1236-7" tabindex="-1"></a><span class="co"># Import TSV file using the read_delim() function</span></span>
<span id="cb1236-8"><a href="insights-from-consumer-surveys.html#cb1236-8" tabindex="-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="at">file =</span> <span class="st">&quot;files/sca-tableall-on-2023-Jul-01.tsv&quot;</span>, <span class="at">skip =</span> <span class="dv">1</span>, </span>
<span id="cb1236-9"><a href="insights-from-consumer-surveys.html#cb1236-9" tabindex="-1"></a>                 <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">delim =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>In the provided code snippets, the <code>file</code> input specifies the file path or URL of the TSV file to be imported. The <code>skip</code> input is used to specify the number of rows to skip at the beginning of the file. In this case, <code>skip = 1</code> indicates that the first line of the TSV file, which contains the title “All Tables”, should be skipped. The <code>col_names</code> input is set to <code>TRUE</code> to indicate that the second line of the TSV file (after skipping 1 row) contains the column names. Lastly, the <code>delim</code> input is set to <code>"\t"</code> to specify that the columns in the TSV file are separated by tabs, which is the standard delimiter for TSV (<em>Tab</em> Separated Values) files.</p>
<p>Note that if the file is neither CSV nor TSV, but rather has an exotic format where columns are separated by a different character that is neither a comma nor a tab, such as “/”, you can use the <code>read_delim()</code> function with the <code>delim = "/"</code> argument to specify the custom delimiter.</p>
<p>To inspect the first few rows of the data, print the <code>cs</code> object in the console. For an overview of the entire dataset, execute <code>View(cs)</code>.</p>
<div class="sourceCode" id="cb1237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1237-1"><a href="insights-from-consumer-surveys.html#cb1237-1" tabindex="-1"></a><span class="co"># Display the data</span></span>
<span id="cb1237-2"><a href="insights-from-consumer-surveys.html#cb1237-2" tabindex="-1"></a>cs</span></code></pre></div>
<pre><code>## # A tibble: 545 × 360
##    Month  yyyy ics_all ics_inc31 ics_inc32 ics_inc33 ics_a1834 ics_a3554
##    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
##  1     1  1978    83.7        NA        NA        NA      93.7      86.7
##  2     2  1978    84.3        NA        NA        NA      99.7      82.3
##  3     3  1978    78.8        NA        NA        NA      91.7      76.8
##  4     4  1978    81.6        NA        NA        NA      91.8      79.7
##  5     5  1978    82.9        NA        NA        NA      95.1      78.9
##  6     6  1978    80          NA        NA        NA      91.7      75.7
##  7     7  1978    82.4        NA        NA        NA      92.2      78.4
##  8     8  1978    78.4        NA        NA        NA      87.8      77.2
##  9     9  1978    80.4        NA        NA        NA      86.6      83.9
## 10    10  1978    79.3        NA        NA        NA      90.6      76.7
## # ℹ 535 more rows
## # ℹ 352 more variables: ics_a5597 &lt;dbl&gt;, ics_ne &lt;dbl&gt;, ics_nc &lt;dbl&gt;,
## #   ics_s &lt;dbl&gt;, ics_w &lt;dbl&gt;, icc_all &lt;dbl&gt;, ice_all &lt;dbl&gt;, pago_f_all &lt;dbl&gt;,
## #   pago_s_all &lt;dbl&gt;, pago_u_all &lt;dbl&gt;, pago_dk_all &lt;dbl&gt;, pago_r_all &lt;dbl&gt;,
## #   pagorn_hy_all &lt;dbl&gt;, pagorn_ha_all &lt;dbl&gt;, pagorn_ld_all &lt;dbl&gt;,
## #   pagorn_ly_all &lt;dbl&gt;, pagorn_hp_all &lt;dbl&gt;, pagorn_la_all &lt;dbl&gt;,
## #   pagorn_hd_all &lt;dbl&gt;, pagorn_ny_all &lt;dbl&gt;, pagorn_nad_all &lt;dbl&gt;, …</code></pre>
<p>Use <code>sapply(cs, class)</code> to check the data type of each column, to make sure all columns are indeed numeric:</p>
<div class="sourceCode" id="cb1239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1239-1"><a href="insights-from-consumer-surveys.html#cb1239-1" tabindex="-1"></a><span class="co"># Check the data type of each column</span></span>
<span id="cb1239-2"><a href="insights-from-consumer-surveys.html#cb1239-2" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">sapply</span>(cs, class))</span></code></pre></div>
<pre><code>## 
## logical numeric 
##       1     359</code></pre>
<p>Here, since there are 360 columns, the <code>summary()</code> function is applied, which reveals that there are 359 numerical columns, and 1 logical column, which makes sense.</p>
<p>Instead of a date column, the consumer survey has a year (<code>yyyy</code>) and a month (<code>Month</code>) column. To create a date column from the year and month columns, combine them with the <code>paste()</code> function to create a date format of the form Year-Month-Day or <code>%Y-%m-%d</code>:</p>
<div class="sourceCode" id="cb1241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1241-1"><a href="insights-from-consumer-surveys.html#cb1241-1" tabindex="-1"></a><span class="co"># Create date column</span></span>
<span id="cb1241-2"><a href="insights-from-consumer-surveys.html#cb1241-2" tabindex="-1"></a>cs<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">paste</span>(cs<span class="sc">$</span>yyyy, cs<span class="sc">$</span>Month, <span class="st">&quot;01&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>))</span>
<span id="cb1241-3"><a href="insights-from-consumer-surveys.html#cb1241-3" tabindex="-1"></a><span class="fu">head</span>(cs<span class="sc">$</span>Date)</span></code></pre></div>
<pre><code>## [1] &quot;1978-01-01&quot; &quot;1978-02-01&quot; &quot;1978-03-01&quot; &quot;1978-04-01&quot; &quot;1978-05-01&quot;
## [6] &quot;1978-06-01&quot;</code></pre>
</div>
<div id="plotting-consumer-indices" class="section level3 hasAnchor" number="21.3.6">
<h3><span class="header-section-number">21.3.6</span> Plotting Consumer Indices<a href="insights-from-consumer-surveys.html#plotting-consumer-indices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Michigan Consumer Survey consists of a wide range of survey responses from a sample of households collected every month. These survey responses are gathered to produce indices about how consumers feel each period. The University of Michigan produces three main indices: the Index of Consumer Confidence (ICC), the Index of Current Economic Conditions (ICE), and the Index of Consumer Sentiment (ICS). These indices are designed to measure different aspects of consumer attitudes and perceptions regarding the economy.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Index of Consumer Confidence (ICC)</strong>: The ICC reflects consumers’ expectations about future economic conditions and their overall optimism or pessimism. It is based on consumers’ assessments of their future financial prospects, job availability, and economic outlook. A higher ICC value indicates greater consumer confidence and positive expectations for the economy.</p></li>
<li><p><strong>Index of Current Economic Conditions (ICE)</strong>: The ICE assesses consumers’ perceptions of the current economic environment. It reflects their evaluations of their personal financial situation, job security, and their perception of whether it is a good time to make major purchases. The ICE provides insights into the current economic conditions as perceived by consumers.</p></li>
<li><p><strong>Index of Consumer Sentiment (ICS)</strong>: The ICS combines both the ICC and ICE to provide an overall measure of consumer sentiment. It takes into account consumers’ expectations for the future as well as their assessment of the present economic conditions. The ICS is often used as an indicator of consumer behavior and their likelihood of making purchases and engaging in economic activities.</p></li>
</ol>
<p>These indices are calculated based on survey responses from a sample of households, and they serve as important indicators of consumer sentiment and economic trends. They are widely followed by economists, policymakers, and financial markets as they provide valuable insights into consumers’ attitudes and perceptions, which can impact their spending behavior and overall economic activity.</p>
<p>Let’s use the <code>plot()</code> function to visualize the imported Michigan consumer survey data. In this case, we will plot the three key indices: ICC, ICE, and ICS over time, using the Date column as the x-axis and the three indices as the y-axis:</p>
<div class="sourceCode" id="cb1243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1243-1"><a href="insights-from-consumer-surveys.html#cb1243-1" tabindex="-1"></a><span class="co"># Plot ICC, ICE, and ICS over time</span></span>
<span id="cb1243-2"><a href="insights-from-consumer-surveys.html#cb1243-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> cs<span class="sc">$</span>Date, <span class="at">y =</span> cs<span class="sc">$</span>icc_all, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">col =</span> <span class="dv">5</span>, <span class="at">lwd =</span> <span class="dv">3</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">140</span>),</span>
<span id="cb1243-3"><a href="insights-from-consumer-surveys.html#cb1243-3" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Index&quot;</span>, </span>
<span id="cb1243-4"><a href="insights-from-consumer-surveys.html#cb1243-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Key Indices of the Michigan Consumer Survey&quot;</span>)</span>
<span id="cb1243-5"><a href="insights-from-consumer-surveys.html#cb1243-5" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">x =</span> cs<span class="sc">$</span>Date, <span class="at">y =</span> cs<span class="sc">$</span>ice_all, <span class="at">col =</span> <span class="dv">2</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb1243-6"><a href="insights-from-consumer-surveys.html#cb1243-6" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">x =</span> cs<span class="sc">$</span>Date, <span class="at">y =</span> cs<span class="sc">$</span>ics_all, <span class="at">col =</span> <span class="dv">1</span>, <span class="at">lwd =</span> <span class="fl">1.5</span>)</span>
<span id="cb1243-7"><a href="insights-from-consumer-surveys.html#cb1243-7" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x =</span> <span class="st">&quot;topleft&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;ICC&quot;</span>, <span class="st">&quot;ICE&quot;</span>, <span class="st">&quot;ICS&quot;</span>), </span>
<span id="cb1243-8"><a href="insights-from-consumer-surveys.html#cb1243-8" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">1.5</span>), <span class="at">horiz =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>In the code snippet provided, the appearance and behavior of the plot are customized using several functions and arguments:</p>
<ul>
<li><code>x</code>: This argument specifies the data to be used for the x-axis of the plot. In this case, it is <code>cs$Date</code>, indicating the “Date” column of the Michigan consumer survey data.</li>
<li><code>y</code>: This argument specifies the data to be used for the y-axis of the plot. In this case, it is <code>cs$icc_all</code>, <code>cs$ice_all</code>, and <code>cs$ics_all</code>, representing the ICC, ICE, and ICS indices from the Michigan consumer survey data.</li>
<li><code>type</code>: This argument determines the type of plot to be created. In this case, it is set to <code>"l"</code>, which stands for “line plot”. This will create a line plot of the data points.</li>
<li><code>col</code>: This argument specifies the color of the lines in the plot. In the code snippet, different colors are used for each index: <code>5</code> for ICC, <code>2</code> for ICE, and <code>1</code> for ICS.</li>
<li><code>lwd</code>: This argument controls the line width of the plot. It is set to <code>3</code> for ICC, <code>2</code> for ICE, and <code>1.5</code> for ICS, indicating different line widths for each index.</li>
<li><code>ylim</code>: This argument sets the limits of the y-axis. In this case, it is set to <code>c(40, 140)</code>, which defines the range of the y-axis from 40 to 140.</li>
<li><code>xlab</code>: This argument specifies the label for the x-axis of the plot. In the code snippet, it is set to <code>"Date"</code>.</li>
<li><code>ylab</code>: This argument specifies the label for the y-axis of the plot. In the code snippet, it is set to <code>"Index"</code>.</li>
<li><code>main</code>: This argument specifies the main title of the plot. In the code snippet, it is set to <code>"Key Indices of the Michigan Consumer Survey"</code>.</li>
<li><code>lines</code>: This function is used to add additional lines to the plot.</li>
<li><code>legend</code>: This function adds a legend to the plot. It is used to create a legend in the top-left corner (<code>x = "topleft"</code>) with labels corresponding to each index (<code>"ICC"</code>, <code>"ICE"</code>, <code>"ICS"</code>) and their respective line colors and widths.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:icc-ice-ics-plot"></span>
<img src="_main_files/figure-html/icc-ice-ics-plot-1.png" alt="Key Indices of the Michigan Consumer Survey" width="80%" />
<p class="caption">
Figure 21.1: Key Indices of the Michigan Consumer Survey
</p>
</div>
<p>The resulting plot, shown in Figure <a href="insights-from-consumer-surveys.html#fig:icc-ice-ics-plot">21.1</a>, displays the historical evolution of the three Michigan consumer survey indices: ICC, ICE, and ICS. These indices are considered leading indicators because they provide early signals about changes in consumer sentiment and economic conditions. They often reflect consumers’ expectations and attitudes before these changes are fully manifested in traditional economic indicators, such as unemployment rates or GDP growth.</p>
<p>Consumer sentiment plays a crucial role in shaping consumer behavior, including spending patterns, saving habits, and investment decisions. When consumer confidence is high, individuals are more likely to spend and invest, stimulating economic growth. Conversely, low consumer confidence can lead to reduced spending and investment, potentially dampening economic activity. Hence, these indices can serve as an early warning system for potential shifts in economic activity.</p>
<p>By incorporating the consumer survey indices alongside traditional economic indicators, policymakers and analysts can gain a more comprehensive understanding of the economic landscape. While traditional indicators like unemployment rates provide objective measures of economic conditions, the consumer survey indices offer a subjective perspective, reflecting consumers’ beliefs, expectations, and intentions. This subjective insight can provide additional context and help anticipate changes in consumer behavior and overall economic activity.</p>
<p>Therefore, by monitoring both traditional economic indicators and the Michigan consumer survey indices, policymakers and analysts can obtain a more holistic view of the economy, enabling them to make more informed decisions and implement timely interventions to support economic stability and growth.</p>
</div>
</div>
<div id="creating-custom-consumer-indices" class="section level2 hasAnchor" number="21.4">
<h2><span class="header-section-number">21.4</span> Creating Custom Consumer Indices<a href="insights-from-consumer-surveys.html#creating-custom-consumer-indices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While the ICC, ICE, and ICS are the most well-known indices generated from the Michigan Consumer Survey data, researchers and analysts can create custom indices based on their specific interests. These custom indices might focus on specific demographics, geographic regions, or consumer attitudes about specific sectors of the economy.</p>
<p>Consider, for example, an index that captures consumers’ attitudes towards the housing market. This could be particularly useful for real estate investors and homebuilders. Such an index could be created by focusing on survey questions about consumers’ perceptions of current housing prices, their expectations for future housing prices, and their perceptions of the current home buying conditions.</p>
<p>The simplest way to create a new index is by combining several time series from the <a href="https://data.sca.isr.umich.edu/fetchdoc.php?docid=45121" target="_blank">Time-Series Variable Codebook</a> (see Chapter <a href="#michigan-survey"><strong>??</strong></a> on how to import this data in R). These time series aggregate individual responses into a single observation per time period.</p>
<p>A more advanced approach to creating a new index involves working with the raw individual-level surveys then turning them into an index. This method allows for insights into the degree of disagreement among consumers, rather than just looking at averages. The next sections will explain how to work with these individual surveys and form them into time series.</p>
</div>
<div id="importing-and-cleaning-individual-level-surveys" class="section level2 hasAnchor" number="21.5">
<h2><span class="header-section-number">21.5</span> Importing and Cleaning Individual-Level Surveys<a href="insights-from-consumer-surveys.html#importing-and-cleaning-individual-level-surveys" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this chapter, we will go through the process of importing and cleaning the individual-level Michigan Consumer Survey data. This process involves downloading the raw data, importing the required R packages, importing data labels, making them tidy, and finally cleaning the data set. Let’s get started.</p>
<div class="sourceCode" id="cb1244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1244-1"><a href="insights-from-consumer-surveys.html#cb1244-1" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb1244-2"><a href="insights-from-consumer-surveys.html#cb1244-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1244-3"><a href="insights-from-consumer-surveys.html#cb1244-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;xml2&quot;</span>)</span></code></pre></div>
<div id="data-source-1" class="section level3 hasAnchor" number="21.5.1">
<h3><span class="header-section-number">21.5.1</span> Data Source<a href="insights-from-consumer-surveys.html#data-source-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The data for this analysis is obtained from the University of Michigan Consumer Survey website. Follow the steps below to get the links:</p>
<ul>
<li>Visit <a href="https://data.sca.isr.umich.edu/" target="_blank">data.sca.isr.umich.edu</a></li>
<li>Click on “Data” - “Downloads” - “Cross-Section Archive”</li>
<li>Click “CSV file (Comma Separated Values with header record)” and “DDI (XML)”</li>
<li>Select “All” everywhere and click “continue”</li>
<li>Click “Create the Files”</li>
<li>Right click on the “Data file”, copy link, and save the link as <code>data_file</code></li>
<li>Right click on the “DDI XML file”, copy link, and save the link as <code>data_label_file</code></li>
</ul>
<p>Here are the direct links used in this example:</p>
<div class="sourceCode" id="cb1245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1245-1"><a href="insights-from-consumer-surveys.html#cb1245-1" tabindex="-1"></a>data_file <span class="ot">&lt;-</span> <span class="st">&quot;https://sda.umsurvey.org/tmpdir/AAcZmZrm.csv&quot;</span></span>
<span id="cb1245-2"><a href="insights-from-consumer-surveys.html#cb1245-2" tabindex="-1"></a>data_label_file <span class="ot">&lt;-</span> <span class="st">&quot;https://sda.umsurvey.org/tmpdir/AAIPR4qc.txt&quot;</span></span></code></pre></div>
</div>
<div id="data-labels" class="section level3 hasAnchor" number="21.5.2">
<h3><span class="header-section-number">21.5.2</span> Data Labels<a href="insights-from-consumer-surveys.html#data-labels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we import the labels and convert them into a tidy format, ready for analysis. This involves converting the imported list to a tibble and tidying up the labels.</p>
<div class="sourceCode" id="cb1246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1246-1"><a href="insights-from-consumer-surveys.html#cb1246-1" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1246-2"><a href="insights-from-consumer-surveys.html#cb1246-2" tabindex="-1"></a><span class="co"># Data Labels</span></span>
<span id="cb1246-3"><a href="insights-from-consumer-surveys.html#cb1246-3" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1246-4"><a href="insights-from-consumer-surveys.html#cb1246-4" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-5"><a href="insights-from-consumer-surveys.html#cb1246-5" tabindex="-1"></a><span class="co"># Import labels</span></span>
<span id="cb1246-6"><a href="insights-from-consumer-surveys.html#cb1246-6" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-7"><a href="insights-from-consumer-surveys.html#cb1246-7" tabindex="-1"></a>raw_labels_list <span class="ot">&lt;-</span> <span class="fu">read_xml</span>(data_label_file) <span class="sc">%&gt;%</span> as_list <span class="sc">%&gt;%</span> as_tibble</span>
<span id="cb1246-8"><a href="insights-from-consumer-surveys.html#cb1246-8" tabindex="-1"></a></span>
<span id="cb1246-9"><a href="insights-from-consumer-surveys.html#cb1246-9" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-10"><a href="insights-from-consumer-surveys.html#cb1246-10" tabindex="-1"></a><span class="co"># Make labels tidy</span></span>
<span id="cb1246-11"><a href="insights-from-consumer-surveys.html#cb1246-11" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-12"><a href="insights-from-consumer-surveys.html#cb1246-12" tabindex="-1"></a><span class="co"># Convert list to tibble</span></span>
<span id="cb1246-13"><a href="insights-from-consumer-surveys.html#cb1246-13" tabindex="-1"></a>raw_labels <span class="ot">&lt;-</span> raw_labels_list <span class="sc">%&gt;%</span> </span>
<span id="cb1246-14"><a href="insights-from-consumer-surveys.html#cb1246-14" tabindex="-1"></a>    <span class="fu">unnest_longer</span>(codeBook, <span class="at">indices_to =</span> <span class="st">&quot;folder&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-15"><a href="insights-from-consumer-surveys.html#cb1246-15" tabindex="-1"></a>    <span class="fu">filter</span>(folder <span class="sc">==</span> <span class="st">&quot;var&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1246-16"><a href="insights-from-consumer-surveys.html#cb1246-16" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb1246-17"><a href="insights-from-consumer-surveys.html#cb1246-17" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">modify_in</span>(codeBook, <span class="fu">list</span>(<span class="dv">1</span>), attributes)) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-18"><a href="insights-from-consumer-surveys.html#cb1246-18" tabindex="-1"></a>    <span class="fu">unnest_wider</span>(variable) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-19"><a href="insights-from-consumer-surveys.html#cb1246-19" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>names, <span class="sc">-</span>folder) <span class="sc">%&gt;%</span></span>
<span id="cb1246-20"><a href="insights-from-consumer-surveys.html#cb1246-20" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1246-21"><a href="insights-from-consumer-surveys.html#cb1246-21" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>index) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-22"><a href="insights-from-consumer-surveys.html#cb1246-22" tabindex="-1"></a>    <span class="fu">unnest_longer</span>(codeBook, <span class="at">values_to =</span> <span class="st">&quot;value_as_list&quot;</span>, <span class="at">indices_to =</span> <span class="st">&quot;feature&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-23"><a href="insights-from-consumer-surveys.html#cb1246-23" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels =</span> <span class="fu">unique</span>(name), <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1246-24"><a href="insights-from-consumer-surveys.html#cb1246-24" tabindex="-1"></a>           <span class="at">feature =</span> <span class="fu">factor</span>(feature, <span class="at">levels =</span> <span class="fu">unique</span>(feature), <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1246-25"><a href="insights-from-consumer-surveys.html#cb1246-25" tabindex="-1"></a></span>
<span id="cb1246-26"><a href="insights-from-consumer-surveys.html#cb1246-26" tabindex="-1"></a><span class="co"># Extract unnamed vs. named list elements</span></span>
<span id="cb1246-27"><a href="insights-from-consumer-surveys.html#cb1246-27" tabindex="-1"></a>raw_labels <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb1246-28"><a href="insights-from-consumer-surveys.html#cb1246-28" tabindex="-1"></a>    <span class="co"># unnamed list elements</span></span>
<span id="cb1246-29"><a href="insights-from-consumer-surveys.html#cb1246-29" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">lengths</span>(value_as_list) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-30"><a href="insights-from-consumer-surveys.html#cb1246-30" tabindex="-1"></a>        <span class="fu">unnest_wider</span>(value_as_list, <span class="at">transform =</span> as.character),</span>
<span id="cb1246-31"><a href="insights-from-consumer-surveys.html#cb1246-31" tabindex="-1"></a>    <span class="co"># named list elements</span></span>
<span id="cb1246-32"><a href="insights-from-consumer-surveys.html#cb1246-32" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">lengths</span>(value_as_list) <span class="sc">&lt;=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1246-33"><a href="insights-from-consumer-surveys.html#cb1246-33" tabindex="-1"></a>        <span class="fu">hoist</span>(value_as_list, <span class="at">labl =</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-34"><a href="insights-from-consumer-surveys.html#cb1246-34" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>value_as_list)) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-35"><a href="insights-from-consumer-surveys.html#cb1246-35" tabindex="-1"></a>    <span class="co"># back to original order</span></span>
<span id="cb1246-36"><a href="insights-from-consumer-surveys.html#cb1246-36" tabindex="-1"></a>    <span class="fu">arrange</span>(name, feature)</span>
<span id="cb1246-37"><a href="insights-from-consumer-surveys.html#cb1246-37" tabindex="-1"></a></span>
<span id="cb1246-38"><a href="insights-from-consumer-surveys.html#cb1246-38" tabindex="-1"></a><span class="co"># Remove &quot;\n&quot; and spaces</span></span>
<span id="cb1246-39"><a href="insights-from-consumer-surveys.html#cb1246-39" tabindex="-1"></a>raw_labels <span class="ot">&lt;-</span> raw_labels <span class="sc">%&gt;%</span></span>
<span id="cb1246-40"><a href="insights-from-consumer-surveys.html#cb1246-40" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">&quot;labl&quot;</span>, <span class="st">&quot;catValu&quot;</span>, <span class="st">&quot;txt&quot;</span>), </span>
<span id="cb1246-41"><a href="insights-from-consumer-surveys.html#cb1246-41" tabindex="-1"></a>                  <span class="cf">function</span>(x) <span class="fu">str_trim</span>(<span class="fu">str_remove_all</span>(x, <span class="st">&quot;</span><span class="sc">\\\\</span><span class="st">n&quot;</span>))),</span>
<span id="cb1246-42"><a href="insights-from-consumer-surveys.html#cb1246-42" tabindex="-1"></a>           <span class="at">dcml =</span> <span class="fu">as.integer</span>(dcml),</span>
<span id="cb1246-43"><a href="insights-from-consumer-surveys.html#cb1246-43" tabindex="-1"></a>           <span class="at">catValu =</span> <span class="fu">as.integer</span>(catValu))</span>
<span id="cb1246-44"><a href="insights-from-consumer-surveys.html#cb1246-44" tabindex="-1"></a></span>
<span id="cb1246-45"><a href="insights-from-consumer-surveys.html#cb1246-45" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-46"><a href="insights-from-consumer-surveys.html#cb1246-46" tabindex="-1"></a><span class="co"># Rename and extract relevant labels</span></span>
<span id="cb1246-47"><a href="insights-from-consumer-surveys.html#cb1246-47" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-48"><a href="insights-from-consumer-surveys.html#cb1246-48" tabindex="-1"></a><span class="co"># Check out the following columns, which seem to be useless</span></span>
<span id="cb1246-49"><a href="insights-from-consumer-surveys.html#cb1246-49" tabindex="-1"></a><span class="cf">if</span>(<span class="cn">FALSE</span>){</span>
<span id="cb1246-50"><a href="insights-from-consumer-surveys.html#cb1246-50" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(item))</span>
<span id="cb1246-51"><a href="insights-from-consumer-surveys.html#cb1246-51" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(range))</span>
<span id="cb1246-52"><a href="insights-from-consumer-surveys.html#cb1246-52" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(txt) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(labl))</span>
<span id="cb1246-53"><a href="insights-from-consumer-surveys.html#cb1246-53" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">filter</span>(feature <span class="sc">==</span> <span class="st">&quot;invalrng&quot;</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(labl))</span>
<span id="cb1246-54"><a href="insights-from-consumer-surveys.html#cb1246-54" tabindex="-1"></a>    raw_labels <span class="sc">%&gt;%</span> <span class="fu">pull</span>(feature) <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb1246-55"><a href="insights-from-consumer-surveys.html#cb1246-55" tabindex="-1"></a>}</span>
<span id="cb1246-56"><a href="insights-from-consumer-surveys.html#cb1246-56" tabindex="-1"></a></span>
<span id="cb1246-57"><a href="insights-from-consumer-surveys.html#cb1246-57" tabindex="-1"></a><span class="co"># Extract the relevant columns and make tidy</span></span>
<span id="cb1246-58"><a href="insights-from-consumer-surveys.html#cb1246-58" tabindex="-1"></a>var_labels <span class="ot">&lt;-</span> raw_labels <span class="sc">%&gt;%</span> </span>
<span id="cb1246-59"><a href="insights-from-consumer-surveys.html#cb1246-59" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">variable =</span> name, <span class="at">feature =</span> feature, <span class="at">value_cat =</span> catValu, </span>
<span id="cb1246-60"><a href="insights-from-consumer-surveys.html#cb1246-60" tabindex="-1"></a>           <span class="at">info =</span> labl, <span class="at">txt =</span> txt, <span class="at">dcml =</span> dcml) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-61"><a href="insights-from-consumer-surveys.html#cb1246-61" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">is.na</span>(info) <span class="sc">&amp;</span> <span class="fu">is.na</span>(value_cat)) <span class="sc">&amp;</span> feature <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;labl&quot;</span>, <span class="st">&quot;qstn&quot;</span>, <span class="st">&quot;catgry&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-62"><a href="insights-from-consumer-surveys.html#cb1246-62" tabindex="-1"></a>    <span class="fu">unite</span>(<span class="st">&quot;info&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;info&quot;</span>, <span class="st">&quot;txt&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-63"><a href="insights-from-consumer-surveys.html#cb1246-63" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">feature =</span> <span class="fu">factor</span>(feature, <span class="at">levels =</span> <span class="fu">levels</span>(feature), </span>
<span id="cb1246-64"><a href="insights-from-consumer-surveys.html#cb1246-64" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">str_replace_all</span>(</span>
<span id="cb1246-65"><a href="insights-from-consumer-surveys.html#cb1246-65" tabindex="-1"></a>                                <span class="fu">levels</span>(feature), </span>
<span id="cb1246-66"><a href="insights-from-consumer-surveys.html#cb1246-66" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="st">&quot;labl&quot;</span> <span class="ot">=</span> <span class="st">&quot;label_var&quot;</span>, <span class="st">&quot;qstn&quot;</span> <span class="ot">=</span> <span class="st">&quot;question&quot;</span>, <span class="st">&quot;catgry&quot;</span> <span class="ot">=</span> <span class="st">&quot;label_cat&quot;</span>)))) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-67"><a href="insights-from-consumer-surveys.html#cb1246-67" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> feature, <span class="at">values_from =</span> info) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-68"><a href="insights-from-consumer-surveys.html#cb1246-68" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label_var =</span> <span class="fu">str_replace_all</span>(tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="fu">tolower</span>(label_var)), </span>
<span id="cb1246-69"><a href="insights-from-consumer-surveys.html#cb1246-69" tabindex="-1"></a>                                       <span class="fu">c</span>(<span class="st">&quot; Id &quot;</span> <span class="ot">=</span> <span class="st">&quot; ID &quot;</span>, <span class="st">&quot; Id$&quot;</span> <span class="ot">=</span> <span class="st">&quot; ID&quot;</span>, <span class="st">&quot;Rdd&quot;</span> <span class="ot">=</span> <span class="st">&quot;RDD&quot;</span>)))</span>
<span id="cb1246-70"><a href="insights-from-consumer-surveys.html#cb1246-70" tabindex="-1"></a></span>
<span id="cb1246-71"><a href="insights-from-consumer-surveys.html#cb1246-71" tabindex="-1"></a><span class="co"># Rename category &quot;NA&quot; = &quot;Not Applicable&quot; so that it is not confused with NA = missing</span></span>
<span id="cb1246-72"><a href="insights-from-consumer-surveys.html#cb1246-72" tabindex="-1"></a>var_labels <span class="ot">&lt;-</span> var_labels <span class="sc">%&gt;%</span> </span>
<span id="cb1246-73"><a href="insights-from-consumer-surveys.html#cb1246-73" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label_cat =</span> <span class="fu">ifelse</span>(label_cat <span class="sc">==</span> <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;Not Applicable&quot;</span>, label_cat))</span>
<span id="cb1246-74"><a href="insights-from-consumer-surveys.html#cb1246-74" tabindex="-1"></a></span>
<span id="cb1246-75"><a href="insights-from-consumer-surveys.html#cb1246-75" tabindex="-1"></a><span class="co"># Remove unnecessary rows</span></span>
<span id="cb1246-76"><a href="insights-from-consumer-surveys.html#cb1246-76" tabindex="-1"></a>var_labels <span class="ot">&lt;-</span> var_labels <span class="sc">%&gt;%</span> </span>
<span id="cb1246-77"><a href="insights-from-consumer-surveys.html#cb1246-77" tabindex="-1"></a>    <span class="fu">group_by</span>(variable) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-78"><a href="insights-from-consumer-surveys.html#cb1246-78" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">&quot;label_var&quot;</span>, <span class="st">&quot;question&quot;</span>), </span>
<span id="cb1246-79"><a href="insights-from-consumer-surveys.html#cb1246-79" tabindex="-1"></a>                  <span class="cf">function</span>(x) <span class="fu">ifelse</span>(<span class="fu">is.na</span>(x), <span class="fu">first</span>(x[<span class="sc">!</span><span class="fu">is.na</span>(x)]), x))) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-80"><a href="insights-from-consumer-surveys.html#cb1246-80" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(label_cat))) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-81"><a href="insights-from-consumer-surveys.html#cb1246-81" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1246-82"><a href="insights-from-consumer-surveys.html#cb1246-82" tabindex="-1"></a>    <span class="fu">relocate</span>(variable, label_var, dcml, value_cat, label_cat, question)</span>
<span id="cb1246-83"><a href="insights-from-consumer-surveys.html#cb1246-83" tabindex="-1"></a></span>
<span id="cb1246-84"><a href="insights-from-consumer-surveys.html#cb1246-84" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-85"><a href="insights-from-consumer-surveys.html#cb1246-85" tabindex="-1"></a><span class="co"># Create new variables and missing labels</span></span>
<span id="cb1246-86"><a href="insights-from-consumer-surveys.html#cb1246-86" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1246-87"><a href="insights-from-consumer-surveys.html#cb1246-87" tabindex="-1"></a><span class="co"># Labels for new variables defined later</span></span>
<span id="cb1246-88"><a href="insights-from-consumer-surveys.html#cb1246-88" tabindex="-1"></a>new_variables <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb1246-89"><a href="insights-from-consumer-surveys.html#cb1246-89" tabindex="-1"></a>    <span class="sc">~</span>variable, <span class="sc">~</span>label_var, <span class="sc">~</span>dcml, <span class="sc">~</span>question,</span>
<span id="cb1246-90"><a href="insights-from-consumer-surveys.html#cb1246-90" tabindex="-1"></a>    <span class="st">&quot;DATE&quot;</span>, <span class="st">&quot;Date&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb1246-91"><a href="insights-from-consumer-surveys.html#cb1246-91" tabindex="-1"></a>    <span class="st">&quot;R&quot;</span>, <span class="st">&quot;Respondent ID&quot;</span>, <span class="dv">0</span><span class="dt">L</span>, </span>
<span id="cb1246-92"><a href="insights-from-consumer-surveys.html#cb1246-92" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Respondent ID that remains fixed over time&quot;</span>,</span>
<span id="cb1246-93"><a href="insights-from-consumer-surveys.html#cb1246-93" tabindex="-1"></a>          <span class="st">&quot;if the respondent participates multiple times.&quot;</span>)</span>
<span id="cb1246-94"><a href="insights-from-consumer-surveys.html#cb1246-94" tabindex="-1"></a>)</span>
<span id="cb1246-95"><a href="insights-from-consumer-surveys.html#cb1246-95" tabindex="-1"></a></span>
<span id="cb1246-96"><a href="insights-from-consumer-surveys.html#cb1246-96" tabindex="-1"></a><span class="co"># Add new labels to existing labels</span></span>
<span id="cb1246-97"><a href="insights-from-consumer-surveys.html#cb1246-97" tabindex="-1"></a>var_labels <span class="ot">&lt;-</span> new_variables <span class="sc">%&gt;%</span> </span>
<span id="cb1246-98"><a href="insights-from-consumer-surveys.html#cb1246-98" tabindex="-1"></a>    <span class="fu">bind_rows</span>(var_labels)</span>
<span id="cb1246-99"><a href="insights-from-consumer-surveys.html#cb1246-99" tabindex="-1"></a></span>
<span id="cb1246-100"><a href="insights-from-consumer-surveys.html#cb1246-100" tabindex="-1"></a><span class="co"># Labels for categories that were not properly defined</span></span>
<span id="cb1246-101"><a href="insights-from-consumer-surveys.html#cb1246-101" tabindex="-1"></a>new_categories <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb1246-102"><a href="insights-from-consumer-surveys.html#cb1246-102" tabindex="-1"></a>    <span class="sc">~</span>variable, <span class="sc">~</span>value_cat, <span class="sc">~</span>label_cat,</span>
<span id="cb1246-103"><a href="insights-from-consumer-surveys.html#cb1246-103" tabindex="-1"></a>    <span class="st">&quot;HOMEAMT&quot;</span>, <span class="dv">9999998</span><span class="dt">L</span>, <span class="st">&quot;DK&quot;</span>,</span>
<span id="cb1246-104"><a href="insights-from-consumer-surveys.html#cb1246-104" tabindex="-1"></a>    <span class="st">&quot;INVAMT&quot;</span>, <span class="dv">99999998</span><span class="dt">L</span>, <span class="st">&quot;DK&quot;</span></span>
<span id="cb1246-105"><a href="insights-from-consumer-surveys.html#cb1246-105" tabindex="-1"></a>)</span>
<span id="cb1246-106"><a href="insights-from-consumer-surveys.html#cb1246-106" tabindex="-1"></a>new_categories <span class="ot">&lt;-</span> var_labels <span class="sc">%&gt;%</span> </span>
<span id="cb1246-107"><a href="insights-from-consumer-surveys.html#cb1246-107" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>label_cat, <span class="sc">-</span>value_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-108"><a href="insights-from-consumer-surveys.html#cb1246-108" tabindex="-1"></a>    <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1246-109"><a href="insights-from-consumer-surveys.html#cb1246-109" tabindex="-1"></a>    <span class="fu">right_join</span>(new_categories, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;variable&quot;</span>))</span>
<span id="cb1246-110"><a href="insights-from-consumer-surveys.html#cb1246-110" tabindex="-1"></a></span>
<span id="cb1246-111"><a href="insights-from-consumer-surveys.html#cb1246-111" tabindex="-1"></a><span class="co"># Add new labels to existing labels</span></span>
<span id="cb1246-112"><a href="insights-from-consumer-surveys.html#cb1246-112" tabindex="-1"></a>var_labels <span class="ot">&lt;-</span> var_labels <span class="sc">%&gt;%</span> </span>
<span id="cb1246-113"><a href="insights-from-consumer-surveys.html#cb1246-113" tabindex="-1"></a>    <span class="fu">bind_rows</span>(new_categories) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-114"><a href="insights-from-consumer-surveys.html#cb1246-114" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, </span>
<span id="cb1246-115"><a href="insights-from-consumer-surveys.html#cb1246-115" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;CASEID&quot;</span>, <span class="fu">setdiff</span>(<span class="fu">unique</span>(variable), <span class="st">&quot;CASEID&quot;</span>)), </span>
<span id="cb1246-116"><a href="insights-from-consumer-surveys.html#cb1246-116" tabindex="-1"></a>                             <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1246-117"><a href="insights-from-consumer-surveys.html#cb1246-117" tabindex="-1"></a>    <span class="fu">arrange</span>(variable, value_cat)</span>
<span id="cb1246-118"><a href="insights-from-consumer-surveys.html#cb1246-118" tabindex="-1"></a></span>
<span id="cb1246-119"><a href="insights-from-consumer-surveys.html#cb1246-119" tabindex="-1"></a><span class="co"># Print labels</span></span>
<span id="cb1246-120"><a href="insights-from-consumer-surveys.html#cb1246-120" tabindex="-1"></a>var_labels</span></code></pre></div>
</div>
<div id="importing-the-data-set" class="section level3 hasAnchor" number="21.5.3">
<h3><span class="header-section-number">21.5.3</span> Importing the Data Set<a href="insights-from-consumer-surveys.html#importing-the-data-set" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The data is imported as a CSV file and cleaned. The data includes creating new date variables and respondent ID that remains constant across multiple survey participation.</p>
<div class="sourceCode" id="cb1247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1247-1"><a href="insights-from-consumer-surveys.html#cb1247-1" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1247-2"><a href="insights-from-consumer-surveys.html#cb1247-2" tabindex="-1"></a><span class="co"># Data Set</span></span>
<span id="cb1247-3"><a href="insights-from-consumer-surveys.html#cb1247-3" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1247-4"><a href="insights-from-consumer-surveys.html#cb1247-4" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-5"><a href="insights-from-consumer-surveys.html#cb1247-5" tabindex="-1"></a><span class="co"># Import data set</span></span>
<span id="cb1247-6"><a href="insights-from-consumer-surveys.html#cb1247-6" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-7"><a href="insights-from-consumer-surveys.html#cb1247-7" tabindex="-1"></a>CS_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(data_file)</span>
<span id="cb1247-8"><a href="insights-from-consumer-surveys.html#cb1247-8" tabindex="-1"></a>CS_tidy <span class="ot">&lt;-</span> CS_raw</span>
<span id="cb1247-9"><a href="insights-from-consumer-surveys.html#cb1247-9" tabindex="-1"></a></span>
<span id="cb1247-10"><a href="insights-from-consumer-surveys.html#cb1247-10" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-11"><a href="insights-from-consumer-surveys.html#cb1247-11" tabindex="-1"></a><span class="co"># Create date variables</span></span>
<span id="cb1247-12"><a href="insights-from-consumer-surveys.html#cb1247-12" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-13"><a href="insights-from-consumer-surveys.html#cb1247-13" tabindex="-1"></a>CS_tidy <span class="ot">&lt;-</span> CS_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb1247-14"><a href="insights-from-consumer-surveys.html#cb1247-14" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">DATE =</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(CS_tidy<span class="sc">$</span>YYYYMM, <span class="st">&quot;01&quot;</span>), <span class="at">format =</span> <span class="st">&quot;%Y%m%d&quot;</span>),</span>
<span id="cb1247-15"><a href="insights-from-consumer-surveys.html#cb1247-15" tabindex="-1"></a>           <span class="at">DATEPREV =</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(CS_tidy<span class="sc">$</span>DATEPR, <span class="st">&quot;01&quot;</span>), <span class="at">format =</span> <span class="st">&quot;%Y%m%d&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-16"><a href="insights-from-consumer-surveys.html#cb1247-16" tabindex="-1"></a>    <span class="fu">relocate</span>(CASEID, DATE, DATEPREV)</span>
<span id="cb1247-17"><a href="insights-from-consumer-surveys.html#cb1247-17" tabindex="-1"></a></span>
<span id="cb1247-18"><a href="insights-from-consumer-surveys.html#cb1247-18" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-19"><a href="insights-from-consumer-surveys.html#cb1247-19" tabindex="-1"></a><span class="co"># Respondents can participate multiple times -&gt; Generate respondent ID that remains fixed</span></span>
<span id="cb1247-20"><a href="insights-from-consumer-surveys.html#cb1247-20" tabindex="-1"></a><span class="co">#------------------------------------------------------------------------------------------------</span></span>
<span id="cb1247-21"><a href="insights-from-consumer-surveys.html#cb1247-21" tabindex="-1"></a><span class="co"># ID and IDPREV count individuals from scratch every period, whereas CASEID is unique</span></span>
<span id="cb1247-22"><a href="insights-from-consumer-surveys.html#cb1247-22" tabindex="-1"></a><span class="cf">if</span>(<span class="cn">FALSE</span>){</span>
<span id="cb1247-23"><a href="insights-from-consumer-surveys.html#cb1247-23" tabindex="-1"></a>    CS_tidy <span class="sc">%&gt;%</span> <span class="fu">select</span>(CASEID) <span class="sc">%&gt;%</span> <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span> <span class="fu">sum</span>()</span>
<span id="cb1247-24"><a href="insights-from-consumer-surveys.html#cb1247-24" tabindex="-1"></a>    CS_tidy <span class="sc">%&gt;%</span> <span class="fu">select</span>(ID) <span class="sc">%&gt;%</span> <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span> <span class="fu">sum</span>()</span>
<span id="cb1247-25"><a href="insights-from-consumer-surveys.html#cb1247-25" tabindex="-1"></a>    CS_tidy <span class="sc">%&gt;%</span> <span class="fu">select</span>(ID, DATE) <span class="sc">%&gt;%</span> <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span> <span class="fu">sum</span>()</span>
<span id="cb1247-26"><a href="insights-from-consumer-surveys.html#cb1247-26" tabindex="-1"></a>}</span>
<span id="cb1247-27"><a href="insights-from-consumer-surveys.html#cb1247-27" tabindex="-1"></a></span>
<span id="cb1247-28"><a href="insights-from-consumer-surveys.html#cb1247-28" tabindex="-1"></a><span class="co"># Data matches ID/DATE with IDPREV/DATEPREV, but doesn&#39;t go further back - find oldest ID/DATE pair</span></span>
<span id="cb1247-29"><a href="insights-from-consumer-surveys.html#cb1247-29" tabindex="-1"></a>r_matches <span class="ot">&lt;-</span> CS_tidy <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(IDPREV) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(DATEPREV)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(ID, DATE, IDPREV, DATEPREV)</span>
<span id="cb1247-30"><a href="insights-from-consumer-surveys.html#cb1247-30" tabindex="-1"></a><span class="cf">while</span>(<span class="fu">nrow</span>(<span class="fu">semi_join</span>(r_matches, r_matches, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;IDPREV&quot;</span> <span class="ot">=</span> <span class="st">&quot;ID&quot;</span>, <span class="st">&quot;DATEPREV&quot;</span> <span class="ot">=</span> <span class="st">&quot;DATE&quot;</span>))) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb1247-31"><a href="insights-from-consumer-surveys.html#cb1247-31" tabindex="-1"></a>r_matches <span class="ot">&lt;-</span> r_matches <span class="sc">%&gt;%</span> </span>
<span id="cb1247-32"><a href="insights-from-consumer-surveys.html#cb1247-32" tabindex="-1"></a>    <span class="fu">left_join</span>(r_matches, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;IDPREV&quot;</span> <span class="ot">=</span> <span class="st">&quot;ID&quot;</span>, <span class="st">&quot;DATEPREV&quot;</span> <span class="ot">=</span> <span class="st">&quot;DATE&quot;</span>), <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;2&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-33"><a href="insights-from-consumer-surveys.html#cb1247-33" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">IDPREV =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(IDPREV2), IDPREV2, IDPREV),</span>
<span id="cb1247-34"><a href="insights-from-consumer-surveys.html#cb1247-34" tabindex="-1"></a>           <span class="at">DATEPREV =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(DATEPREV2), DATEPREV2, DATEPREV)) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-35"><a href="insights-from-consumer-surveys.html#cb1247-35" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>IDPREV2, <span class="sc">-</span>DATEPREV2)</span>
<span id="cb1247-36"><a href="insights-from-consumer-surveys.html#cb1247-36" tabindex="-1"></a>}</span>
<span id="cb1247-37"><a href="insights-from-consumer-surveys.html#cb1247-37" tabindex="-1"></a></span>
<span id="cb1247-38"><a href="insights-from-consumer-surveys.html#cb1247-38" tabindex="-1"></a><span class="co"># Create &quot;R&quot; (Respondent) variable that remains fixed over time</span></span>
<span id="cb1247-39"><a href="insights-from-consumer-surveys.html#cb1247-39" tabindex="-1"></a>r_matches <span class="ot">&lt;-</span> r_matches <span class="sc">%&gt;%</span> </span>
<span id="cb1247-40"><a href="insights-from-consumer-surveys.html#cb1247-40" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">R =</span> <span class="fu">paste</span>(IDPREV, DATEPREV, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>))</span>
<span id="cb1247-41"><a href="insights-from-consumer-surveys.html#cb1247-41" tabindex="-1"></a></span>
<span id="cb1247-42"><a href="insights-from-consumer-surveys.html#cb1247-42" tabindex="-1"></a><span class="co"># Include &quot;R&quot; in the data set</span></span>
<span id="cb1247-43"><a href="insights-from-consumer-surveys.html#cb1247-43" tabindex="-1"></a>CS_tidy <span class="ot">&lt;-</span> CS_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb1247-44"><a href="insights-from-consumer-surveys.html#cb1247-44" tabindex="-1"></a>    <span class="fu">left_join</span>(<span class="fu">select</span>(r_matches, <span class="fu">c</span>(<span class="st">&quot;R&quot;</span>, <span class="st">&quot;ID&quot;</span>, <span class="st">&quot;DATE&quot;</span>)), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;DATE&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-45"><a href="insights-from-consumer-surveys.html#cb1247-45" tabindex="-1"></a>    <span class="fu">relocate</span>(DATE, R) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-46"><a href="insights-from-consumer-surveys.html#cb1247-46" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">R =</span> <span class="fu">ifelse</span>(<span class="at">test =</span> <span class="fu">is.na</span>(IDPREV), </span>
<span id="cb1247-47"><a href="insights-from-consumer-surveys.html#cb1247-47" tabindex="-1"></a>                      <span class="at">yes =</span> <span class="fu">paste</span>(ID, DATE, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>),</span>
<span id="cb1247-48"><a href="insights-from-consumer-surveys.html#cb1247-48" tabindex="-1"></a>                      <span class="at">no =</span> R)) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-49"><a href="insights-from-consumer-surveys.html#cb1247-49" tabindex="-1"></a>    <span class="co"># Use numbers for &quot;R&quot; from 1 to length(unique(CS_tidy$R)) instead of R = ID_DATE</span></span>
<span id="cb1247-50"><a href="insights-from-consumer-surveys.html#cb1247-50" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">R =</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(R, <span class="at">levels =</span> <span class="fu">unique</span>(R)))) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-51"><a href="insights-from-consumer-surveys.html#cb1247-51" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>DATEPREV)</span>
<span id="cb1247-52"><a href="insights-from-consumer-surveys.html#cb1247-52" tabindex="-1"></a></span>
<span id="cb1247-53"><a href="insights-from-consumer-surveys.html#cb1247-53" tabindex="-1"></a><span class="co"># Check how many times the same respondent participated in the survey</span></span>
<span id="cb1247-54"><a href="insights-from-consumer-surveys.html#cb1247-54" tabindex="-1"></a><span class="cf">if</span>(<span class="cn">FALSE</span>){</span>
<span id="cb1247-55"><a href="insights-from-consumer-surveys.html#cb1247-55" tabindex="-1"></a>    CS_tidy <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(R))</span>
<span id="cb1247-56"><a href="insights-from-consumer-surveys.html#cb1247-56" tabindex="-1"></a>    CS_tidy <span class="sc">%&gt;%</span> <span class="fu">count</span>(R) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(n) <span class="sc">%&gt;%</span> </span>
<span id="cb1247-57"><a href="insights-from-consumer-surveys.html#cb1247-57" tabindex="-1"></a>        <span class="fu">summarize</span>(<span class="at">freq =</span> <span class="fu">n</span>(), <span class="at">sum =</span> <span class="fu">sum</span>(n))</span>
<span id="cb1247-58"><a href="insights-from-consumer-surveys.html#cb1247-58" tabindex="-1"></a>}</span>
<span id="cb1247-59"><a href="insights-from-consumer-surveys.html#cb1247-59" tabindex="-1"></a></span>
<span id="cb1247-60"><a href="insights-from-consumer-surveys.html#cb1247-60" tabindex="-1"></a><span class="co"># Add variable labels</span></span>
<span id="cb1247-61"><a href="insights-from-consumer-surveys.html#cb1247-61" tabindex="-1"></a><span class="fu">attr</span>(CS_tidy, <span class="st">&quot;labels&quot;</span>) <span class="ot">&lt;-</span> var_labels</span>
<span id="cb1247-62"><a href="insights-from-consumer-surveys.html#cb1247-62" tabindex="-1"></a></span>
<span id="cb1247-63"><a href="insights-from-consumer-surveys.html#cb1247-63" tabindex="-1"></a><span class="co"># Print data</span></span>
<span id="cb1247-64"><a href="insights-from-consumer-surveys.html#cb1247-64" tabindex="-1"></a>CS_tidy</span></code></pre></div>
</div>
<div id="long-format" class="section level3 hasAnchor" number="21.5.4">
<h3><span class="header-section-number">21.5.4</span> Long Format<a href="insights-from-consumer-surveys.html#long-format" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Convert the data from wide to long format. This changes the layout of the data such that each row is an observation, and each column is a variable.</p>
<div class="sourceCode" id="cb1248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1248-1"><a href="insights-from-consumer-surveys.html#cb1248-1" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1248-2"><a href="insights-from-consumer-surveys.html#cb1248-2" tabindex="-1"></a><span class="co"># Long Format</span></span>
<span id="cb1248-3"><a href="insights-from-consumer-surveys.html#cb1248-3" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1248-4"><a href="insights-from-consumer-surveys.html#cb1248-4" tabindex="-1"></a><span class="co"># Convert wide (= tidy, each column is a variable) to long format</span></span>
<span id="cb1248-5"><a href="insights-from-consumer-surveys.html#cb1248-5" tabindex="-1"></a>CS <span class="ot">&lt;-</span> CS_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb1248-6"><a href="insights-from-consumer-surveys.html#cb1248-6" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;CASEID&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;DATE&quot;</span>, <span class="st">&quot;WT&quot;</span>), </span>
<span id="cb1248-7"><a href="insights-from-consumer-surveys.html#cb1248-7" tabindex="-1"></a>                 <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>,</span>
<span id="cb1248-8"><a href="insights-from-consumer-surveys.html#cb1248-8" tabindex="-1"></a>                 <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>,</span>
<span id="cb1248-9"><a href="insights-from-consumer-surveys.html#cb1248-9" tabindex="-1"></a>                 <span class="at">values_transform =</span> as.numeric,</span>
<span id="cb1248-10"><a href="insights-from-consumer-surveys.html#cb1248-10" tabindex="-1"></a>                 <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1248-11"><a href="insights-from-consumer-surveys.html#cb1248-11" tabindex="-1"></a></span>
<span id="cb1248-12"><a href="insights-from-consumer-surveys.html#cb1248-12" tabindex="-1"></a><span class="co"># Keep label attributes</span></span>
<span id="cb1248-13"><a href="insights-from-consumer-surveys.html#cb1248-13" tabindex="-1"></a><span class="fu">attr</span>(CS, <span class="st">&quot;labels&quot;</span>) <span class="ot">&lt;-</span> <span class="fu">attr</span>(CS_tidy, <span class="st">&quot;labels&quot;</span>)</span>
<span id="cb1248-14"><a href="insights-from-consumer-surveys.html#cb1248-14" tabindex="-1"></a></span>
<span id="cb1248-15"><a href="insights-from-consumer-surveys.html#cb1248-15" tabindex="-1"></a><span class="co"># Add variable labels</span></span>
<span id="cb1248-16"><a href="insights-from-consumer-surveys.html#cb1248-16" tabindex="-1"></a>CS <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span> </span>
<span id="cb1248-17"><a href="insights-from-consumer-surveys.html#cb1248-17" tabindex="-1"></a>    <span class="fu">left_join</span>(</span>
<span id="cb1248-18"><a href="insights-from-consumer-surveys.html#cb1248-18" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">attr</span>(CS, <span class="st">&quot;labels&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-19"><a href="insights-from-consumer-surveys.html#cb1248-19" tabindex="-1"></a>            <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;variable&quot;</span>, <span class="st">&quot;label_var&quot;</span>, <span class="st">&quot;dcml&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-20"><a href="insights-from-consumer-surveys.html#cb1248-20" tabindex="-1"></a>            <span class="fu">distinct</span>(),</span>
<span id="cb1248-21"><a href="insights-from-consumer-surveys.html#cb1248-21" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">&quot;variable&quot;</span></span>
<span id="cb1248-22"><a href="insights-from-consumer-surveys.html#cb1248-22" tabindex="-1"></a>    )</span>
<span id="cb1248-23"><a href="insights-from-consumer-surveys.html#cb1248-23" tabindex="-1"></a></span>
<span id="cb1248-24"><a href="insights-from-consumer-surveys.html#cb1248-24" tabindex="-1"></a><span class="co"># Add factor labels</span></span>
<span id="cb1248-25"><a href="insights-from-consumer-surveys.html#cb1248-25" tabindex="-1"></a>CS <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span> </span>
<span id="cb1248-26"><a href="insights-from-consumer-surveys.html#cb1248-26" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">value_cat =</span> <span class="fu">ifelse</span>(dcml <span class="sc">==</span> <span class="dv">0</span>, <span class="fu">as.integer</span>(value), <span class="cn">NA_integer_</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-27"><a href="insights-from-consumer-surveys.html#cb1248-27" tabindex="-1"></a>    <span class="fu">left_join</span>(</span>
<span id="cb1248-28"><a href="insights-from-consumer-surveys.html#cb1248-28" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">attr</span>(CS, <span class="st">&quot;labels&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-29"><a href="insights-from-consumer-surveys.html#cb1248-29" tabindex="-1"></a>            <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;variable&quot;</span>, <span class="st">&quot;label_cat&quot;</span>, <span class="st">&quot;value_cat&quot;</span>)),</span>
<span id="cb1248-30"><a href="insights-from-consumer-surveys.html#cb1248-30" tabindex="-1"></a>        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;variable&quot;</span>, <span class="st">&quot;value_cat&quot;</span>)</span>
<span id="cb1248-31"><a href="insights-from-consumer-surveys.html#cb1248-31" tabindex="-1"></a>    )</span>
<span id="cb1248-32"><a href="insights-from-consumer-surveys.html#cb1248-32" tabindex="-1"></a></span>
<span id="cb1248-33"><a href="insights-from-consumer-surveys.html#cb1248-33" tabindex="-1"></a><span class="co"># Separate between categorical values and numerical values</span></span>
<span id="cb1248-34"><a href="insights-from-consumer-surveys.html#cb1248-34" tabindex="-1"></a>CS <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span> </span>
<span id="cb1248-35"><a href="insights-from-consumer-surveys.html#cb1248-35" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">value_cat =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(label_cat), value_cat, <span class="cn">NA_integer_</span>),</span>
<span id="cb1248-36"><a href="insights-from-consumer-surveys.html#cb1248-36" tabindex="-1"></a>           <span class="at">value =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(value_cat), <span class="cn">NA_real_</span>, value))</span>
<span id="cb1248-37"><a href="insights-from-consumer-surveys.html#cb1248-37" tabindex="-1"></a></span>
<span id="cb1248-38"><a href="insights-from-consumer-surveys.html#cb1248-38" tabindex="-1"></a><span class="co"># Organize data</span></span>
<span id="cb1248-39"><a href="insights-from-consumer-surveys.html#cb1248-39" tabindex="-1"></a>CS <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span> </span>
<span id="cb1248-40"><a href="insights-from-consumer-surveys.html#cb1248-40" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">unique</span>(variable), <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-41"><a href="insights-from-consumer-surveys.html#cb1248-41" tabindex="-1"></a>    <span class="fu">arrange</span>(DATE, R, variable, value_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb1248-42"><a href="insights-from-consumer-surveys.html#cb1248-42" tabindex="-1"></a>    <span class="fu">relocate</span>(CASEID, DATE, R, WT, variable, dcml, value, value_cat, label_cat, label_var)</span>
<span id="cb1248-43"><a href="insights-from-consumer-surveys.html#cb1248-43" tabindex="-1"></a></span>
<span id="cb1248-44"><a href="insights-from-consumer-surveys.html#cb1248-44" tabindex="-1"></a><span class="co"># Check if there is only one answer per CASEID, person, time period, and question:</span></span>
<span id="cb1248-45"><a href="insights-from-consumer-surveys.html#cb1248-45" tabindex="-1"></a><span class="cf">if</span>(<span class="cn">FALSE</span>){</span>
<span id="cb1248-46"><a href="insights-from-consumer-surveys.html#cb1248-46" tabindex="-1"></a>    CS <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span>
<span id="cb1248-47"><a href="insights-from-consumer-surveys.html#cb1248-47" tabindex="-1"></a>    CS <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(CASEID, variable) <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span>
<span id="cb1248-48"><a href="insights-from-consumer-surveys.html#cb1248-48" tabindex="-1"></a>}</span>
<span id="cb1248-49"><a href="insights-from-consumer-surveys.html#cb1248-49" tabindex="-1"></a></span>
<span id="cb1248-50"><a href="insights-from-consumer-surveys.html#cb1248-50" tabindex="-1"></a><span class="co"># Print data</span></span>
<span id="cb1248-51"><a href="insights-from-consumer-surveys.html#cb1248-51" tabindex="-1"></a>CS</span></code></pre></div>
</div>
<div id="saving-the-data" class="section level3 hasAnchor" number="21.5.5">
<h3><span class="header-section-number">21.5.5</span> Saving the Data<a href="insights-from-consumer-surveys.html#saving-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The cleaned data is saved as both CSV and RDS files under the <code>downloads</code> folder.</p>
<div class="sourceCode" id="cb1249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1249-1"><a href="insights-from-consumer-surveys.html#cb1249-1" tabindex="-1"></a><span class="co"># Create downloads folder</span></span>
<span id="cb1249-2"><a href="insights-from-consumer-surveys.html#cb1249-2" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;downloads&quot;</span>)</span>
<span id="cb1249-3"><a href="insights-from-consumer-surveys.html#cb1249-3" tabindex="-1"></a></span>
<span id="cb1249-4"><a href="insights-from-consumer-surveys.html#cb1249-4" tabindex="-1"></a><span class="co"># Save data as RDS files</span></span>
<span id="cb1249-5"><a href="insights-from-consumer-surveys.html#cb1249-5" tabindex="-1"></a><span class="fu">saveRDS</span>(CS_tidy, <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS_tidy.rds&quot;</span>))</span>
<span id="cb1249-6"><a href="insights-from-consumer-surveys.html#cb1249-6" tabindex="-1"></a><span class="fu">saveRDS</span>(CS, <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS.rds&quot;</span>))</span>
<span id="cb1249-7"><a href="insights-from-consumer-surveys.html#cb1249-7" tabindex="-1"></a></span>
<span id="cb1249-8"><a href="insights-from-consumer-surveys.html#cb1249-8" tabindex="-1"></a><span class="co"># Save data as CSV files</span></span>
<span id="cb1249-9"><a href="insights-from-consumer-surveys.html#cb1249-9" tabindex="-1"></a><span class="fu">write_csv</span>(CS_tidy, <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS_tidy.csv&quot;</span>))</span>
<span id="cb1249-10"><a href="insights-from-consumer-surveys.html#cb1249-10" tabindex="-1"></a><span class="fu">write_csv</span>(CS, <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS.csv&quot;</span>))</span>
<span id="cb1249-11"><a href="insights-from-consumer-surveys.html#cb1249-11" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="fu">attr</span>(CS, <span class="st">&quot;labels&quot;</span>), <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS_labels.csv&quot;</span>))</span>
<span id="cb1249-12"><a href="insights-from-consumer-surveys.html#cb1249-12" tabindex="-1"></a></span>
<span id="cb1249-13"><a href="insights-from-consumer-surveys.html#cb1249-13" tabindex="-1"></a><span class="co"># Save raw data</span></span>
<span id="cb1249-14"><a href="insights-from-consumer-surveys.html#cb1249-14" tabindex="-1"></a><span class="fu">write_csv</span>(CS_raw, <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS_raw_data.csv&quot;</span>))</span>
<span id="cb1249-15"><a href="insights-from-consumer-surveys.html#cb1249-15" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">readLines</span>(data_label_file), <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;CS_raw_labels.txt&quot;</span>))</span></code></pre></div>
<p>That wraps up the process of importing and cleaning the Michigan Consumer Survey data. You can now proceed to analyze the data. To load the data in a future session, you can use the <code>readRDS()</code> function.</p>
<div class="sourceCode" id="cb1250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1250-1"><a href="insights-from-consumer-surveys.html#cb1250-1" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb1250-2"><a href="insights-from-consumer-surveys.html#cb1250-2" tabindex="-1"></a><span class="co"># data &lt;- readRDS(&quot;downloads/CS.rds&quot;)</span></span></code></pre></div>
</div>
</div>
<div id="exploring-individual-level-data" class="section level2 hasAnchor" number="21.6">
<h2><span class="header-section-number">21.6</span> Exploring Individual-Level Data<a href="insights-from-consumer-surveys.html#exploring-individual-level-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s visualize some of the individual-level data:</p>
<div class="sourceCode" id="cb1251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1251-1"><a href="insights-from-consumer-surveys.html#cb1251-1" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1251-2"><a href="insights-from-consumer-surveys.html#cb1251-2" tabindex="-1"></a><span class="co"># Individual-Level Analysis</span></span>
<span id="cb1251-3"><a href="insights-from-consumer-surveys.html#cb1251-3" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1251-4"><a href="insights-from-consumer-surveys.html#cb1251-4" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb1251-5"><a href="insights-from-consumer-surveys.html#cb1251-5" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1251-6"><a href="insights-from-consumer-surveys.html#cb1251-6" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;ggplot2&quot;</span>)</span>
<span id="cb1251-7"><a href="insights-from-consumer-surveys.html#cb1251-7" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;quantmod&quot;</span>)</span>
<span id="cb1251-8"><a href="insights-from-consumer-surveys.html#cb1251-8" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;lubridate&quot;</span>)</span>
<span id="cb1251-9"><a href="insights-from-consumer-surveys.html#cb1251-9" tabindex="-1"></a></span>
<span id="cb1251-10"><a href="insights-from-consumer-surveys.html#cb1251-10" tabindex="-1"></a><span class="co"># Colorblind-friendly Figure Style</span></span>
<span id="cb1251-11"><a href="insights-from-consumer-surveys.html#cb1251-11" tabindex="-1"></a>cb_col <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#000000&quot;</span>,<span class="st">&quot;#004949&quot;</span>,<span class="st">&quot;#009292&quot;</span>,<span class="st">&quot;#ff6db6&quot;</span>,<span class="st">&quot;#ffb6db&quot;</span>,</span>
<span id="cb1251-12"><a href="insights-from-consumer-surveys.html#cb1251-12" tabindex="-1"></a>            <span class="st">&quot;#490092&quot;</span>,<span class="st">&quot;#006ddb&quot;</span>,<span class="st">&quot;#b66dff&quot;</span>,<span class="st">&quot;#6db6ff&quot;</span>,<span class="st">&quot;#b6dbff&quot;</span>,</span>
<span id="cb1251-13"><a href="insights-from-consumer-surveys.html#cb1251-13" tabindex="-1"></a>            <span class="st">&quot;#920000&quot;</span>,<span class="st">&quot;#924900&quot;</span>,<span class="st">&quot;#db6d00&quot;</span>,<span class="st">&quot;#24ff24&quot;</span>,<span class="st">&quot;#ffff6d&quot;</span>)</span>
<span id="cb1251-14"><a href="insights-from-consumer-surveys.html#cb1251-14" tabindex="-1"></a>fig_style <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb1251-15"><a href="insights-from-consumer-surveys.html#cb1251-15" tabindex="-1"></a>fig_style<span class="sc">$</span>color <span class="ot">&lt;-</span> cb_col[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">2</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">14</span>, <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">100</span>))]</span>
<span id="cb1251-16"><a href="insights-from-consumer-surveys.html#cb1251-16" tabindex="-1"></a>fig_style<span class="sc">$</span>alpha <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, .<span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="fu">rep</span>(.<span class="dv">5</span>, <span class="dv">100</span>))</span>
<span id="cb1251-17"><a href="insights-from-consumer-surveys.html#cb1251-17" tabindex="-1"></a>fig_style<span class="sc">$</span>linetype <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">100</span>)</span>
<span id="cb1251-18"><a href="insights-from-consumer-surveys.html#cb1251-18" tabindex="-1"></a>fig_style<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">c</span>(.<span class="dv">7</span>, .<span class="dv">9</span>, .<span class="dv">7</span>, <span class="fl">1.3</span>, .<span class="dv">4</span>, <span class="dv">1</span>, .<span class="dv">4</span>, <span class="fl">1.3</span>, .<span class="dv">7</span>, <span class="dv">1</span>, <span class="fu">rep</span>(.<span class="dv">7</span>, <span class="dv">100</span>))</span>
<span id="cb1251-19"><a href="insights-from-consumer-surveys.html#cb1251-19" tabindex="-1"></a></span>
<span id="cb1251-20"><a href="insights-from-consumer-surveys.html#cb1251-20" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb1251-21"><a href="insights-from-consumer-surveys.html#cb1251-21" tabindex="-1"></a>CS <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;downloads/CS.rds&quot;</span>)</span>
<span id="cb1251-22"><a href="insights-from-consumer-surveys.html#cb1251-22" tabindex="-1"></a></span>
<span id="cb1251-23"><a href="insights-from-consumer-surveys.html#cb1251-23" tabindex="-1"></a><span class="co"># Input</span></span>
<span id="cb1251-24"><a href="insights-from-consumer-surveys.html#cb1251-24" tabindex="-1"></a>cs_select <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;PAGO&quot;</span>, <span class="st">&quot;PEXP&quot;</span>, <span class="st">&quot;BUS12&quot;</span>, <span class="st">&quot;BUS5&quot;</span>, <span class="st">&quot;DUR&quot;</span>)</span>
<span id="cb1251-25"><a href="insights-from-consumer-surveys.html#cb1251-25" tabindex="-1"></a></span>
<span id="cb1251-26"><a href="insights-from-consumer-surveys.html#cb1251-26" tabindex="-1"></a><span class="co"># Extract relevant data</span></span>
<span id="cb1251-27"><a href="insights-from-consumer-surveys.html#cb1251-27" tabindex="-1"></a>cs_CS <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span> </span>
<span id="cb1251-28"><a href="insights-from-consumer-surveys.html#cb1251-28" tabindex="-1"></a>    <span class="fu">filter</span>(variable <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;R&quot;</span>, <span class="st">&quot;DATE&quot;</span>, cs_select))</span>
<span id="cb1251-29"><a href="insights-from-consumer-surveys.html#cb1251-29" tabindex="-1"></a></span>
<span id="cb1251-30"><a href="insights-from-consumer-surveys.html#cb1251-30" tabindex="-1"></a><span class="co"># Normalize answers across variables</span></span>
<span id="cb1251-31"><a href="insights-from-consumer-surveys.html#cb1251-31" tabindex="-1"></a>cs_CS <span class="ot">&lt;-</span> cs_CS <span class="sc">%&gt;%</span></span>
<span id="cb1251-32"><a href="insights-from-consumer-surveys.html#cb1251-32" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">category =</span> <span class="fu">factor</span>(value_cat, </span>
<span id="cb1251-33"><a href="insights-from-consumer-surveys.html#cb1251-33" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb1251-34"><a href="insights-from-consumer-surveys.html#cb1251-34" tabindex="-1"></a>                                        <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">98</span>, <span class="dv">99</span>), </span>
<span id="cb1251-35"><a href="insights-from-consumer-surveys.html#cb1251-35" tabindex="-1"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Same&quot;</span>, <span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Good&quot;</span>,  </span>
<span id="cb1251-36"><a href="insights-from-consumer-surveys.html#cb1251-36" tabindex="-1"></a>                                        <span class="st">&quot;Don&#39;t Know&quot;</span>, <span class="st">&quot;Missing&quot;</span>, <span class="st">&quot;Don&#39;t Know&quot;</span>, <span class="st">&quot;Missing&quot;</span>),</span>
<span id="cb1251-37"><a href="insights-from-consumer-surveys.html#cb1251-37" tabindex="-1"></a>                             <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1251-38"><a href="insights-from-consumer-surveys.html#cb1251-38" tabindex="-1"></a></span>
<span id="cb1251-39"><a href="insights-from-consumer-surveys.html#cb1251-39" tabindex="-1"></a><span class="co"># Select specific dates</span></span>
<span id="cb1251-40"><a href="insights-from-consumer-surveys.html#cb1251-40" tabindex="-1"></a>date_now <span class="ot">&lt;-</span> <span class="fu">max</span>(cs_CS<span class="sc">$</span>DATE)</span>
<span id="cb1251-41"><a href="insights-from-consumer-surveys.html#cb1251-41" tabindex="-1"></a>recent_dates <span class="ot">&lt;-</span> <span class="fu">add_with_rollback</span>(date_now, <span class="sc">-</span> <span class="fu">c</span>(<span class="fu">months</span>(<span class="dv">0</span>), <span class="fu">months</span>(<span class="dv">6</span>), <span class="fu">months</span>(<span class="dv">12</span>)))</span>
<span id="cb1251-42"><a href="insights-from-consumer-surveys.html#cb1251-42" tabindex="-1"></a></span>
<span id="cb1251-43"><a href="insights-from-consumer-surveys.html#cb1251-43" tabindex="-1"></a><span class="co"># Aggregation</span></span>
<span id="cb1251-44"><a href="insights-from-consumer-surveys.html#cb1251-44" tabindex="-1"></a>cs_freq <span class="ot">&lt;-</span> cs_CS <span class="sc">%&gt;%</span></span>
<span id="cb1251-45"><a href="insights-from-consumer-surveys.html#cb1251-45" tabindex="-1"></a>    <span class="fu">group_by</span>(variable, category) <span class="sc">%&gt;%</span> </span>
<span id="cb1251-46"><a href="insights-from-consumer-surveys.html#cb1251-46" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">sum</span>(WT), </span>
<span id="cb1251-47"><a href="insights-from-consumer-surveys.html#cb1251-47" tabindex="-1"></a>              <span class="at">n_now =</span> <span class="fu">sum</span>(WT[DATE <span class="sc">==</span> date_now]), </span>
<span id="cb1251-48"><a href="insights-from-consumer-surveys.html#cb1251-48" tabindex="-1"></a>              <span class="at">n_prev =</span> <span class="fu">sum</span>(WT[<span class="fu">format</span>(DATE, <span class="st">&quot;%Y&quot;</span>) <span class="sc">==</span> <span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)]),</span>
<span id="cb1251-49"><a href="insights-from-consumer-surveys.html#cb1251-49" tabindex="-1"></a>              <span class="at">n_prev2 =</span> <span class="fu">sum</span>(WT[<span class="fu">format</span>(DATE, <span class="st">&quot;%Y&quot;</span>) <span class="sc">%in%</span> </span>
<span id="cb1251-50"><a href="insights-from-consumer-surveys.html#cb1251-50" tabindex="-1"></a>                                   <span class="fu">as.character</span>(<span class="fu">as.numeric</span>(<span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)) <span class="sc">-</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>))])) <span class="sc">%&gt;%</span> </span>
<span id="cb1251-51"><a href="insights-from-consumer-surveys.html#cb1251-51" tabindex="-1"></a>    <span class="fu">ungroup</span>(category) <span class="sc">%&gt;%</span> </span>
<span id="cb1251-52"><a href="insights-from-consumer-surveys.html#cb1251-52" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">category =</span> category, </span>
<span id="cb1251-53"><a href="insights-from-consumer-surveys.html#cb1251-53" tabindex="-1"></a>              <span class="at">freq =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb1251-54"><a href="insights-from-consumer-surveys.html#cb1251-54" tabindex="-1"></a>              <span class="at">freq_now =</span> <span class="dv">100</span> <span class="sc">*</span> n_now <span class="sc">/</span> <span class="fu">sum</span>(n_now), </span>
<span id="cb1251-55"><a href="insights-from-consumer-surveys.html#cb1251-55" tabindex="-1"></a>              <span class="at">freq_prev =</span> <span class="dv">100</span> <span class="sc">*</span> n_prev <span class="sc">/</span> <span class="fu">sum</span>(n_prev), </span>
<span id="cb1251-56"><a href="insights-from-consumer-surveys.html#cb1251-56" tabindex="-1"></a>              <span class="at">freq_prev2 =</span> <span class="dv">100</span> <span class="sc">*</span> n_prev2 <span class="sc">/</span> <span class="fu">sum</span>(n_prev2)) <span class="sc">%&gt;%</span> </span>
<span id="cb1251-57"><a href="insights-from-consumer-surveys.html#cb1251-57" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1251-58"><a href="insights-from-consumer-surveys.html#cb1251-58" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;variable&quot;</span>, <span class="st">&quot;category&quot;</span>), <span class="at">names_to =</span> <span class="st">&quot;date&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;freq&quot;</span>)</span>
<span id="cb1251-59"><a href="insights-from-consumer-surveys.html#cb1251-59" tabindex="-1"></a></span>
<span id="cb1251-60"><a href="insights-from-consumer-surveys.html#cb1251-60" tabindex="-1"></a><span class="co"># Labeling</span></span>
<span id="cb1251-61"><a href="insights-from-consumer-surveys.html#cb1251-61" tabindex="-1"></a>cs_freq <span class="ot">&lt;-</span> cs_freq <span class="sc">%&gt;%</span> </span>
<span id="cb1251-62"><a href="insights-from-consumer-surveys.html#cb1251-62" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">factor</span>(date, <span class="at">levels =</span> <span class="fu">rev</span>(<span class="fu">c</span>(<span class="st">&quot;freq&quot;</span>, <span class="st">&quot;freq_prev2&quot;</span>, <span class="st">&quot;freq_prev&quot;</span>, <span class="st">&quot;freq_now&quot;</span>)),</span>
<span id="cb1251-63"><a href="insights-from-consumer-surveys.html#cb1251-63" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">rev</span>(<span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">&quot;1978&quot;</span>, <span class="st">&quot; - &quot;</span>, <span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)),</span>
<span id="cb1251-64"><a href="insights-from-consumer-surveys.html#cb1251-64" tabindex="-1"></a>                                        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(<span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)) <span class="sc">-</span> <span class="dv">2</span>, <span class="st">&quot; - &quot;</span>, </span>
<span id="cb1251-65"><a href="insights-from-consumer-surveys.html#cb1251-65" tabindex="-1"></a>                                               <span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)),</span>
<span id="cb1251-66"><a href="insights-from-consumer-surveys.html#cb1251-66" tabindex="-1"></a>                                        <span class="fu">paste0</span>(<span class="st">&quot;Jan - &quot;</span>, <span class="fu">format</span>(date_now, <span class="st">&quot;%b &quot;</span>), <span class="fu">format</span>(date_now, <span class="st">&quot;%Y&quot;</span>)),</span>
<span id="cb1251-67"><a href="insights-from-consumer-surveys.html#cb1251-67" tabindex="-1"></a>                                        <span class="fu">format</span>(date_now, <span class="st">&quot;%b %Y&quot;</span>))),</span>
<span id="cb1251-68"><a href="insights-from-consumer-surveys.html#cb1251-68" tabindex="-1"></a>                         <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1251-69"><a href="insights-from-consumer-surveys.html#cb1251-69" tabindex="-1"></a></span>
<span id="cb1251-70"><a href="insights-from-consumer-surveys.html#cb1251-70" tabindex="-1"></a></span>
<span id="cb1251-71"><a href="insights-from-consumer-surveys.html#cb1251-71" tabindex="-1"></a><span class="co"># Make plot</span></span>
<span id="cb1251-72"><a href="insights-from-consumer-surveys.html#cb1251-72" tabindex="-1"></a>cross_plot <span class="ot">&lt;-</span> cs_freq <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> freq, <span class="at">y =</span> date, <span class="at">fill =</span> category))<span class="sc">+</span></span>
<span id="cb1251-73"><a href="insights-from-consumer-surveys.html#cb1251-73" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>))<span class="sc">+</span></span>
<span id="cb1251-74"><a href="insights-from-consumer-surveys.html#cb1251-74" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb1251-75"><a href="insights-from-consumer-surveys.html#cb1251-75" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="cn">NULL</span>, <span class="at">values =</span> fig_style<span class="sc">$</span>color)<span class="sc">+</span></span>
<span id="cb1251-76"><a href="insights-from-consumer-surveys.html#cb1251-76" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(variable), <span class="at">switch =</span> <span class="st">&quot;both&quot;</span>)<span class="sc">+</span></span>
<span id="cb1251-77"><a href="insights-from-consumer-surveys.html#cb1251-77" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Share of Responses in %&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>)<span class="sc">+</span></span>
<span id="cb1251-78"><a href="insights-from-consumer-surveys.html#cb1251-78" tabindex="-1"></a>    <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb1251-79"><a href="insights-from-consumer-surveys.html#cb1251-79" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb1251-80"><a href="insights-from-consumer-surveys.html#cb1251-80" tabindex="-1"></a>          <span class="at">legend.key.size =</span> <span class="fu">unit</span>(.<span class="dv">5</span>, <span class="st">&quot;cm&quot;</span>))</span>
<span id="cb1251-81"><a href="insights-from-consumer-surveys.html#cb1251-81" tabindex="-1"></a></span>
<span id="cb1251-82"><a href="insights-from-consumer-surveys.html#cb1251-82" tabindex="-1"></a><span class="co"># Show plot</span></span>
<span id="cb1251-83"><a href="insights-from-consumer-surveys.html#cb1251-83" tabindex="-1"></a>cross_plot</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-558-1.png" width="80%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb1252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1252-1"><a href="insights-from-consumer-surveys.html#cb1252-1" tabindex="-1"></a><span class="co"># Save plot</span></span>
<span id="cb1252-2"><a href="insights-from-consumer-surveys.html#cb1252-2" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1252-3"><a href="insights-from-consumer-surveys.html#cb1252-3" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;cs_crossplot.png&quot;</span>), </span>
<span id="cb1252-4"><a href="insights-from-consumer-surveys.html#cb1252-4" tabindex="-1"></a>       <span class="at">plot =</span> cross_plot, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">4</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code></pre></div>
</div>
<div id="replicate-ics" class="section level2 hasAnchor" number="21.7">
<h2><span class="header-section-number">21.7</span> Replicate ICS<a href="insights-from-consumer-surveys.html#replicate-ics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s use the individual-level data to reproduce the Index of Consumer Sentiment (ICS). You can tailor this process to create any index based on any set of questions.</p>
<p>But first, let’s define the recession shade function, as discussed in Chapter <a href="data-categorization.html#time-series-data">12.6.2</a>:</p>
<div class="sourceCode" id="cb1253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1253-1"><a href="insights-from-consumer-surveys.html#cb1253-1" tabindex="-1"></a><span class="co">#--------------------------------</span></span>
<span id="cb1253-2"><a href="insights-from-consumer-surveys.html#cb1253-2" tabindex="-1"></a><span class="co"># Recession shades</span></span>
<span id="cb1253-3"><a href="insights-from-consumer-surveys.html#cb1253-3" tabindex="-1"></a><span class="co">#--------------------------------</span></span>
<span id="cb1253-4"><a href="insights-from-consumer-surveys.html#cb1253-4" tabindex="-1"></a><span class="co"># Load NBER based recession indicators for the United States</span></span>
<span id="cb1253-5"><a href="insights-from-consumer-surveys.html#cb1253-5" tabindex="-1"></a>quantmod<span class="sc">::</span><span class="fu">getSymbols</span>(<span class="st">&quot;USRECM&quot;</span>, <span class="at">src =</span> <span class="st">&quot;FRED&quot;</span>)</span>
<span id="cb1253-6"><a href="insights-from-consumer-surveys.html#cb1253-6" tabindex="-1"></a></span>
<span id="cb1253-7"><a href="insights-from-consumer-surveys.html#cb1253-7" tabindex="-1"></a><span class="co"># Create a data frame with dates referring to start and end of recessions</span></span>
<span id="cb1253-8"><a href="insights-from-consumer-surveys.html#cb1253-8" tabindex="-1"></a>REC <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">index =</span> zoo<span class="sc">::</span><span class="fu">index</span>(USRECM), <span class="at">USRECM =</span> zoo<span class="sc">::</span><span class="fu">coredata</span>(USRECM))</span>
<span id="cb1253-9"><a href="insights-from-consumer-surveys.html#cb1253-9" tabindex="-1"></a>REC <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">list</span>(REC[<span class="dv">1</span>, <span class="st">&quot;index&quot;</span>], <span class="dv">0</span>), REC, <span class="fu">list</span>(REC[<span class="fu">nrow</span>(REC), <span class="st">&quot;index&quot;</span>], <span class="dv">0</span>))</span>
<span id="cb1253-10"><a href="insights-from-consumer-surveys.html#cb1253-10" tabindex="-1"></a>REC<span class="sc">$</span>dUSRECM <span class="ot">&lt;-</span> REC<span class="sc">$</span>USRECM <span class="sc">-</span> <span class="fu">c</span>(<span class="cn">NA</span>, REC<span class="sc">$</span>USRECM[<span class="sc">-</span><span class="fu">nrow</span>(REC)])</span>
<span id="cb1253-11"><a href="insights-from-consumer-surveys.html#cb1253-11" tabindex="-1"></a>REC <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">rec_start =</span> REC<span class="sc">$</span>index[REC<span class="sc">$</span>dUSRECM <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(REC<span class="sc">$</span>dUSRECM)],</span>
<span id="cb1253-12"><a href="insights-from-consumer-surveys.html#cb1253-12" tabindex="-1"></a>                  <span class="at">rec_end =</span> REC<span class="sc">$</span>index[REC<span class="sc">$</span>dUSRECM <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(REC<span class="sc">$</span>dUSRECM)])</span>
<span id="cb1253-13"><a href="insights-from-consumer-surveys.html#cb1253-13" tabindex="-1"></a></span>
<span id="cb1253-14"><a href="insights-from-consumer-surveys.html#cb1253-14" tabindex="-1"></a><span class="co"># Add a ggplot() layer that draws rectangles for those recession periods</span></span>
<span id="cb1253-15"><a href="insights-from-consumer-surveys.html#cb1253-15" tabindex="-1"></a>geom_recession_shades <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">min</span>(REC<span class="sc">$</span>rec_start), <span class="fu">max</span>(REC<span class="sc">$</span>rec_end))){</span>
<span id="cb1253-16"><a href="insights-from-consumer-surveys.html#cb1253-16" tabindex="-1"></a>    <span class="fu">geom_rect</span>(<span class="at">data =</span> REC[REC<span class="sc">$</span>rec_start <span class="sc">&gt;=</span> xlim[<span class="dv">1</span>] <span class="sc">&amp;</span> REC<span class="sc">$</span>rec_end <span class="sc">&lt;=</span> xlim[<span class="dv">2</span>], ], </span>
<span id="cb1253-17"><a href="insights-from-consumer-surveys.html#cb1253-17" tabindex="-1"></a>              <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>, </span>
<span id="cb1253-18"><a href="insights-from-consumer-surveys.html#cb1253-18" tabindex="-1"></a>              <span class="fu">aes</span>(<span class="at">xmin =</span> rec_start, <span class="at">xmax =</span> rec_end, <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">ymax =</span> <span class="sc">+</span><span class="cn">Inf</span>),</span>
<span id="cb1253-19"><a href="insights-from-consumer-surveys.html#cb1253-19" tabindex="-1"></a>              <span class="at">fill =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> .<span class="dv">15</span>)</span>
<span id="cb1253-20"><a href="insights-from-consumer-surveys.html#cb1253-20" tabindex="-1"></a>}</span></code></pre></div>
<p>Now construct the ICS:</p>
<div class="sourceCode" id="cb1254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1254-1"><a href="insights-from-consumer-surveys.html#cb1254-1" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1254-2"><a href="insights-from-consumer-surveys.html#cb1254-2" tabindex="-1"></a><span class="co"># Construct the Index of Consumer Sentiment</span></span>
<span id="cb1254-3"><a href="insights-from-consumer-surveys.html#cb1254-3" tabindex="-1"></a><span class="co">#================================================================================================</span></span>
<span id="cb1254-4"><a href="insights-from-consumer-surveys.html#cb1254-4" tabindex="-1"></a><span class="co"># Input</span></span>
<span id="cb1254-5"><a href="insights-from-consumer-surveys.html#cb1254-5" tabindex="-1"></a>ics_select <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;PAGO&quot;</span>, <span class="st">&quot;PEXP&quot;</span>, <span class="st">&quot;BUS12&quot;</span>, <span class="st">&quot;BUS5&quot;</span>, <span class="st">&quot;DUR&quot;</span>)</span>
<span id="cb1254-6"><a href="insights-from-consumer-surveys.html#cb1254-6" tabindex="-1"></a>ics_variables <span class="ot">&lt;-</span> <span class="fu">attr</span>(CS, <span class="st">&quot;labels&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-7"><a href="insights-from-consumer-surveys.html#cb1254-7" tabindex="-1"></a>    <span class="fu">select</span>(variable, label_var, question) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-8"><a href="insights-from-consumer-surveys.html#cb1254-8" tabindex="-1"></a>    <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1254-9"><a href="insights-from-consumer-surveys.html#cb1254-9" tabindex="-1"></a>    <span class="fu">filter</span>(variable <span class="sc">%in%</span> cs_select) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-10"><a href="insights-from-consumer-surveys.html#cb1254-10" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(<span class="at">x =</span> variable, <span class="at">levels =</span> cs_select, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-11"><a href="insights-from-consumer-surveys.html#cb1254-11" tabindex="-1"></a>    <span class="fu">arrange</span>(variable)</span>
<span id="cb1254-12"><a href="insights-from-consumer-surveys.html#cb1254-12" tabindex="-1"></a></span>
<span id="cb1254-13"><a href="insights-from-consumer-surveys.html#cb1254-13" tabindex="-1"></a><span class="co"># Standardize variables</span></span>
<span id="cb1254-14"><a href="insights-from-consumer-surveys.html#cb1254-14" tabindex="-1"></a>ics_data <span class="ot">&lt;-</span> CS <span class="sc">%&gt;%</span></span>
<span id="cb1254-15"><a href="insights-from-consumer-surveys.html#cb1254-15" tabindex="-1"></a>    <span class="fu">filter</span>(variable <span class="sc">%in%</span> ics_variables<span class="sc">$</span>variable) <span class="sc">%&gt;%</span></span>
<span id="cb1254-16"><a href="insights-from-consumer-surveys.html#cb1254-16" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">category =</span> <span class="fu">factor</span>(value_cat, </span>
<span id="cb1254-17"><a href="insights-from-consumer-surveys.html#cb1254-17" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb1254-18"><a href="insights-from-consumer-surveys.html#cb1254-18" tabindex="-1"></a>                                        <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">98</span>, <span class="dv">99</span>), </span>
<span id="cb1254-19"><a href="insights-from-consumer-surveys.html#cb1254-19" tabindex="-1"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Same&quot;</span>, <span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Good&quot;</span>,  </span>
<span id="cb1254-20"><a href="insights-from-consumer-surveys.html#cb1254-20" tabindex="-1"></a>                                        <span class="st">&quot;Don&#39;t Know&quot;</span>, <span class="st">&quot;Missing&quot;</span>, <span class="st">&quot;Don&#39;t Know&quot;</span>, <span class="st">&quot;Missing&quot;</span>),</span>
<span id="cb1254-21"><a href="insights-from-consumer-surveys.html#cb1254-21" tabindex="-1"></a>                             <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1254-22"><a href="insights-from-consumer-surveys.html#cb1254-22" tabindex="-1"></a></span>
<span id="cb1254-23"><a href="insights-from-consumer-surveys.html#cb1254-23" tabindex="-1"></a><span class="co"># Aggregate</span></span>
<span id="cb1254-24"><a href="insights-from-consumer-surveys.html#cb1254-24" tabindex="-1"></a>ics_data <span class="ot">&lt;-</span> ics_data <span class="sc">%&gt;%</span> <span class="fu">count</span>(DATE, variable, category, <span class="at">wt =</span> WT) <span class="sc">%&gt;%</span></span>
<span id="cb1254-25"><a href="insights-from-consumer-surveys.html#cb1254-25" tabindex="-1"></a>    <span class="fu">group_by</span>(DATE, variable) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-26"><a href="insights-from-consumer-surveys.html#cb1254-26" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">freq =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb1254-27"><a href="insights-from-consumer-surveys.html#cb1254-27" tabindex="-1"></a></span>
<span id="cb1254-28"><a href="insights-from-consumer-surveys.html#cb1254-28" tabindex="-1"></a><span class="co"># Variable labels</span></span>
<span id="cb1254-29"><a href="insights-from-consumer-surveys.html#cb1254-29" tabindex="-1"></a>ics_data <span class="ot">&lt;-</span> ics_data <span class="sc">%&gt;%</span> </span>
<span id="cb1254-30"><a href="insights-from-consumer-surveys.html#cb1254-30" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label_var =</span> <span class="fu">factor</span>(<span class="at">x =</span> variable, </span>
<span id="cb1254-31"><a href="insights-from-consumer-surveys.html#cb1254-31" tabindex="-1"></a>                          <span class="at">levels =</span> ics_variables<span class="sc">$</span>variable, </span>
<span id="cb1254-32"><a href="insights-from-consumer-surveys.html#cb1254-32" tabindex="-1"></a>                          <span class="at">labels =</span> ics_variables<span class="sc">$</span>label_var,</span>
<span id="cb1254-33"><a href="insights-from-consumer-surveys.html#cb1254-33" tabindex="-1"></a>                          <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1254-34"><a href="insights-from-consumer-surveys.html#cb1254-34" tabindex="-1"></a></span>
<span id="cb1254-35"><a href="insights-from-consumer-surveys.html#cb1254-35" tabindex="-1"></a><span class="co"># Compute scores</span></span>
<span id="cb1254-36"><a href="insights-from-consumer-surveys.html#cb1254-36" tabindex="-1"></a>ics_data <span class="ot">&lt;-</span> ics_data <span class="sc">%&gt;%</span> </span>
<span id="cb1254-37"><a href="insights-from-consumer-surveys.html#cb1254-37" tabindex="-1"></a>    <span class="fu">group_by</span>(DATE, variable, label_var) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-38"><a href="insights-from-consumer-surveys.html#cb1254-38" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">freq =</span> <span class="dv">100</span> <span class="sc">+</span> freq[category <span class="sc">==</span> <span class="st">&quot;Good&quot;</span>] <span class="sc">-</span> freq[category <span class="sc">==</span> <span class="st">&quot;Bad&quot;</span>], <span class="at">category =</span> <span class="st">&quot;Score&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-39"><a href="insights-from-consumer-surveys.html#cb1254-39" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1254-40"><a href="insights-from-consumer-surveys.html#cb1254-40" tabindex="-1"></a>    <span class="fu">bind_rows</span>(ics_data) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-41"><a href="insights-from-consumer-surveys.html#cb1254-41" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">category =</span> <span class="fu">factor</span>(category, <span class="at">levels =</span> <span class="fu">c</span>(<span class="fu">levels</span>(ics_data<span class="sc">$</span>category), <span class="st">&quot;Score&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-42"><a href="insights-from-consumer-surveys.html#cb1254-42" tabindex="-1"></a>    <span class="fu">arrange</span>(DATE, variable, category)</span>
<span id="cb1254-43"><a href="insights-from-consumer-surveys.html#cb1254-43" tabindex="-1"></a></span>
<span id="cb1254-44"><a href="insights-from-consumer-surveys.html#cb1254-44" tabindex="-1"></a><span class="co"># Compute consumer indexes</span></span>
<span id="cb1254-45"><a href="insights-from-consumer-surveys.html#cb1254-45" tabindex="-1"></a>ics_indexes <span class="ot">&lt;-</span> ics_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">&quot;Score&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-46"><a href="insights-from-consumer-surveys.html#cb1254-46" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">intercept =</span> <span class="fu">ifelse</span>(DATE <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">&quot;1981-11-01&quot;</span>), <span class="fl">2.7</span>, <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-47"><a href="insights-from-consumer-surveys.html#cb1254-47" tabindex="-1"></a>    <span class="fu">group_by</span>(DATE) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-48"><a href="insights-from-consumer-surveys.html#cb1254-48" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">ICC =</span> <span class="fu">first</span>(intercept) <span class="sc">+</span> <span class="fu">sum</span>(freq <span class="sc">*</span> (variable <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;PAGO&quot;</span>, <span class="st">&quot;DUR&quot;</span>)) <span class="sc">/</span> <span class="fl">2.6424</span>),</span>
<span id="cb1254-49"><a href="insights-from-consumer-surveys.html#cb1254-49" tabindex="-1"></a>              <span class="at">ICE =</span> <span class="fu">first</span>(intercept) <span class="sc">+</span> <span class="fu">sum</span>(freq <span class="sc">*</span> (variable <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;PEXP&quot;</span>, <span class="st">&quot;BUS12&quot;</span>, <span class="st">&quot;BUS5&quot;</span>)) <span class="sc">/</span> <span class="fl">4.1134</span>),</span>
<span id="cb1254-50"><a href="insights-from-consumer-surveys.html#cb1254-50" tabindex="-1"></a>              <span class="at">ICS =</span> <span class="fu">first</span>(intercept) <span class="sc">+</span> <span class="fu">sum</span>(freq) <span class="sc">/</span> <span class="fl">6.7558</span>)</span>
<span id="cb1254-51"><a href="insights-from-consumer-surveys.html#cb1254-51" tabindex="-1"></a></span>
<span id="cb1254-52"><a href="insights-from-consumer-surveys.html#cb1254-52" tabindex="-1"></a><span class="co"># Check if ICS is correct</span></span>
<span id="cb1254-53"><a href="insights-from-consumer-surveys.html#cb1254-53" tabindex="-1"></a>UMCSENT <span class="ot">&lt;-</span> quantmod<span class="sc">::</span><span class="fu">getSymbols</span>(<span class="st">&quot;UMCSENT&quot;</span>, <span class="at">src =</span> <span class="st">&quot;FRED&quot;</span>, <span class="at">auto.assign =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1254-54"><a href="insights-from-consumer-surveys.html#cb1254-54" tabindex="-1"></a>plot_FRED <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">DATE =</span> <span class="fu">index</span>(UMCSENT), <span class="at">ICS_official =</span> <span class="fu">as.numeric</span>(UMCSENT)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-55"><a href="insights-from-consumer-surveys.html#cb1254-55" tabindex="-1"></a>    <span class="fu">filter</span>(DATE <span class="sc">&gt;=</span> <span class="fu">min</span>(ics_indexes<span class="sc">$</span>DATE)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-56"><a href="insights-from-consumer-surveys.html#cb1254-56" tabindex="-1"></a>    <span class="fu">left_join</span>(ics_indexes, <span class="at">by =</span> <span class="st">&quot;DATE&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_official&quot;</span>, <span class="st">&quot;_self&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1254-57"><a href="insights-from-consumer-surveys.html#cb1254-57" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">diff =</span> ICS_official <span class="sc">-</span> ICS)<span class="sc">%&gt;%</span> </span>
<span id="cb1254-58"><a href="insights-from-consumer-surveys.html#cb1254-58" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> DATE, <span class="at">y =</span> diff))<span class="sc">+</span></span>
<span id="cb1254-59"><a href="insights-from-consumer-surveys.html#cb1254-59" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb1254-60"><a href="insights-from-consumer-surveys.html#cb1254-60" tabindex="-1"></a>plot_FRED</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-560-1.png" width="80%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb1255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1255-1"><a href="insights-from-consumer-surveys.html#cb1255-1" tabindex="-1"></a><span class="co"># Save plot</span></span>
<span id="cb1255-2"><a href="insights-from-consumer-surveys.html#cb1255-2" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1255-3"><a href="insights-from-consumer-surveys.html#cb1255-3" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;FRED_comparison.png&quot;</span>), </span>
<span id="cb1255-4"><a href="insights-from-consumer-surveys.html#cb1255-4" tabindex="-1"></a>       <span class="at">plot =</span> plot_FRED, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span>
<span id="cb1255-5"><a href="insights-from-consumer-surveys.html#cb1255-5" tabindex="-1"></a></span>
<span id="cb1255-6"><a href="insights-from-consumer-surveys.html#cb1255-6" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb1255-7"><a href="insights-from-consumer-surveys.html#cb1255-7" tabindex="-1"></a>ts_plot <span class="ot">&lt;-</span> ics_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Score&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1255-8"><a href="insights-from-consumer-surveys.html#cb1255-8" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> DATE, <span class="at">y =</span> freq, <span class="at">col =</span> <span class="fu">paste</span>(variable, label_var, <span class="at">sep =</span> <span class="st">&quot;: &quot;</span>)))<span class="sc">+</span></span>
<span id="cb1255-9"><a href="insights-from-consumer-surveys.html#cb1255-9" tabindex="-1"></a>    <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb1255-10"><a href="insights-from-consumer-surveys.html#cb1255-10" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="cn">NULL</span>, <span class="at">values =</span> fig_style<span class="sc">$</span>color)<span class="sc">+</span></span>
<span id="cb1255-11"><a href="insights-from-consumer-surveys.html#cb1255-11" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(category), <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">switch =</span> <span class="st">&quot;both&quot;</span>)<span class="sc">+</span></span>
<span id="cb1255-12"><a href="insights-from-consumer-surveys.html#cb1255-12" tabindex="-1"></a>    <span class="fu">geom_recession_shades</span>(<span class="at">xlim =</span> <span class="fu">range</span>(ics_data<span class="sc">$</span>DATE))<span class="sc">+</span></span>
<span id="cb1255-13"><a href="insights-from-consumer-surveys.html#cb1255-13" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;                                          Share of Responses in %&quot;</span>,</span>
<span id="cb1255-14"><a href="insights-from-consumer-surveys.html#cb1255-14" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">&quot;Score = 100 + Good - Bad&quot;</span>)<span class="sc">+</span></span>
<span id="cb1255-15"><a href="insights-from-consumer-surveys.html#cb1255-15" tabindex="-1"></a>    <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb1255-16"><a href="insights-from-consumer-surveys.html#cb1255-16" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb1255-17"><a href="insights-from-consumer-surveys.html#cb1255-17" tabindex="-1"></a>          <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1255-18"><a href="insights-from-consumer-surveys.html#cb1255-18" tabindex="-1"></a>          <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb1255-19"><a href="insights-from-consumer-surveys.html#cb1255-19" tabindex="-1"></a>          <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb1255-20"><a href="insights-from-consumer-surveys.html#cb1255-20" tabindex="-1"></a>          <span class="at">legend.key.size =</span> <span class="fu">unit</span>(.<span class="dv">5</span>, <span class="st">&quot;cm&quot;</span>),</span>
<span id="cb1255-21"><a href="insights-from-consumer-surveys.html#cb1255-21" tabindex="-1"></a>          <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb1255-22"><a href="insights-from-consumer-surveys.html#cb1255-22" tabindex="-1"></a>          <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span>,</span>
<span id="cb1255-23"><a href="insights-from-consumer-surveys.html#cb1255-23" tabindex="-1"></a>          <span class="at">legend.justification =</span> <span class="st">&quot;left&quot;</span>,</span>
<span id="cb1255-24"><a href="insights-from-consumer-surveys.html#cb1255-24" tabindex="-1"></a>          <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">0</span>, <span class="at">r =</span> <span class="dv">0</span>, <span class="at">b =</span> <span class="sc">-</span><span class="dv">4</span>, <span class="at">l =</span> <span class="sc">-</span><span class="dv">12</span>),</span>
<span id="cb1255-25"><a href="insights-from-consumer-surveys.html#cb1255-25" tabindex="-1"></a>          <span class="at">legend.box.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="sc">-</span><span class="dv">8</span>, <span class="at">r =</span> <span class="dv">0</span>, <span class="at">b =</span> <span class="dv">0</span>, <span class="at">l =</span> <span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb1255-26"><a href="insights-from-consumer-surveys.html#cb1255-26" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">2</span>),</span>
<span id="cb1255-27"><a href="insights-from-consumer-surveys.html#cb1255-27" tabindex="-1"></a>           <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">2</span>),</span>
<span id="cb1255-28"><a href="insights-from-consumer-surveys.html#cb1255-28" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">2</span>))</span>
<span id="cb1255-29"><a href="insights-from-consumer-surveys.html#cb1255-29" tabindex="-1"></a>ts_plot</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-560-2.png" width="80%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb1256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1256-1"><a href="insights-from-consumer-surveys.html#cb1256-1" tabindex="-1"></a><span class="co"># Save plot</span></span>
<span id="cb1256-2"><a href="insights-from-consumer-surveys.html#cb1256-2" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1256-3"><a href="insights-from-consumer-surveys.html#cb1256-3" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="fu">file.path</span>(<span class="st">&quot;downloads&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;ics_good_bad.png&quot;</span>), </span>
<span id="cb1256-4"><a href="insights-from-consumer-surveys.html#cb1256-4" tabindex="-1"></a>       <span class="at">plot =</span> ts_plot, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code></pre></div>
</div>
<div id="conclusion-4" class="section level2 hasAnchor" number="21.8">
<h2><span class="header-section-number">21.8</span> Conclusion<a href="insights-from-consumer-surveys.html#conclusion-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Throughout this chapter, we have explored the Michigan Consumer Survey. This data, collected monthly, offers profound insights into consumers’ attitudes, and can serve as a valuable tool for researchers, economists, investors, and policymakers.</p>
<p>We delved into the three indices generated from this survey data - ICC, ICE, and ICS - and also discussed how to import these indices for further analysis. Beyond these existing indices, we discussed the potential for creating custom indices tailored to specific research interests or sectors of the economy.</p>
<p>An in-depth example of creating a new index from the ground up was presented with a step-by-step guide to replicating the Index of Consumer Sentiment (ICS) from individual-level data. The approach provided can be adjusted to create any index based on any set of questions.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="why-subjective-information-matters.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="insights-from-real-time-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["eda.pdf", "PDF"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
