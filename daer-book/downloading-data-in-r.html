<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Downloading Data in R | Data Analysis for Economic Research</title>
  <meta name="description" content="Chapter 6 Downloading Data in R | Data Analysis for Economic Research" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Downloading Data in R | Data Analysis for Economic Research" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Downloading Data in R | Data Analysis for Economic Research" />
  
  
  

<meta name="author" content="Julian F. Ludwig (Texas Tech University)" />


<meta name="date" content="2023-07-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="importing-data-in-r.html"/>
<link rel="next" href="writing-reports-with-r-markdown.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Module 1: Introduction to RStudio</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="module-i-introduction-to-r-for-economic-research.html"><a href="module-i-introduction-to-r-for-economic-research.html"><i class="fa fa-check"></i><em>Module I: Introduction to R for Economic Research</em></a></li>
<li class="chapter" data-level="1" data-path="software-overview.html"><a href="software-overview.html"><i class="fa fa-check"></i><b>1</b> Software Overview</a></li>
<li class="chapter" data-level="2" data-path="software-installation.html"><a href="software-installation.html"><i class="fa fa-check"></i><b>2</b> Software Installation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="software-installation.html"><a href="software-installation.html#install-r"><i class="fa fa-check"></i><b>2.1</b> Install R</a></li>
<li class="chapter" data-level="2.2" data-path="software-installation.html"><a href="software-installation.html#install-rstudio"><i class="fa fa-check"></i><b>2.2</b> Install RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="software-installation.html"><a href="software-installation.html#install-r-markdown"><i class="fa fa-check"></i><b>2.3</b> Install R Markdown</a></li>
<li class="chapter" data-level="2.4" data-path="software-installation.html"><a href="software-installation.html#install-latex"><i class="fa fa-check"></i><b>2.4</b> Install LaTeX</a></li>
<li class="chapter" data-level="2.5" data-path="software-installation.html"><a href="software-installation.html#install-r-packages"><i class="fa fa-check"></i><b>2.5</b> Install R Packages</a></li>
<li class="chapter" data-level="2.6" data-path="software-installation.html"><a href="software-installation.html#step-test"><i class="fa fa-check"></i><b>2.6</b> 18-Step Test</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rstudio-interface.html"><a href="rstudio-interface.html"><i class="fa fa-check"></i><b>3</b> RStudio Interface</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rstudio-interface.html"><a href="rstudio-interface.html#rstudio-sections"><i class="fa fa-check"></i><b>3.1</b> RStudio Sections</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio-interface.html"><a href="rstudio-interface.html#r-scripts"><i class="fa fa-check"></i><b>3.2</b> R Scripts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html"><i class="fa fa-check"></i><b>4</b> R Data Types and Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#scalar"><i class="fa fa-check"></i><b>4.1</b> Scalar</a></li>
<li class="chapter" data-level="4.2" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#vector"><i class="fa fa-check"></i><b>4.2</b> Vector</a></li>
<li class="chapter" data-level="4.3" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#matrix-matrix"><i class="fa fa-check"></i><b>4.3</b> Matrix (<code>matrix</code>)</a></li>
<li class="chapter" data-level="4.4" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#list-list"><i class="fa fa-check"></i><b>4.4</b> List (<code>list</code>)</a></li>
<li class="chapter" data-level="4.5" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#data-frame-data.frame"><i class="fa fa-check"></i><b>4.5</b> Data Frame (<code>data.frame</code>)</a></li>
<li class="chapter" data-level="4.6" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#tibble"><i class="fa fa-check"></i><b>4.6</b> Tibble (<code>tbl_df</code>)</a></li>
<li class="chapter" data-level="4.7" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#data-table-data.table"><i class="fa fa-check"></i><b>4.7</b> Data Table (<code>data.table</code>)</a></li>
<li class="chapter" data-level="4.8" data-path="r-data-types-and-structures.html"><a href="r-data-types-and-structures.html#xts"><i class="fa fa-check"></i><b>4.8</b> Extensible Time Series (<code>xts</code>)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html"><i class="fa fa-check"></i><b>5</b> Importing Data in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#working-directory"><i class="fa fa-check"></i><b>5.1</b> Working Directory</a></li>
<li class="chapter" data-level="5.2" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#yield-curve"><i class="fa fa-check"></i><b>5.2</b> Yield Curve</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#import-csv-file"><i class="fa fa-check"></i><b>5.2.1</b> Import CSV File</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#plotting-historical-yields"><i class="fa fa-check"></i><b>5.2.2</b> Plotting Historical Yields</a></li>
<li class="chapter" data-level="5.2.3" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#plotting-yield-curve"><i class="fa fa-check"></i><b>5.2.3</b> Plotting Yield Curve</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#michigan-survey"><i class="fa fa-check"></i><b>5.3</b> Michigan Survey</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#import-tsv-file"><i class="fa fa-check"></i><b>5.3.1</b> Import TSV File</a></li>
<li class="chapter" data-level="5.3.2" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#plotting-consumer-indices"><i class="fa fa-check"></i><b>5.3.2</b> Plotting Consumer Indices</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#tealbook"><i class="fa fa-check"></i><b>5.4</b> Tealbook</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#import-excel-workbook"><i class="fa fa-check"></i><b>5.4.1</b> Import Excel Workbook</a></li>
<li class="chapter" data-level="5.4.2" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#nowcast-and-backcast"><i class="fa fa-check"></i><b>5.4.2</b> Nowcast and Backcast</a></li>
<li class="chapter" data-level="5.4.3" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#information-date-and-realization-date"><i class="fa fa-check"></i><b>5.4.3</b> Information Date and Realization Date</a></li>
<li class="chapter" data-level="5.4.4" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#plotting-forecasts"><i class="fa fa-check"></i><b>5.4.4</b> Plotting Forecasts</a></li>
<li class="chapter" data-level="5.4.5" data-path="importing-data-in-r.html"><a href="importing-data-in-r.html#plotting-forecast-errors"><i class="fa fa-check"></i><b>5.4.5</b> Plotting Forecast Errors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html"><i class="fa fa-check"></i><b>6</b> Downloading Data in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html#web-api"><i class="fa fa-check"></i><b>6.1</b> Web API</a></li>
<li class="chapter" data-level="6.2" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html#using-getsymbols"><i class="fa fa-check"></i><b>6.2</b> Using <code>getSymbols()</code></a></li>
<li class="chapter" data-level="6.3" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html#using-quandl"><i class="fa fa-check"></i><b>6.3</b> Using <code>Quandl()</code></a></li>
<li class="chapter" data-level="6.4" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html#saving-data"><i class="fa fa-check"></i><b>6.4</b> Saving Data</a></li>
<li class="chapter" data-level="6.5" data-path="downloading-data-in-r.html"><a href="downloading-data-in-r.html#summary-and-resources"><i class="fa fa-check"></i><b>6.5</b> Summary and Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>7</b> Writing Reports with R Markdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#creating-an-r-markdown-document"><i class="fa fa-check"></i><b>7.1</b> Creating an R Markdown Document</a></li>
<li class="chapter" data-level="7.2" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>7.2</b> YAML Header</a></li>
<li class="chapter" data-level="7.3" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#markdown-syntax"><i class="fa fa-check"></i><b>7.3</b> Markdown Syntax</a></li>
<li class="chapter" data-level="7.4" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#r-chunks"><i class="fa fa-check"></i><b>7.4</b> R Chunks</a></li>
<li class="chapter" data-level="7.5" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#embedding-r-variables-into-text"><i class="fa fa-check"></i><b>7.5</b> Embedding R Variables into Text</a></li>
<li class="chapter" data-level="7.6" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#latex-syntax-for-math"><i class="fa fa-check"></i><b>7.6</b> LaTeX Syntax for Math</a></li>
<li class="chapter" data-level="7.7" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#printing-tables"><i class="fa fa-check"></i><b>7.7</b> Printing Tables</a></li>
<li class="chapter" data-level="7.8" data-path="writing-reports-with-r-markdown.html"><a href="writing-reports-with-r-markdown.html#summary-and-resources-1"><i class="fa fa-check"></i><b>7.8</b> Summary and Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="learning-r-with-datacamp.html"><a href="learning-r-with-datacamp.html"><i class="fa fa-check"></i><b>8</b> Learning R with DataCamp</a>
<ul>
<li class="chapter" data-level="8.1" data-path="learning-r-with-datacamp.html"><a href="learning-r-with-datacamp.html#preparing-for-the-course"><i class="fa fa-check"></i><b>8.1</b> Preparing for the Course</a></li>
<li class="chapter" data-level="8.2" data-path="learning-r-with-datacamp.html"><a href="learning-r-with-datacamp.html#xp-system-and-course-completion"><i class="fa fa-check"></i><b>8.2</b> XP System and Course Completion</a></li>
<li class="chapter" data-level="8.3" data-path="learning-r-with-datacamp.html"><a href="learning-r-with-datacamp.html#developing-your-skills"><i class="fa fa-check"></i><b>8.3</b> Developing Your Skills</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-report-on-yield-curve.html"><a href="data-report-on-yield-curve.html"><i class="fa fa-check"></i><b>9</b> Data Report on Yield Curve</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-report-on-yield-curve.html"><a href="data-report-on-yield-curve.html#preparations"><i class="fa fa-check"></i><b>9.1</b> Preparations</a></li>
<li class="chapter" data-level="9.2" data-path="data-report-on-yield-curve.html"><a href="data-report-on-yield-curve.html#data-guidelines"><i class="fa fa-check"></i><b>9.2</b> Data Guidelines</a></li>
<li class="chapter" data-level="9.3" data-path="data-report-on-yield-curve.html"><a href="data-report-on-yield-curve.html#r-markdown-guidelines"><i class="fa fa-check"></i><b>9.3</b> R Markdown Guidelines</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="module-ii-traditional-economic-indicators.html"><a href="module-ii-traditional-economic-indicators.html"><i class="fa fa-check"></i><em>Module II: Traditional Economic Indicators</em></a></li>
<li class="chapter" data-level="10" data-path="economic-performance-indicators.html"><a href="economic-performance-indicators.html"><i class="fa fa-check"></i><b>10</b> Economic Performance Indicators</a></li>
<li class="chapter" data-level="11" data-path="time-series-comparison-of-economic-indicators.html"><a href="time-series-comparison-of-economic-indicators.html"><i class="fa fa-check"></i><b>11</b> Time-Series Comparison of Economic Indicators</a></li>
<li class="chapter" data-level="12" data-path="cross-sectional-comparison-of-economic-indicators.html"><a href="cross-sectional-comparison-of-economic-indicators.html"><i class="fa fa-check"></i><b>12</b> Cross-Sectional Comparison of Economic Indicators</a></li>
<li class="chapter" data-level="13" data-path="data-report-on-traditional-economic-indicators.html"><a href="data-report-on-traditional-economic-indicators.html"><i class="fa fa-check"></i><b>13</b> Data Report on Traditional Economic Indicators</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-report-on-traditional-economic-indicators.html"><a href="data-report-on-traditional-economic-indicators.html#preparations-2"><i class="fa fa-check"></i><b>13.1</b> Preparations</a></li>
<li class="chapter" data-level="13.2" data-path="data-report-on-traditional-economic-indicators.html"><a href="data-report-on-traditional-economic-indicators.html#data-guidelines-2"><i class="fa fa-check"></i><b>13.2</b> Data Guidelines</a></li>
<li class="chapter" data-level="13.3" data-path="data-report-on-traditional-economic-indicators.html"><a href="data-report-on-traditional-economic-indicators.html#r-markdown-guidelines-2"><i class="fa fa-check"></i><b>13.3</b> R Markdown Guidelines</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="module-iii-survey--and-text-based-economic-indicators.html"><a href="module-iii-survey--and-text-based-economic-indicators.html"><i class="fa fa-check"></i><em>Module III: Survey- and Text-Based Economic Indicators</em></a></li>
<li class="chapter" data-level="14" data-path="why-subjective-information-matters.html"><a href="why-subjective-information-matters.html"><i class="fa fa-check"></i><b>14</b> Why Subjective Information Matters</a></li>
<li class="chapter" data-level="15" data-path="michigan-consumer-survey.html"><a href="michigan-consumer-survey.html"><i class="fa fa-check"></i><b>15</b> Michigan Consumer Survey</a></li>
<li class="chapter" data-level="16" data-path="real-time-and-forecaster-data.html"><a href="real-time-and-forecaster-data.html"><i class="fa fa-check"></i><b>16</b> Real-Time and Forecaster Data</a></li>
<li class="chapter" data-level="17" data-path="text-based-economic-indicators.html"><a href="text-based-economic-indicators.html"><i class="fa fa-check"></i><b>17</b> Text-Based Economic Indicators</a></li>
<li class="chapter" data-level="18" data-path="data-report-on-survey--and-text-based-economic-indicators.html"><a href="data-report-on-survey--and-text-based-economic-indicators.html"><i class="fa fa-check"></i><b>18</b> Data Report on Survey- and Text-Based Economic Indicators</a>
<ul>
<li class="chapter" data-level="18.1" data-path="data-report-on-survey--and-text-based-economic-indicators.html"><a href="data-report-on-survey--and-text-based-economic-indicators.html#preparations-3"><i class="fa fa-check"></i><b>18.1</b> Preparations</a></li>
<li class="chapter" data-level="18.2" data-path="data-report-on-survey--and-text-based-economic-indicators.html"><a href="data-report-on-survey--and-text-based-economic-indicators.html#data-guidelines-3"><i class="fa fa-check"></i><b>18.2</b> Data Guidelines</a></li>
<li class="chapter" data-level="18.3" data-path="data-report-on-survey--and-text-based-economic-indicators.html"><a href="data-report-on-survey--and-text-based-economic-indicators.html#r-markdown-guidelines-3"><i class="fa fa-check"></i><b>18.3</b> R Markdown Guidelines</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis for Economic Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="downloading-data-in-r" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Downloading Data in R<a href="downloading-data-in-r.html#downloading-data-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>If your computer is connected to the internet, you can directly download data within R, bypassing the need to download data files and import the data in R as described in Chapter <a href="importing-data-in-r.html#importing-data-in-r">5</a>. This chapter focuses on how to download (and save) financial and economic data in R using an Application Programming Interface (API). Primarily, we’ll be using two web APIs: <code>getSymbols()</code> from the <code>quantmod</code> package and <code>Quandl()</code> from the <code>Quandl</code> package.</p>
<div id="web-api" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Web API<a href="downloading-data-in-r.html#web-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A <a href="https://en.wikipedia.org/wiki/Web_API">Web API</a> or Application Programming Interface is a tool that allows software applications to communicate with each other. It enables users to download or upload data from or to a server.</p>
<p>There are several economic databases that provide web APIs:</p>
<ul>
<li>International Monetary Fund (IMF) data can be downloaded in R directly through the <a href="https://cran.r-project.org/web/packages/imfr/imfr.pdf"><code>imfr</code></a> package</li>
<li>Bank for International Settlements (BIS) data can be accessed using the <a href="https://cran.r-project.org/web/packages/BIS/vignettes/BIS.html"><code>BIS</code></a> package</li>
<li>Organization for Economic Co-operation and Development (OECD) data is available through the <a href="https://cran.r-project.org/web/packages/OECD/OECD.pdf"><code>OECD</code></a> package</li>
</ul>
<p>You can find more APIs for specific databases by searching “<em>r web api name_of_database</em>” in Google.</p>
</div>
<div id="using-getsymbols" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Using <code>getSymbols()</code><a href="downloading-data-in-r.html#using-getsymbols" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>getSymbols()</code> function, part of the <code>quantmod</code> package, enables access to various data sources.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="downloading-data-in-r.html#cb193-1" tabindex="-1"></a><span class="co"># Load the quantmod package</span></span>
<span id="cb193-2"><a href="downloading-data-in-r.html#cb193-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;quantmod&quot;</span>)</span>
<span id="cb193-3"><a href="downloading-data-in-r.html#cb193-3" tabindex="-1"></a></span>
<span id="cb193-4"><a href="downloading-data-in-r.html#cb193-4" tabindex="-1"></a><span class="co"># Download Apple stock prices from Yahoo Finance</span></span>
<span id="cb193-5"><a href="downloading-data-in-r.html#cb193-5" tabindex="-1"></a>AAPL_stock_price <span class="ot">&lt;-</span> <span class="fu">getSymbols</span>(</span>
<span id="cb193-6"><a href="downloading-data-in-r.html#cb193-6" tabindex="-1"></a>  <span class="at">Symbols =</span> <span class="st">&quot;AAPL&quot;</span>,</span>
<span id="cb193-7"><a href="downloading-data-in-r.html#cb193-7" tabindex="-1"></a>  <span class="at">src =</span> <span class="st">&quot;yahoo&quot;</span>,</span>
<span id="cb193-8"><a href="downloading-data-in-r.html#cb193-8" tabindex="-1"></a>  <span class="at">auto.assign =</span> <span class="cn">FALSE</span>,</span>
<span id="cb193-9"><a href="downloading-data-in-r.html#cb193-9" tabindex="-1"></a>  <span class="at">return.class =</span> <span class="st">&quot;xts&quot;</span>)</span>
<span id="cb193-10"><a href="downloading-data-in-r.html#cb193-10" tabindex="-1"></a></span>
<span id="cb193-11"><a href="downloading-data-in-r.html#cb193-11" tabindex="-1"></a><span class="co"># Display the most recent downloaded stock prices</span></span>
<span id="cb193-12"><a href="downloading-data-in-r.html#cb193-12" tabindex="-1"></a><span class="fu">tail</span>(AAPL_stock_price)</span></code></pre></div>
<pre><code>##            AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume AAPL.Adjusted
## 2023-06-26    186.83    188.05   185.23     185.27    48088700        185.27
## 2023-06-27    185.89    188.39   185.67     188.06    50730800        188.06
## 2023-06-28    187.93    189.90   187.60     189.25    51216800        189.25
## 2023-06-29    189.08    190.07   188.94     189.59    46347300        189.59
## 2023-06-30    191.63    194.48   191.26     193.97    85069600        193.97
## 2023-07-03    193.78    193.88   191.76     192.46    31458200        192.46</code></pre>
<p>The arguments in this context are:</p>
<ul>
<li><code>Symbols</code>: Specifies the instrument to import. This could be a stock ticker symbol, exchange rate, economic data series, or any other identifier.</li>
<li><code>auto.assign</code>: When set to FALSE, data must be assigned to an object (here, <code>AAPL_stock_price</code>). If not set to FALSE, the data is automatically assigned to the <code>Symbols</code> input (in this case, <code>AAPL</code>).</li>
<li><code>return.class</code>: Determines the type of data object returned, e.g., <code>ts</code>, <code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.</li>
<li><code>src</code>: Denotes the data source from which the symbol originates. Some examples include “yahoo” for Yahoo! Finance, “google” for Google Finance, “FRED” for Federal Reserve Economic Data, and “oanda” for Oanda foreign exchange rates.</li>
</ul>
<p>To find the correct symbol for financial data from <strong>Yahoo! Finance</strong>, visit <a href="https://finance.yahoo.com">finance.yahoo.com</a> and search for the company of interest, e.g., Apple. The symbol is the series of letters inside parentheses. For example, for <code>Apple Inc. (AAPL)</code>, use <code>Symbols = "AAPL"</code> (and <code>src = "yahoo"</code>). Yahoo! Finance provides stock price data in various columns, such as <code>AAPL.Open</code>, <code>AAPL.High</code>, <code>AAPL.Low</code>, <code>AAPL.Close</code>, <code>AAPL.Volume</code>, and <code>AAPL.Adjusted</code>. These values represent the opening, highest, lowest, and closing prices for a given market day, the trade volume for that day, and the adjusted value, which accounts for stock splits. Typically, the <code>AAPL.Adjusted</code> column is of most interest.</p>
<p>For economic data from <strong>FRED</strong>, visit <a href="https://fred.stlouisfed.org">fred.stlouisfed.org</a>, and search for the data series of interest, e.g., unemployment rate. Click on one of the suggested data series. The symbol is the series of letters inside parentheses. For example, for <code>Unemployment Rate (UNRATE)</code>, use <code>Symbols = "UNRATE"</code> (and <code>src = "FRED"</code>).</p>
<p>The downloaded data is returned as an <code>xts</code> object, a format we discuss in Chapter <a href="r-data-types-and-structures.html#xts">4.8</a>. Let’s visualize the Apple stock prices using the <code>plot()</code> function:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="downloading-data-in-r.html#cb195-1" tabindex="-1"></a><span class="co"># Extract adjusted Apple share price</span></span>
<span id="cb195-2"><a href="downloading-data-in-r.html#cb195-2" tabindex="-1"></a>AAPL_stock_price_adj <span class="ot">&lt;-</span> <span class="fu">Ad</span>(AAPL_stock_price)</span>
<span id="cb195-3"><a href="downloading-data-in-r.html#cb195-3" tabindex="-1"></a></span>
<span id="cb195-4"><a href="downloading-data-in-r.html#cb195-4" tabindex="-1"></a><span class="co"># Plot adjusted Apple share price</span></span>
<span id="cb195-5"><a href="downloading-data-in-r.html#cb195-5" tabindex="-1"></a><span class="fu">plot</span>(AAPL_stock_price_adj, <span class="at">main =</span> <span class="st">&quot;Apple Share Price&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:apple-stock-price"></span>
<img src="index_files/figure-html/apple-stock-price-1.png" alt="Apple Share Price" width="80%" />
<p class="caption">
Figure 6.1: Apple Share Price
</p>
</div>
<p>Observe that this plot differs from those created in previous chapters where data was stored as a tibble (<code>tbl_df</code>) object. This discrepancy arises because <code>plot()</code> is a <strong>wrapper function</strong>, changing its behavior based on the type of object used. As <code>xts</code> is a time series object, the <code>plot()</code> function when applied to an <code>xts</code> object is optimized for visualizing time series data. Therefore, it’s no longer necessary to specify it as a line plot (<code>type = "l"</code>), as most time series are visualized with lines. To explicitly use the <code>xts</code> type <code>plot()</code> function, you can use the <code>plot.xts()</code> function, which behaves identically as long as the input object is an <code>xts</code> object. If not, the function will attempt to convert the object first.</p>
<p>As we’ve explored in Chapter <a href="r-data-types-and-structures.html#xts">4.8</a>, an <code>xts</code> object is an enhancement of the <code>zoo</code> object, offering more features. My personal preference leans towards the <code>zoo</code> variant of <code>plot()</code>, <code>plot.zoo()</code>, over <code>plot.xts()</code> because it operates more similarly to how <code>plot()</code> does when applied to data frames. To utilize <code>plot.zoo()</code>, apply it to the <code>xts</code> object like so:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="downloading-data-in-r.html#cb196-1" tabindex="-1"></a><span class="co"># Plot adjusted Apple share price using plot.zoo()</span></span>
<span id="cb196-2"><a href="downloading-data-in-r.html#cb196-2" tabindex="-1"></a><span class="fu">plot.zoo</span>(AAPL_stock_price_adj, </span>
<span id="cb196-3"><a href="downloading-data-in-r.html#cb196-3" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">&quot;Apple Share Price&quot;</span>,</span>
<span id="cb196-4"><a href="downloading-data-in-r.html#cb196-4" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;USD&quot;</span>)</span></code></pre></div>
<p>In this context, the inputs are as follows:</p>
<ul>
<li><code>AAPL_stock_price_adj</code> is the <code>xts</code> object containing Apple Inc.’s adjusted stock prices, compatible with <code>plot.zoo()</code> thanks to <code>xts</code>’s extension of <code>zoo</code>.</li>
<li><code>main</code> sets the plot’s title, in this case, “Apple Share Price”.</li>
<li><code>xlab</code> and <code>ylab</code> respectively label the x-axis as “Date” and the y-axis as “USD”, denoting stock prices in U.S. dollars.</li>
</ul>
<p>The usage of <code>plot.zoo()</code> provides a more intuitive plotting method for some users, replicating <code>plot()</code>’s behavior with data frames more closely compared to <code>plot.xts()</code>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:apple-stock-price-zoo"></span>
<img src="index_files/figure-html/apple-stock-price-zoo-1.png" alt="Apple Share Price Visualized with plot.zoo()" width="80%" />
<p class="caption">
Figure 6.2: Apple Share Price Visualized with plot.zoo()
</p>
</div>
<p>The resulting plot, shown in Figure <a href="downloading-data-in-r.html#fig:apple-stock-price-zoo">6.2</a>, visualizes the Apple share prices over the last two decades. Stock prices often exhibit exponential growth over time, meaning the value increases at a rate proportional to its current value. As such, even large percentage changes early in a stock’s history may appear minor due to a lower initial price. Conversely, smaller percentage changes at later stages can seem more significant due to a higher price level. This perspective can distort the perception of a stock’s historical volatility, making past changes appear smaller than they were. To more accurately represent these proportionate changes, many analysts prefer using logarithmic scales when visualizing stock price data:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="downloading-data-in-r.html#cb197-1" tabindex="-1"></a><span class="co"># Compute the natural logarithm (log) of Apple share price</span></span>
<span id="cb197-2"><a href="downloading-data-in-r.html#cb197-2" tabindex="-1"></a>log_AAPL_stock_price_adj <span class="ot">&lt;-</span> <span class="fu">log</span>(AAPL_stock_price_adj)</span>
<span id="cb197-3"><a href="downloading-data-in-r.html#cb197-3" tabindex="-1"></a></span>
<span id="cb197-4"><a href="downloading-data-in-r.html#cb197-4" tabindex="-1"></a><span class="co"># Plot log share price</span></span>
<span id="cb197-5"><a href="downloading-data-in-r.html#cb197-5" tabindex="-1"></a><span class="fu">plot.zoo</span>(log_AAPL_stock_price_adj, </span>
<span id="cb197-6"><a href="downloading-data-in-r.html#cb197-6" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">&quot;Logarithm of Apple Share Price&quot;</span>,</span>
<span id="cb197-7"><a href="downloading-data-in-r.html#cb197-7" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Log of USD Price&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:log-apple-stock-price"></span>
<img src="index_files/figure-html/log-apple-stock-price-1.png" alt="Logarithm of Apple Share Price" width="80%" />
<p class="caption">
Figure 6.3: Logarithm of Apple Share Price
</p>
</div>
<p>Figure <a href="downloading-data-in-r.html#fig:log-apple-stock-price">6.3</a> displays the natural logarithm of the Apple share prices. This transformation is beneficial because it linearizes the exponential growth in the stock prices, with the slope of the line corresponding to the rate of growth. More importantly, changes in the logarithm of the price correspond directly to percentage changes in the price itself. For example, if the log price increases by 0.01, this equates to a 1% increase in the original price. This property allows for a direct comparison of price changes over time, making it easier to interpret and understand the magnitude of these changes in terms of relative growth or decline.</p>
</div>
<div id="using-quandl" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Using <code>Quandl()</code><a href="downloading-data-in-r.html#using-quandl" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://data.nasdaq.com">Quandl</a> is a data service that provides access to many financial and economic data sets from various providers. It has been acquired by <a href="https://data.nasdaq.com">Nasdaq Data Link</a> and is now operating through the Nasdaq data website: <a href="https://data.nasdaq.com">data.nasdaq.com</a>. Some data sets require a paid subscription, while others can be accessed for free. Quandl provides an API that allows you to import data from a wide variety of languages, including Excel, Python, and R.</p>
<p>To use Quandl, first get a free Nasdaq Data Link API key at <a href="https://data.nasdaq.com/sign-up">data.nasdaq.com/sign-up</a>. After that, install and load the Quandl package, and provide the API key with the function <code>Quandl.api_key()</code>:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="downloading-data-in-r.html#cb198-1" tabindex="-1"></a><span class="co"># Load Quandl package</span></span>
<span id="cb198-2"><a href="downloading-data-in-r.html#cb198-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;Quandl&quot;</span>)</span>
<span id="cb198-3"><a href="downloading-data-in-r.html#cb198-3" tabindex="-1"></a></span>
<span id="cb198-4"><a href="downloading-data-in-r.html#cb198-4" tabindex="-1"></a><span class="co"># Provide API key</span></span>
<span id="cb198-5"><a href="downloading-data-in-r.html#cb198-5" tabindex="-1"></a>api_quandl <span class="ot">&lt;-</span> <span class="st">&quot;CbtuSe8kyR_8qPgehZw3&quot;</span>  <span class="co"># Replace this with your API key</span></span>
<span id="cb198-6"><a href="downloading-data-in-r.html#cb198-6" tabindex="-1"></a><span class="fu">Quandl.api_key</span>(api_quandl)</span></code></pre></div>
<p>Then, you can download data using <code>Quandl()</code>:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="downloading-data-in-r.html#cb199-1" tabindex="-1"></a><span class="co"># Download crude oil prices from Nasdaq Data Link</span></span>
<span id="cb199-2"><a href="downloading-data-in-r.html#cb199-2" tabindex="-1"></a>OPEC_oil_price <span class="ot">&lt;-</span> <span class="fu">Quandl</span>(<span class="at">code =</span> <span class="st">&quot;OPEC/ORB&quot;</span>, <span class="at">type =</span> <span class="st">&quot;xts&quot;</span>)</span>
<span id="cb199-3"><a href="downloading-data-in-r.html#cb199-3" tabindex="-1"></a></span>
<span id="cb199-4"><a href="downloading-data-in-r.html#cb199-4" tabindex="-1"></a><span class="co"># Display the downloaded crude oil prices</span></span>
<span id="cb199-5"><a href="downloading-data-in-r.html#cb199-5" tabindex="-1"></a><span class="fu">tail</span>(OPEC_oil_price)</span></code></pre></div>
<pre><code>##             [,1]
## 2023-06-26 74.65
## 2023-06-27 75.15
## 2023-06-28 74.38
## 2023-06-29 74.34
## 2023-06-30 76.14
## 2023-07-03 76.12</code></pre>
<p>Here, the <code>code</code> argument refers to both the data source and the symbol in the format “<code>source/symbol</code>”. The <code>type</code> argument specifies the type of data object: <code>data.frame</code>, <code>xts</code>, <code>zoo</code>, <code>ts</code>, or <code>timeSeries</code>.</p>
<p>To find the correct code for the Quandl function, visit <a href="https://data.nasdaq.com">data.nasdaq.com</a>, and search for the data series of interest (e.g., oil price). The code is the series of letters listed in the left column, structured like this: <code>.../...</code>, where <code>...</code> are letters. For example, for the OPEC crude oil price, use <code>code = "OPEC/ORB"</code>.</p>
<p>Now, we’ll use the <code>plot.zoo()</code> function to graph the crude oil price:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="downloading-data-in-r.html#cb201-1" tabindex="-1"></a><span class="co"># Plot crude oil prices</span></span>
<span id="cb201-2"><a href="downloading-data-in-r.html#cb201-2" tabindex="-1"></a><span class="fu">plot.zoo</span>(OPEC_oil_price,</span>
<span id="cb201-3"><a href="downloading-data-in-r.html#cb201-3" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">&quot;OPEC Crude Oil Price&quot;</span>, </span>
<span id="cb201-4"><a href="downloading-data-in-r.html#cb201-4" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, </span>
<span id="cb201-5"><a href="downloading-data-in-r.html#cb201-5" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;USD per Barrel (159 Litres)&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:oil-price"></span>
<img src="index_files/figure-html/oil-price-1.png" alt="OPEC Crude Oil Price" width="80%" />
<p class="caption">
Figure 6.4: OPEC Crude Oil Price
</p>
</div>
<p>Figure <a href="downloading-data-in-r.html#fig:oil-price">6.4</a> displays the OPEC crude oil prices over the last two decades. While stock prices often exhibit long-term exponential growth due to company expansions and increasing profits, oil prices don’t inherently follow the same pattern. The primary drivers of oil prices are supply and demand dynamics, shaped by a myriad of factors such as geopolitical events, production changes, advancements in technology, environmental policies, and shifts in global economic conditions. Oil prices, as a result, can undergo substantial fluctuations, exhibiting high volatility with periods of significant booms and busts, rather than consistent exponential growth.</p>
<p>Visualizing oil prices over time can benefit from the use of a logarithmic scale:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="downloading-data-in-r.html#cb202-1" tabindex="-1"></a><span class="co"># Compute the natural logarithm (log) of crude oil prices</span></span>
<span id="cb202-2"><a href="downloading-data-in-r.html#cb202-2" tabindex="-1"></a>log_OPEC_oil_price <span class="ot">&lt;-</span> <span class="fu">log</span>(OPEC_oil_price)</span>
<span id="cb202-3"><a href="downloading-data-in-r.html#cb202-3" tabindex="-1"></a></span>
<span id="cb202-4"><a href="downloading-data-in-r.html#cb202-4" tabindex="-1"></a><span class="co"># Plot log crude oil prices</span></span>
<span id="cb202-5"><a href="downloading-data-in-r.html#cb202-5" tabindex="-1"></a><span class="fu">plot.zoo</span>(log_OPEC_oil_price, </span>
<span id="cb202-6"><a href="downloading-data-in-r.html#cb202-6" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">&quot;Logarithm of OPEC Crude Oil Price&quot;</span>,</span>
<span id="cb202-7"><a href="downloading-data-in-r.html#cb202-7" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, </span>
<span id="cb202-8"><a href="downloading-data-in-r.html#cb202-8" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Log of USD per Barrel (159 Litres)&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:log-oil-price"></span>
<img src="index_files/figure-html/log-oil-price-1.png" alt="Logarithm of OPEC Crude Oil Price" width="80%" />
<p class="caption">
Figure 6.5: Logarithm of OPEC Crude Oil Price
</p>
</div>
<p>The natural logarithm of crude oil price, depicted in Figure <a href="downloading-data-in-r.html#fig:log-oil-price">6.5</a>, offers a clearer view of relative changes over time. It does this by rescaling the data such that equivalent percentage changes align to the same distance on the scale, regardless of the actual price level at which they occur. This transformation means a change in the log value can be read directly as a percentage change in price. So, a decrease of 0.01 in the log price corresponds to a 1% decrease in the actual price, whether the initial price was $10, $100, or any other value. This makes the data more intuitive and straightforward to interpret, particularly when tracking price trends and volatility across various periods.</p>
</div>
<div id="saving-data" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Saving Data<a href="downloading-data-in-r.html#saving-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After downloading the data, you can save it in the <code>RData</code> format, which is R’s default data format:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="downloading-data-in-r.html#cb203-1" tabindex="-1"></a><span class="co"># Save data object as an RData file</span></span>
<span id="cb203-2"><a href="downloading-data-in-r.html#cb203-2" tabindex="-1"></a><span class="fu">save</span>(AAPL_stock_price, <span class="at">file =</span> <span class="st">&quot;AAPL.RData&quot;</span>)</span></code></pre></div>
<p>Once saved, <code>AAPL_stock_price</code> can be loaded into a different R session using the <code>load()</code> function:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="downloading-data-in-r.html#cb204-1" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">&quot;AAPL.RData&quot;</span>)</span></code></pre></div>
<p>This function creates an <code>xts</code> object named <code>AAPL_stock_price</code>, identical to the one we saved earlier.</p>
<p>For wider accessibility, especially for those not using R, the data can be saved as CSV, TSV, or Excel files:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="downloading-data-in-r.html#cb205-1" tabindex="-1"></a><span class="co"># Load necessary packages</span></span>
<span id="cb205-2"><a href="downloading-data-in-r.html#cb205-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;readr&quot;</span>)  <span class="co"># For write_csv(), write_tsv(), and write_delim()</span></span>
<span id="cb205-3"><a href="downloading-data-in-r.html#cb205-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;readxl&quot;</span>) <span class="co"># For write_excel_csv()</span></span>
<span id="cb205-4"><a href="downloading-data-in-r.html#cb205-4" tabindex="-1"></a></span>
<span id="cb205-5"><a href="downloading-data-in-r.html#cb205-5" tabindex="-1"></a><span class="co"># Convert the xts object to a data frame for saving</span></span>
<span id="cb205-6"><a href="downloading-data-in-r.html#cb205-6" tabindex="-1"></a>AAPL_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(AAPL_stock_price)</span>
<span id="cb205-7"><a href="downloading-data-in-r.html#cb205-7" tabindex="-1"></a></span>
<span id="cb205-8"><a href="downloading-data-in-r.html#cb205-8" tabindex="-1"></a><span class="co"># The date index, currently saved as row names, should be moved into a separate column</span></span>
<span id="cb205-9"><a href="downloading-data-in-r.html#cb205-9" tabindex="-1"></a>AAPL_df<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">rownames</span>(AAPL_df)</span>
<span id="cb205-10"><a href="downloading-data-in-r.html#cb205-10" tabindex="-1"></a></span>
<span id="cb205-11"><a href="downloading-data-in-r.html#cb205-11" tabindex="-1"></a><span class="co"># Position the date column first</span></span>
<span id="cb205-12"><a href="downloading-data-in-r.html#cb205-12" tabindex="-1"></a>AAPL_df <span class="ot">&lt;-</span> AAPL_df[, <span class="fu">c</span>(<span class="fu">ncol</span>(AAPL_df), </span>
<span id="cb205-13"><a href="downloading-data-in-r.html#cb205-13" tabindex="-1"></a>                       <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(AAPL_df) <span class="sc">-</span> <span class="dv">1</span>))]</span>
<span id="cb205-14"><a href="downloading-data-in-r.html#cb205-14" tabindex="-1"></a></span>
<span id="cb205-15"><a href="downloading-data-in-r.html#cb205-15" tabindex="-1"></a><span class="co"># Save data in various formats</span></span>
<span id="cb205-16"><a href="downloading-data-in-r.html#cb205-16" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="at">x =</span> AAPL_df, <span class="at">file =</span> <span class="st">&quot;AAPL.csv&quot;</span>, <span class="at">na =</span> <span class="st">&quot;NA&quot;</span>)</span>
<span id="cb205-17"><a href="downloading-data-in-r.html#cb205-17" tabindex="-1"></a><span class="fu">write_tsv</span>(<span class="at">x =</span> AAPL_df, <span class="at">file =</span> <span class="st">&quot;AAPL.txt&quot;</span>, <span class="at">na =</span> <span class="st">&quot;MISSING&quot;</span>)</span>
<span id="cb205-18"><a href="downloading-data-in-r.html#cb205-18" tabindex="-1"></a><span class="fu">write_delim</span>(<span class="at">x =</span> AAPL_df, <span class="at">file =</span> <span class="st">&quot;AAPL.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb205-19"><a href="downloading-data-in-r.html#cb205-19" tabindex="-1"></a><span class="fu">write_excel_csv</span>(<span class="at">x =</span> AAPL_df, <span class="at">file =</span> <span class="st">&quot;AAPL.xlsx&quot;</span>, <span class="at">na =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>These examples demonstrate how to save the <code>AAPL_df</code> data in:</p>
<ol style="list-style-type: decimal">
<li>CSV format, where missing values are labeled as NA (default).</li>
<li>TSV format, where missing values are labeled as MISSING.</li>
<li>A custom format with “;” as the delimiter.</li>
<li>Excel format, with missing cells left blank.</li>
</ol>
<p>To save the file in a directory other than your current working directory (which can be determined using <code>getwd()</code>), replace <code>"AAPL.csv"</code> with the full path. For instance, you might use <code>file = "/Users/yourname/folder/AAPL.csv"</code>.</p>
<p>Refer to Chapter <a href="importing-data-in-r.html#importing-data-in-r">5</a> for guidance on importing these CSV, TSV, and Excel data files into R.</p>
<p>For more in-depth understanding and examples, consider taking DataCamp’s <a href="https://learn.datacamp.com/courses/introduction-to-importing-data-in-r">Introduction to Importing Data in R</a> course.</p>
</div>
<div id="summary-and-resources" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Summary and Resources<a href="downloading-data-in-r.html#summary-and-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter has provided insights into multiple ways of downloading and saving data using various APIs. We specifically focused on the use of <code>getSymbols()</code> and <code>Quandl()</code> for downloading financial and economic data directly within R, then saving the data in different formats for future use.</p>
<p>To further enhance your knowledge and skills in working with data in R, consider the following <a href="https://learn.datacamp.com/">DataCamp</a> courses:</p>
<ul>
<li><a href="https://learn.datacamp.com/courses/importing-and-managing-financial-data-in-r">Importing and Managing Financial Data in R</a>: Gain a solid understanding of how to import and manage financial data in R.</li>
<li><a href="https://learn.datacamp.com/courses/intermediate-importing-data-in-r">Intermediate Importing Data in R</a>: Build upon your data importing skills and learn how to handle larger and more complex datasets.</li>
<li><a href="https://learn.datacamp.com/courses/working-with-web-data-in-r">Working with Web Data in R</a>: Learn to process and analyze data from the web using R.</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-reports-with-r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
